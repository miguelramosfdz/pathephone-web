{"version":3,"sources":["components/FeedAlbum/FeedAlbum.module.css","contexts/ServicesContext.js","contexts/LocaleStringsContext.js","components/App/AppLoadingScreen.jsx","data/errors/LonelyConsumerError.js","hooks/useContextStrict.js","hooks/usePromiseEffect.js","components/PlayerScreen/PlayerScreenWrapper.jsx","icons/round-menu-24px.svg","icons/round-menu.js","icons/round-search-24px.svg","icons/round-search.js","data/routes.js","components/PlayerNavigation/PlayerNavigationComponents.jsx","hooks/useOutsideClick.js","components/OutsideClickDetector.jsx","containers/PlayerNavigationContainer.jsx","components/SearchBar/SearchBarWrapper.jsx","components/SearchBar/SearchBarInput.jsx","icons/round-clear-24px.svg","icons/round-clear.js","components/SearchBar/SearchBarForm.jsx","components/SquareButton/SquareButtonComponents.jsx","containers/SearchBarContainer.jsx","hooks/useKeyUp.js","components/Flex/FlexComponents.jsx","components/FixedPanel/FixedPanelComponents.jsx","containers/HeaderContainer.jsx","components/AlbumsFeed/AlbumsFeedWrapper.jsx","components/FeedAlbum/FeedAlbumWrapper.jsx","components/FeedAlbum/FeedAlbumCover.jsx","components/FeedAlbum/FeedAlbumTitle.jsx","components/FeedAlbum/FeedAlbumArtist.jsx","components/FeedAlbum/FeedAlbumInfo.jsx","contexts/PlayerContext.js","icons/round-play_arrow-24px.svg","icons/round-play-arrow.js","icons/round-playlist_add-24px.svg","icons/round-playlist_add.js","components/FeedAlbum/FeedAlbumActions.jsx","components/FeedAlbum/FeedAlbumAction.jsx","containers/FeedAlbumContainer.jsx","components/Page/PageWrapper.jsx","containers/pages/LatestAlbumsPageContainer.jsx","containers/pages/SearchAlbumsPageContainer.jsx","utils/getUniqueString.js","data/fileTypes.js","data/models.js","utils/getAlbumFormDataFromFiles.js","components/ShareAlbumPage/AlbumDropZone.jsx","utils/delayPromise.js","components/Card/CardComponents.jsx","components/AlbumForm/AlbumFormComponents.jsx","components/CustomTextInput/CustomTextInputComponents.jsx","components/AlbumCoverInput/AlbumCoverInputComponents.jsx","icons/round-album-24px.svg","icons/round-album.js","containers/pages/ShareAlbumPage/AlbumForm/CoverInputContainer.jsx","components/TrackInputs/TrackInputsComponents.jsx","icons/round-keyboard_arrow_up-24px.svg","icons/round-keyboard_arrow_up.js","icons/round-keyboard_arrow_down-24px.svg","icons/round-keyboard_arrow_down.js","containers/pages/ShareAlbumPage/AlbumForm/renderTrackInputs.jsx","containers/pages/ShareAlbumPage/AlbumForm/renderArtistInput.jsx","utils/getTrackFormDataFromFile.js","components/AlbumTracksInput/AlbumTracksInputComponents.jsx","containers/pages/ShareAlbumPage/AlbumForm/AlbumTracksInputContainer.jsx","containers/pages/ShareAlbumPage/AlbumFormContainer.jsx","containers/pages/ShareAlbumPageContainer.jsx","containers/PageContainer.jsx","icons/round-shuffle-24px.svg","icons/round-shuffle.js","icons/round-repeat-24px.svg","icons/round-repeat.js","icons/round-skip_previous-24px.svg","icons/round-skip_previous.js","icons/round-skip_next-24px.svg","icons/round-skip_next.js","components/PlayerControls/PlayerControlsConponents.jsx","icons/round-clear_all-24px.svg","icons/round-clear_all.js","icons/round-delete-24px.svg","icons/round-delete.js","icons/round-get_app-24px.svg","icons/round-get_app.js","components/RoundButton/RoundButtonComponents.jsx","components/Playlist/PlaylistConponents.jsx","containers/PlaylistTrackContainer.jsx","containers/PlaylistPopupContainer.jsx","containers/PlaylistControlsContainer.jsx","icons/round-pause-24px.svg","icons/round-pause.js","icons/round-queue_music-24px.svg","icons/round-queue_music.js","containers/CurrentTrackControlsContainer.jsx","containers/PlayerControlsContainer.jsx","containers/PlayerScreenContainer.jsx","components/Themes/ThemesComponents.jsx","components/App/AppWrapper.jsx","containers/AppContainer.jsx","components/ErrorBoundary.jsx","components/App/AppErrorScreen.jsx","utils/asyncTimeout.js","services/mock/mockServices/startApp.js","mocks/uiDataMocks.js","services/mock/mockServices/getLatestAlbums.js","services/mock/mockServices/getAlbumsByMatcher.js","services/mock/mockServices/mockStorage.js","services/mock/mockServices/normalize/formAlbumToMockStorageAlbum.js","services/mock/mockServices/submitAlbum.js","services/mock/mockServices/normalize/mockStorageTrackToPlaylistTrack.js","services/mock/mockServices/getPlaylistTracksByAlbumId.js","data/appContextMock.js","render.js","containers/RootContainer.jsx","components/Playlist/Playlist.module.css","components/PlayerControls/PlayerControls.module.css","components/App/App.module.css","components/SearchBar/SearchBar.module.css","components/AlbumForm/AlbumForm.module.css","components/TrackInputs/TrackInputs.module.css","components/Flex/Flex.module.css","components/ShareAlbumPage/ShareAlbumPage.module.css","components/AlbumCoverInput/AlbumCoverInput.module.css","components/PlayerNavigation/PlayerNavigation.module.css","components/FixedPanel/FixedPanel.module.css","components/AlbumsFeed/AlbumsFeed.module.css","components/AlbumTracksInput/AlbumTracksInput.module.css","components/SquareButton/SquareButton.module.css","components/Page/Page.module.css","components/Card/Card.module.css","components/PlayerScreen/PlayerScreen.module.css","components/CustomTextInput/CustomTextInput.module.css","components/RoundButton/RoundButton.module.css","components/Themes/Themes.module.css"],"names":["module","exports","FeedAlbum__Wrapper","FeedAlbum__Cover","FeedAlbum__Image","FeedAlbum__Info","FeedAlbum__Title","FeedAlbum__Artist","FeedAlbum__Actions","FeedAlbum__Action","ServicesContext","React","LocaleStringsContext","AppLoadingScreen","react","className","styles","App__LoadingScreen","HomelessContextConsumerError","_Error","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","message","inherits","wrapNativeSuper","Error","useContextStrict","context","contextValue","defaultOptions","throwError","usePromiseEffect","getPromise","effectParams","options","undefined","isArray","TypeError","_React$useState","useState","_React$useState2","slicedToArray","isSucceeded","setIsSucceeded","_React$useState3","_React$useState4","isPending","setIsPending","_React$useState5","_React$useState6","data","setData","_React$useState7","_React$useState8","error","setError","useEffect","then","catch","PlayerScreenWrapper","props","assign","App__Wrapper","_extends","target","i","source","key","prototype","hasOwnProperty","round_menu_24px_ref","react_default","a","createElement","fill","d","round_menu_24px_ref2","MenuIcon","__webpack_require__","p","width","height","viewBox","round_search_24px_extends","round_search_24px_ref","round_search_24px_ref2","SearchIcon","latestAlbumsPattern","latestAlbumsRoute","searchAlbumsPattern","searchAlbumsRoute","query","shareAlbumPattern","shareAlbumRoute","PlayerNavigationPopup","PlayerNavigation__Popup","PlayerNavigationLink","NavLink","PlayerNavigation__Link","activeClassName","PlayerNavigation__Link_current","useOutsideClick","wrapperRef","onOutsideClick","handleClick","e","wrapperNode","current","targetNode","HTMLElement","contains","window","addEventListener","removeEventListener","OutsideClickDetector","wrapperProps","objectWithoutProperties","ref","PlayerNavigationContainer","onClose","OutsideClickDetector_OutsideClickDetector","PlayerNavigationComponents_PlayerNavigationPopup","PlayerNavigationComponents_PlayerNavigationLink","onClick","to","routes","SearchBarWrapper","_ref","nativeProps","wrapperNodeRef","SearchBar__Wrapper","SearchBarInput","type","autoFocus","SearchBar__Input","round_clear_24px_extends","round_clear_24px_ref","round_clear_24px_ref2","ClearIcon","SearchBarForm","SearchBar__Form","SquareButton","hasToggledOnIndicator","SquareButton__Button","SquareButton__Button_toggledOn","SearchBarContainer","handlers","onCancel","onSubmit","searchValue","setSearchValue","Escape","handler","SearchBarWrapper_SearchBarWrapper","SearchBarForm_SearchBarForm","preventDefault","SearchBarInput_SearchBarInput","onChange","value","currentTarget","SquareButtonComponents_SquareButton","FlexRow","Flex__Row","Left","Flex__Left","Right","Flex__Right","FixedPanelWrapper","children","toBottom","FixedPanel__Wrapper","FixedPanel__Wrapper_bottom","FixedPanel__Wrapper_top","HeaderContainer","hasPlayerNavigation","setHasPlayerNavigation","hasSearchBar","setHasSearchBar","togglePlayerNavigation","prevValue","toggleSearchBar","FixedPanelComponents_FixedPanelWrapper","FlexComponents_FlexRow","FlexComponents_Left","PlayerNavigationContainer_PlayerNavigationContainer","FlexComponents_Right","SearchBarContainer_SearchBarContainer","Redirect","push","AlbumsFeedWrapper","onLoadMore","AlbumsFeed__Wrapper","AlbumsFeed__Feed","AlbumsFeed__LoadMoreButton","FeedAlbumWrapper","FeedAlbumCover","src","alt","FeedAlbumTitle","FeedAlbumArtist","FeedAlbumInfo","PlayerContext","round_play_arrow_24px_extends","round_play_arrow_24px_ref","PlayArrowIcon","round_playlist_add_24px_extends","round_playlist_add_24px_ref","PlaylistAddIcon","FeedAlbumActions","FeedAlbumAction","FeedAlbumContainer","getPlaylistTracksByAlbumId","_useContextStrict2","addPlaylistTracks","clearPlaylist","setPlayingTrackId","title","artistName","coverSrc","id","FeedAlbumWrapper_FeedAlbumWrapper","FeedAlbumCover_FeedAlbumCover","FeedAlbumActions_FeedAlbumActions","FeedAlbumAction_FeedAlbumAction","tracks","FeedAlbumInfo_FeedAlbumInfo","FeedAlbumTitle_FeedAlbumTitle","FeedAlbumArtist_FeedAlbumArtist","PageWrapper","centered","Wrapper","Wrapper_centered","LatestAlbumsPageContainer","_usePromiseEffect","getLatestAlbums","PageWrapper_PageWrapper","AppLoadingScreen_AppLoadingScreen","AlbumsFeedWrapper_AlbumsFeedWrapper","map","item","FeedAlbumContainer_FeedAlbumContainer","SearchAlbumsPageContainer","match","params","getAlbumsByMatcher","getUniqueString","Math","random","toString","substring","supportedAudioFileTypes","supportedImageFileTypes","coverRegExp","getRawAlbumFormArtistData","name","getAlbumMetadataFromAudioFiles","asyncToGenerator","regenerator_default","mark","_callee","files","audiosMetadata","titles","tracklist","wrap","_context","prev","next","Promise","all","mm","sent","_ref2","common","album","_ref3","index","artists","audio","abrupt","find","stop","_x","getAlbumFormDataFromFiles","_ref4","_callee2","filesArray","audioFiles","imageFiles","_ref7","cover","_context2","toConsumableArray","filter","_ref5","includes","_ref6","file","test","_x2","AlbumDropZone","onDataChange","hasPreloader","setHasPreloader","handleServiceError","serviceError","DropZone__Wrapper","DropZone__Label","multiple","disabled","DropZone__Input","promise","delay","resolve","setTimeout","DropZone__Messages","Card","_ref$withPadding","withPadding","Card__Wrapper","Card__Wrapper_withPadding","AlbumFormWrapper","AlbumForm__Wrapper","AlbumFormAboutBlock","AlbumForm__AboutBlock","AlbumFormAboutInputs","CardComponents_Card","AlbumForm__AboutInputs","AlbumFormFooter","AlbumForm__Footer","AlbumFormButton","AlbumForm__Button","CustomTextInput","label","CustomTextInput__Input","placeholder","AlbumCoverInputWrapper","AlbumCoverInput__Wrapper","AlbumCoverInputPreview","AlbumCoverInput__Preview","AlbumCoverInputImage","AlbumCoverInput__Image","AlbumCoverInput","AlbumCoverInput__Input","round_album_24px_extends","round_album_24px_ref","AlbumIcon","CoverInputContainer","coverPreviewUrl","URL","createObjectURL","AlbumCoverInputComponents_AlbumCoverInputWrapper","AlbumCoverInputComponents_AlbumCoverInputPreview","AlbumCoverInputComponents_AlbumCoverInputImage","AlbumCoverInputComponents_AlbumCoverInput","objectSpread","TrackInputsWrapper","TrackInputs__Wrapper","TrackInputsCommon","TrackInputs__Common","TrackInputsArtists","TrackInputs__Artists","TrackInputsControls","TrackInputs__Controls","TrackInputsButton","isDisabled","buttonProps","TrackInputs__Button","round_keyboard_arrow_up_24px_extends","round_keyboard_arrow_up_24px_ref","ArrowUpIcon","round_keyboard_arrow_down_24px_extends","round_keyboard_arrow_down_24px_ref","ArrowDownIcon","renderTrackInputs","track","trackIndex","TrackInputsComponents_TrackInputsWrapper","TrackInputsComponents_TrackInputsCommon","CustomTextInputComponents_CustomTextInput","_e$currentTarget","nextTracklist","defineProperty","TrackInputsComponents_TrackInputsArtists","artist","artistIndex","nextArtists","splice","renderArtistInput","TrackInputsComponents_TrackInputsControls","TrackInputsComponents_TrackInputsButton","swapTargetIndex","getTrackFormDataFromFile","skipCovers","metadata","_metadata$common","AlbumTracksInputWrapper","AlbumTracksInput__Wrapper","AlbumTracksInput","AlbumTracksInput__Input","AlbumTracksInputSquareButton","text","AlbumTracksInput__SquareButton","AlbumTracksInputContainer","AlbumTracksInputComponents_AlbumTracksInputWrapper","AlbumTracksInputComponents_AlbumTracksInput","AlbumTracksInputComponents_AlbumTracksInputSquareButton","AlbumFormContainer","AlbumFormComponents_AlbumFormWrapper","AlbumFormComponents_AlbumFormAboutBlock","CoverInputContainer_CoverInputContainer","AlbumFormComponents_AlbumFormAboutInputs","AlbumTracksInputContainer_AlbumTracksInputContainer","AlbumFormComponents_AlbumFormFooter","AlbumFormComponents_AlbumFormButton","ShareAlbumPageContainer","hasSuccessScreeen","setHasSuccessScreen","albumFormData","setAlbumFormData","submitAlbum","AlbumFormContainer_AlbumFormContainer","AlbumDropZone_AlbumDropZone","PageContainer","Switch","Route","exact","path","component","render","round_shuffle_24px_extends","round_shuffle_24px_ref","ShuffleIcon","round_repeat_24px_extends","round_repeat_24px_ref","RepeatIcon","round_skip_previous_24px_extends","round_skip_previous_24px_ref","SkipPreviousIcon","round_skip_next_24px_extends","round_skip_next_24px_ref","SkipNextIcon","PlayerControlsPanel","PlayerControls__Panel","PlayerControlsButtonsGroup","moveButtonsToRight","PlayerControls__ButtonsGroup","PlayerControls__ButtonsGroup_toRight","PlayerControlsTrackInfo","PlayerControls__TrackInfo","PlayerControls__Title","PlayerControls__ArtistName","round_clear_all_24px_extends","round_clear_all_24px_ref","round_clear_all_24px_ref2","ClearAllIcon","round_delete_24px_extends","round_delete_24px_ref","round_delete_24px_ref2","DeleteIcon","round_get_app_24px_extends","round_get_app_24px_ref","round_get_app_24px_ref2","GetIcon","RoundButton","esm_extends","RoundButton__Button","PlaylistPopup","Playlist__Popup","PlaylistHeader","tracksCount","onClearPlaylist","Playlist__Header","Playlist__TracksCount","Playlist__ClearButton","PlaylistBody","Playlist__Body","Playlist__BodyContent","PlaylistTrack","isPlayButtonDisabled","hasPlayingIndicator","hasCachingIndicator","onPlay","onRemove","Playlist__Track","Playlist__Track_playing","Playlist__PlayButton","Playlist__CachingIndicator","Playlist__TrackInfo","Playlist__TrackTitle","Playlist__TrackArtist","Playlist__SecondaryTrackAction","RoundButtonComponents_RoundButton","PlaylistTrackContainer","_useContextStrict","removePlaylistTrack","playingTrackId","isCurrentlyPlaying","PlaylistConponents_PlaylistTrack","PlaylistPopupContainer","playlist","PlaylistConponents_PlaylistPopup","PlaylistConponents_PlaylistHeader","PlaylistConponents_PlaylistBody","PlaylistTrackContainer_PlaylistTrackContainer","PlaylistControlsContainer","onSwitchToCurrentTrackMode","isShuffle","isRepeat","toggleIsShuffle","toggleIsRepeat","PlayerControlsConponents_PlayerControlsButtonsGroup","PlaylistPopupContainer_PlaylistPopupContainer","round_pause_24px_extends","round_pause_24px_ref","PauseIcon","round_queue_music_24px_extends","round_queue_music_24px_ref","PlaylistIcon","CurrentTrackControlsContainer","onSwitchToPlaylistMode","playingTrack","isPaused","toggleIsPaused","PlayerControlsConponents_PlayerControlsTrackInfo","PlayerControlsContainer","hasPlaylistMode","setHasPlaylistMode","PlayerControlsConponents_PlayerControlsPanel","PlaylistControlsContainer_PlaylistControlsContainer","CurrentTrackControlsContainer_CurrentTrackControlsContainer","fakeId","fakeId2","PlayerScreenContainer","setIsPaused","setIsShuffle","setIsRepeat","audioSrc","setPlaylist","_React$useState9","_React$useState10","playerContextValue","state","Provider","PlayerScreenWrapper_PlayerScreenWrapper","PageContainer_PageContainer","HeaderContainer_HeaderContainer","PlayerControlsContainer_PlayerControlsContainer","Theme","AppWrapper","AppContainer","startApp","ThemesComponents_Theme","AppWrapper_AppWrapper","PlayerScreenContainer_PlayerScreenContainer","ErrorBoundary","_React$Component","createClass","_this$props","errorRenderer","errorConstructor","AppErrorScreen","App__ErrorScreen","App__ErrorMessage","asyncTimeout","r","feedAlbumMocks","matcher","albumsStorage","formTrackToServicesTrack","formAlbumToMockStorageAlbum","mockStorageTrackToPlaylistTrack","join","targetAlbum","console","log","appContextMock","services","mockServices","defaultLocaleStrings","enLocaleStrings","mountPoint","document","getElementById","ReactDOM","BrowserRouter","ErrorBoundary_ErrorBoundary","AppContainer_AppContainer","cachingIndicatorAnimation","SearchBar__Cancel","Flex__Center","ShareAlbumPage__Wrapper","ShareAlbumPage__Content","ShareAlbumPage__Footer","PlayerNavigation__CloseButton","PlayerScreen__Wrapper","PlayerScreen__LeftBar","PlayerScreen__RightBar","PlayerScreen__BottomBar"],"mappings":"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","file":"static/js/main.c2039bf5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"FeedAlbum__Wrapper\":\"FeedAlbum_FeedAlbum__Wrapper__3tPnN\",\"FeedAlbum__Cover\":\"FeedAlbum_FeedAlbum__Cover__25bXj\",\"FeedAlbum__Image\":\"FeedAlbum_FeedAlbum__Image__1ePaS\",\"FeedAlbum__Info\":\"FeedAlbum_FeedAlbum__Info__KTD4T\",\"FeedAlbum__Title\":\"FeedAlbum_FeedAlbum__Title__eIxUj\",\"FeedAlbum__Artist\":\"FeedAlbum_FeedAlbum__Artist__tA7Pj\",\"FeedAlbum__Actions\":\"FeedAlbum_FeedAlbum__Actions__2layJ\",\"FeedAlbum__Action\":\"FeedAlbum_FeedAlbum__Action__1S5-w\"};","// @flow strict\n\nimport type { TServicesContext } from \"types/contextTypes\";\n\nimport * as React from \"react\";\n\nexport const ServicesContext = React.createContext<TServicesContext | null>(\n  null\n);\n","// @flow strict\n\nimport type { TLocaleStringsContext } from \"types/contextTypes\";\n\nimport * as React from \"react\";\n\nexport type TLocaleStringsContextContext = TLocaleStringsContext;\n\nexport const LocaleStringsContext = React.createContext<TLocaleStringsContext | null>(\n  null\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./App.module.css\";\n\nexport const AppLoadingScreen = () => (\n  <div className={styles.App__LoadingScreen} />\n);\n","// @flow strict\n\nexport class HomelessContextConsumerError extends Error {\n  message = \"Context has been used outside of the provider.\";\n}\n","// @flow\n\nimport * as React from \"react\";\nimport { HomelessContextConsumerError } from \"data/errors/LonelyConsumerError\";\n\nexport function useContextStrict<TValue>(\n  context: React.Context<TValue | null>\n): TValue {\n  const contextValue = React.useContext(context);\n  if (contextValue === null) {\n    throw new HomelessContextConsumerError();\n  }\n  return contextValue;\n}\n","// @flow strict\n\nimport React from \"react\";\n\ntype TReturnValue<TData> = {|\n  isPending: boolean,\n  isSucceeded: boolean,\n  data: null | TData,\n  error: null | Error\n|};\n\ntype TOptions = {|\n  throwError?: boolean\n|};\n\nconst defaultOptions: TOptions = {\n  throwError: true\n};\n\nexport function usePromiseEffect<TData>(\n  getPromise: () => Promise<TData>,\n  effectParams?: mixed[],\n  options?: TOptions = defaultOptions\n): TReturnValue<TData> {\n  if (effectParams !== undefined && !Array.isArray(effectParams)) {\n    throw new TypeError(\"Effect parameters should be an array.\");\n  }\n\n  const [isSucceeded, setIsSucceeded] = React.useState<boolean>(false);\n  const [isPending, setIsPending] = React.useState<boolean>(false);\n  const [data, setData] = React.useState<null | TData>(null);\n  const [error, setError] = React.useState<null | Error>(null);\n\n  if (options.throwError === true && error && !isPending) {\n    throw error;\n  }\n\n  React.useEffect(() => {\n    setIsSucceeded(false);\n    setData(null);\n    setIsPending(true);\n    getPromise()\n      .then(setData)\n      .then(() => {\n        setIsSucceeded(true);\n      })\n      .catch(setError)\n      .then(() => {\n        setIsPending(false);\n      });\n  }, effectParams);\n\n  return { data, error, isPending, isSucceeded };\n}\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./PlayerScreen.module.css\";\n\ntype TProps = {|\n  children: React.Node\n|};\n\nexport const PlayerScreenWrapper = (props: TProps) => (\n  <div className={styles.App__Wrapper} {...props} />\n);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z\"\n});\n\nvar SvgRoundMenu24px = function SvgRoundMenu24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-menu-24px.f1991872.svg\";\nexport { SvgRoundMenu24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-menu-24px.svg\";\n\nexport const MenuIcon = ReactComponent;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n});\n\nvar SvgRoundSearch24px = function SvgRoundSearch24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-search-24px.8e10fdfe.svg\";\nexport { SvgRoundSearch24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-search-24px.svg\";\n\nexport const SearchIcon = ReactComponent;\n","// @flow strict\n\nexport const latestAlbumsPattern = \"/latest\";\nexport const latestAlbumsRoute = () => \"/latest\";\n\nexport const searchAlbumsPattern = \"/search/:query\";\nexport const searchAlbumsRoute = (query?: string) => {\n  if (query !== undefined) {\n    return `/search/${query}`;\n  }\n  return \"/search\";\n};\n\nexport const shareAlbumPattern = \"/share\";\nexport const shareAlbumRoute = () => \"/share\";\n","// @flow\n\nimport * as React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport styles from \"./PlayerNavigation.module.css\";\n\ntype TNavigationProps = {|\n  children: React.Node\n|};\n\nexport const PlayerNavigationPopup = (props: TNavigationProps) => (\n  <nav {...props} className={styles.PlayerNavigation__Popup} />\n);\n\ntype TLinkProps = {|\n  children: React.Node,\n  to: string,\n  onClick(e: SyntheticEvent<HTMLAnchorElement>): void\n|};\n\nexport const PlayerNavigationLink = (props: TLinkProps) => (\n  <NavLink\n    {...props}\n    className={styles.PlayerNavigation__Link}\n    activeClassName={styles.PlayerNavigation__Link_current}\n  />\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\ntype TRef<TNode> = {\n  current: TNode | null\n};\n\nexport function useOutsideClick<TNode>(\n  wrapperRef: TRef<TNode>,\n  onOutsideClick: () => void\n) {\n  React.useEffect(() => {\n    const handleClick = (e: MouseEvent) => {\n      const wrapperNode = wrapperRef.current;\n\n      const targetNode = e.target;\n\n      if (\n        targetNode instanceof HTMLElement &&\n        wrapperNode instanceof HTMLElement &&\n        !wrapperNode.contains(targetNode)\n      ) {\n        onOutsideClick();\n      }\n    };\n\n    window.addEventListener(\"click\", handleClick);\n\n    return () => {\n      window.removeEventListener(\"click\", handleClick);\n    };\n  }, [wrapperRef, onOutsideClick]);\n}\n","// @flow strict\n\nimport * as React from \"react\";\nimport { useOutsideClick } from \"hooks/useOutsideClick\";\n\ntype TProps = {\n  children: React.Node,\n  onOutsideClick(): void\n};\n\nexport const OutsideClickDetector = (props: TProps) => {\n  const wrapperRef = React.createRef<HTMLDivElement>();\n\n  const { onOutsideClick, ...wrapperProps } = props;\n\n  useOutsideClick<HTMLDivElement>(wrapperRef, onOutsideClick);\n\n  return <div {...wrapperProps} ref={wrapperRef} />;\n};\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport { routes } from \"data/routes.module\";\nimport { PlayerNavigationPopup } from \"components/PlayerNavigation/PlayerNavigationComponents\";\nimport { PlayerNavigationLink } from \"components/PlayerNavigation/PlayerNavigationComponents\";\nimport { OutsideClickDetector } from \"components/OutsideClickDetector\";\n\ntype TProps = {|\n  onClose(): void\n|};\n\nexport const PlayerNavigationContainer = (props: TProps) => {\n  const { onClose } = props;\n\n  return (\n    <OutsideClickDetector onOutsideClick={onClose}>\n      <PlayerNavigationPopup>\n        <PlayerNavigationLink onClick={onClose} to={routes.latestAlbumsRoute()}>\n          Latest albums\n        </PlayerNavigationLink>\n        <PlayerNavigationLink onClick={onClose} to={routes.searchAlbumsRoute()}>\n          Search albums\n        </PlayerNavigationLink>\n        <PlayerNavigationLink onClick={onClose} to={routes.shareAlbumRoute()}>\n          Share album\n        </PlayerNavigationLink>\n      </PlayerNavigationPopup>\n    </OutsideClickDetector>\n  );\n};\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./SearchBar.module.css\";\n\nimport { useOutsideClick } from \"hooks/useOutsideClick\";\n\ntype TProps = {|\n  children: React.Node,\n  onOutsideClick(): void\n|};\n\nexport const SearchBarWrapper = ({\n  onOutsideClick,\n  ...nativeProps\n}: TProps) => {\n  const wrapperNodeRef = React.useRef();\n\n  useOutsideClick(wrapperNodeRef, onOutsideClick);\n  return (\n    <div\n      {...nativeProps}\n      ref={wrapperNodeRef}\n      className={styles.SearchBar__Wrapper}\n    />\n  );\n};\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./SearchBar.module.css\";\n\ntype TProps = {|\n  onChange(e: SyntheticEvent<HTMLInputElement>): void,\n  value: string\n|};\n\nexport const SearchBarInput = (props: TProps) => (\n  <input {...props} type=\"text\" autoFocus className={styles.SearchBar__Input} />\n);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z\"\n});\n\nvar SvgRoundClear24px = function SvgRoundClear24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-clear-24px.84e833e5.svg\";\nexport { SvgRoundClear24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-clear-24px.svg\";\n\nexport const ClearIcon = ReactComponent;\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./SearchBar.module.css\";\n\ntype TProps = {|\n  onSubmit(e: SyntheticEvent<HTMLFormElement>): void,\n  children: React.Node\n|};\n\nexport const SearchBarForm = (props: TProps) => (\n  <form {...props} className={styles.SearchBar__Form} />\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./SquareButton.module.css\";\n\ntype TButtonProps = {|\n  children: React.Node,\n  hasToggledOnIndicator?: boolean,\n  onClick(e: SyntheticEvent<HTMLButtonElement>): void\n|};\n\nexport const SquareButton = ({\n  hasToggledOnIndicator,\n  ...nativeProps\n}: TButtonProps) => (\n  <button\n    {...nativeProps}\n    className={`${styles.SquareButton__Button} ${\n      hasToggledOnIndicator === true\n        ? styles.SquareButton__Button_toggledOn\n        : \"\"\n    }`}\n  />\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport { SearchBarWrapper } from \"components/SearchBar/SearchBarWrapper\";\nimport { SearchBarInput } from \"components/SearchBar/SearchBarInput\";\nimport { ClearIcon } from \"icons/round-clear\";\nimport { SearchBarForm } from \"components/SearchBar/SearchBarForm\";\nimport { useKeyUp } from \"hooks/useKeyUp\";\nimport { SquareButton } from \"components/SquareButton/SquareButtonComponents\";\n\ntype TProps = {|\n  onCancel(): void,\n  onSubmit(value: string): void\n|};\n\nexport const SearchBarContainer = (props: TProps) => {\n  const { onCancel, onSubmit } = props;\n\n  const [searchValue, setSearchValue] = React.useState<string>(\"\");\n\n  const handleInputChange = (e: SyntheticEvent<HTMLInputElement>) => {\n    const { value } = e.currentTarget;\n    setSearchValue(value);\n  };\n\n  const handleSubmit = (e: SyntheticEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    onSubmit(searchValue);\n    onCancel();\n  };\n\n  useKeyUp({\n    Escape: onCancel\n  });\n\n  return (\n    <SearchBarWrapper onOutsideClick={onCancel}>\n      <SearchBarForm onSubmit={handleSubmit}>\n        <SearchBarInput onChange={handleInputChange} value={searchValue} />\n      </SearchBarForm>\n      <SquareButton onClick={onCancel}>\n        <ClearIcon />\n      </SquareButton>\n    </SearchBarWrapper>\n  );\n};\n","// @flow strict\n\nimport * as React from \"react\";\n\ntype TParams = {\n  [x: string]: (e: KeyboardEvent) => void\n};\n\nexport const useKeyUp = (handlers: TParams) => {\n  React.useEffect(() => {\n    const handleClick = (e: KeyboardEvent) => {\n      const handler = handlers[e.key];\n      if (handler) {\n        handler(e);\n      }\n    };\n    window.addEventListener(\"keyup\", handleClick);\n    return () => {\n      window.removeEventListener(\"keyup\", handleClick);\n    };\n  });\n};\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./Flex.module.css\";\n\ntype TProps = {|\n  children: React.Node\n|};\n\nexport const FlexRow = (props: TProps) => (\n  <div className={styles.Flex__Row} {...props} />\n);\n\nexport const Left = (props: TProps) => (\n  <div className={styles.Flex__Left} {...props} />\n);\n\nexport const Right = (props: TProps) => (\n  <div className={styles.Flex__Right} {...props} />\n);\n\nexport const FlexCenter = (props: TProps) => (\n  <div className={styles.Flex__Center} {...props} />\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./FixedPanel.module.css\";\n\ntype TWrapperProps = {|\n  children: React.Node,\n  toBottom?: boolean\n|};\n\nexport const FixedPanelWrapper = ({ children, toBottom }: TWrapperProps) => (\n  <div\n    className={`${styles.FixedPanel__Wrapper} ${\n      toBottom === true\n        ? styles.FixedPanel__Wrapper_bottom\n        : styles.FixedPanel__Wrapper_top\n    }`}\n  >\n    {children}\n  </div>\n);\n","// @flow strict\n\nimport * as React from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nimport { MenuIcon } from \"icons/round-menu\";\nimport { SearchIcon } from \"icons/round-search\";\nimport { PlayerNavigationContainer } from \"containers/PlayerNavigationContainer\";\nimport { SearchBarContainer } from \"containers/SearchBarContainer\";\nimport { Left, FlexRow } from \"components/Flex/FlexComponents\";\nimport { Right } from \"components/Flex/FlexComponents\";\nimport { routes } from \"data/routes.module\";\nimport { FixedPanelWrapper } from \"components/FixedPanel/FixedPanelComponents\";\nimport { SquareButton } from \"components/SquareButton/SquareButtonComponents\";\n\ntype TProps = {||};\n\nexport const HeaderContainer = (props: TProps) => {\n  const [searchValue, setSearchValue] = React.useState<string>(\"\");\n  const [hasPlayerNavigation, setHasPlayerNavigation] = React.useState<boolean>(\n    false\n  );\n  const [hasSearchBar, setHasSearchBar] = React.useState<boolean>(false);\n\n  const togglePlayerNavigation = () => {\n    setHasPlayerNavigation(prevValue => !prevValue);\n  };\n\n  const toggleSearchBar = () => {\n    setHasSearchBar(prevValue => !prevValue);\n  };\n\n  const handleSearchSubmit = (value: string) => {\n    setSearchValue(value);\n  };\n\n  return (\n    <FixedPanelWrapper>\n      {!hasSearchBar && (\n        <FlexRow>\n          <Left>\n            <SquareButton onClick={togglePlayerNavigation}>\n              <MenuIcon />\n            </SquareButton>\n            {hasPlayerNavigation && (\n              <PlayerNavigationContainer onClose={togglePlayerNavigation} />\n            )}\n          </Left>\n          <Right>\n            <SquareButton onClick={toggleSearchBar}>\n              <SearchIcon />\n            </SquareButton>\n          </Right>\n        </FlexRow>\n      )}\n      {hasSearchBar && (\n        <SearchBarContainer\n          onCancel={toggleSearchBar}\n          onSubmit={handleSearchSubmit}\n        />\n      )}\n      {searchValue && (\n        <Redirect to={routes.searchAlbumsRoute(searchValue)} push />\n      )}\n    </FixedPanelWrapper>\n  );\n};\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./AlbumsFeed.module.css\";\n\ntype TProps = {|\n  children: React.Node,\n  onLoadMore(): void\n|};\n\nexport const AlbumsFeedWrapper = ({ children, onLoadMore }: TProps) => (\n  <div className={styles.AlbumsFeed__Wrapper}>\n    <div className={styles.AlbumsFeed__Feed}>{children}</div>\n    <button className={styles.AlbumsFeed__LoadMoreButton} onClick={onLoadMore}>\n      load more\n    </button>\n  </div>\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./FeedAlbum.module.css\";\n\ntype TProps = {|\n  children: React.Node\n|};\n\nexport const FeedAlbumWrapper = (props: TProps) => (\n  <div className={styles.FeedAlbum__Wrapper} {...props} />\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./FeedAlbum.module.css\";\n\ntype TProps = {|\n  src: string,\n  alt: string\n|};\n\nexport const FeedAlbumCover = ({ src, alt, onClick }: TProps) => (\n  <div className={styles.FeedAlbum__Cover}>\n    <img className={styles.FeedAlbum__Image} src={src} alt={alt} />\n  </div>\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./FeedAlbum.module.css\";\n\ntype TProps = {|\n  children: string\n|};\n\nexport const FeedAlbumTitle = (props: TProps) => (\n  <div className={styles.FeedAlbum__Title}>{props.children}</div>\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./FeedAlbum.module.css\";\n\ntype TProps = {|\n  children: string\n|};\n\nexport const FeedAlbumArtist = (props: TProps) => (\n  <div className={styles.FeedAlbum__Artist}>{props.children}</div>\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./FeedAlbum.module.css\";\n\ntype TProps = {|\n  children: React.Node\n|};\n\nexport const FeedAlbumInfo = (props: TProps) => (\n  <div className={styles.FeedAlbum__Info}>{props.children}</div>\n);\n","// @flow strict\n\nimport type { TPlayerContext } from \"types/contextTypes\";\n\nimport * as React from \"react\";\n\nexport const PlayerContext = React.createContext<TPlayerContext | null>(null);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z\"\n});\n\nvar SvgRoundPlayArrow24px = function SvgRoundPlayArrow24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-play_arrow-24px.575dc571.svg\";\nexport { SvgRoundPlayArrow24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-play_arrow-24px.svg\";\n\nexport const PlayArrowIcon = ReactComponent;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M13 10H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm0-4H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm5 8v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-3c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3zM3 16h6c.55 0 1-.45 1-1s-.45-1-1-1H3c-.55 0-1 .45-1 1s.45 1 1 1z\"\n});\n\nvar SvgRoundPlaylistAdd24px = function SvgRoundPlaylistAdd24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-playlist_add-24px.774a5c6b.svg\";\nexport { SvgRoundPlaylistAdd24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-playlist_add-24px.svg\";\n\nexport const PlaylistAddIcon = ReactComponent;\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./FeedAlbum.module.css\";\n\ntype TProps = {|\n  children: React.Node\n|};\n\nexport const FeedAlbumActions = (props: TProps) => (\n  <div className={styles.FeedAlbum__Actions}>{props.children}</div>\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./FeedAlbum.module.css\";\n\ntype TProps = {|\n  children: React.Node,\n  onClick(): void\n|};\n\nexport const FeedAlbumAction = (props: TProps) => (\n  <button className={styles.FeedAlbum__Action}>{props.children}</button>\n);\n","// @flow strict\n\nimport type { TFeedAlbum } from \"types/stateTypes\";\n\nimport * as React from \"react\";\n\nimport { FeedAlbumWrapper } from \"components/FeedAlbum/FeedAlbumWrapper\";\nimport { FeedAlbumCover } from \"components/FeedAlbum/FeedAlbumCover\";\nimport { FeedAlbumTitle } from \"components/FeedAlbum/FeedAlbumTitle\";\nimport { FeedAlbumArtist } from \"components/FeedAlbum/FeedAlbumArtist\";\nimport { FeedAlbumInfo } from \"components/FeedAlbum/FeedAlbumInfo\";\nimport { useContextStrict } from \"hooks/useContextStrict\";\nimport { ServicesContext } from \"contexts/ServicesContext\";\nimport { PlayerContext } from \"contexts/PlayerContext\";\nimport { PlayArrowIcon } from \"icons/round-play-arrow\";\nimport { PlaylistAddIcon } from \"icons/round-playlist_add\";\nimport { FeedAlbumActions } from \"components/FeedAlbum/FeedAlbumActions\";\nimport { FeedAlbumAction } from \"components/FeedAlbum/FeedAlbumAction\";\n\ntype TProps = {|\n  data: TFeedAlbum\n|};\n\nexport const FeedAlbumContainer = (props: TProps) => {\n  const { data } = props;\n\n  const { getPlaylistTracksByAlbumId } = useContextStrict(ServicesContext);\n  const {\n    addPlaylistTracks,\n    clearPlaylist,\n    setPlayingTrackId\n  } = useContextStrict(PlayerContext);\n\n  const { title, artistName, coverSrc, id } = data;\n\n  const handleAddAlbumToPlaylist = () => {\n    getPlaylistTracksByAlbumId(id).then(addPlaylistTracks);\n  };\n\n  const handlePlayAlbum = () => {\n    clearPlaylist();\n    getPlaylistTracksByAlbumId(id).then(tracks => {\n      addPlaylistTracks(tracks);\n      setPlayingTrackId(tracks[0].id);\n    });\n  };\n\n  return (\n    <FeedAlbumWrapper>\n      <FeedAlbumCover src={coverSrc} alt=\"album cover\" />\n      <FeedAlbumActions>\n        <FeedAlbumAction onClick={handleAddAlbumToPlaylist}>\n          <PlaylistAddIcon />\n        </FeedAlbumAction>\n        <FeedAlbumAction onClick={handlePlayAlbum}>\n          <PlayArrowIcon />\n        </FeedAlbumAction>\n      </FeedAlbumActions>\n      <FeedAlbumInfo>\n        <FeedAlbumTitle>{title}</FeedAlbumTitle>\n        <FeedAlbumArtist>{artistName}</FeedAlbumArtist>\n      </FeedAlbumInfo>\n    </FeedAlbumWrapper>\n  );\n};\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./Page.module.css\";\n\ntype TProps = {|\n  children: React.Node,\n  centered?: boolean\n|};\n\nexport const PageWrapper = ({ children, centered }: TProps) => (\n  <main\n    className={`${styles.Wrapper} ${\n      centered === true ? styles.Wrapper_centered : \"\"\n    }`}\n  >\n    {children}\n  </main>\n);\n","// @flow strict\n\nimport type { TServicesContext } from \"types/contextTypes\";\nimport type { TFeedAlbum } from \"types/stateTypes\";\n\nimport * as React from \"react\";\n\nimport { ServicesContext } from \"contexts/ServicesContext\";\nimport { useContextStrict } from \"hooks/useContextStrict\";\nimport { usePromiseEffect } from \"hooks/usePromiseEffect\";\nimport { AlbumsFeedWrapper } from \"components/AlbumsFeed/AlbumsFeedWrapper\";\nimport { FeedAlbumContainer } from \"containers/FeedAlbumContainer\";\nimport { PageWrapper } from \"components/Page/PageWrapper\";\nimport { AppLoadingScreen } from \"components/App/AppLoadingScreen\";\n\ntype TProps = {||};\n\nexport const LatestAlbumsPageContainer = (props: TProps) => {\n  const { getLatestAlbums } = useContextStrict<TServicesContext>(\n    ServicesContext\n  );\n\n  const { isPending, data } = usePromiseEffect<TFeedAlbum[]>(\n    getLatestAlbums,\n    []\n  );\n\n  const handleLoadMore = () => {\n    // TODO: load more albums\n  };\n\n  return (\n    <PageWrapper>\n      {isPending && <AppLoadingScreen />}\n      {data !== null && (\n        <AlbumsFeedWrapper onLoadMore={handleLoadMore}>\n          {data.map(item => (\n            <FeedAlbumContainer data={item} key={item.id} />\n          ))}\n        </AlbumsFeedWrapper>\n      )}\n    </PageWrapper>\n  );\n};\n","// @flow strict\n\nimport type { TServicesContext } from \"types/contextTypes\";\nimport type { TFeedAlbum } from \"types/stateTypes\";\n\nimport * as React from \"react\";\n\nimport { ServicesContext } from \"contexts/ServicesContext\";\nimport { useContextStrict } from \"hooks/useContextStrict\";\nimport { usePromiseEffect } from \"hooks/usePromiseEffect\";\nimport { AlbumsFeedWrapper } from \"components/AlbumsFeed/AlbumsFeedWrapper\";\nimport { FeedAlbumContainer } from \"containers/FeedAlbumContainer\";\nimport { PageWrapper } from \"components/Page/PageWrapper\";\nimport { AppLoadingScreen } from \"components/App/AppLoadingScreen\";\n\ntype TProps = {|\n  match: {\n    params: {\n      query: string\n    }\n  }\n|};\n\nexport const SearchAlbumsPageContainer = (props: TProps) => {\n  const searchValue = props.match.params.query;\n\n  const { getAlbumsByMatcher } = useContextStrict<TServicesContext>(\n    ServicesContext\n  );\n\n  const { isPending, data } = usePromiseEffect<TFeedAlbum[]>(\n    () => getAlbumsByMatcher(searchValue),\n    [searchValue]\n  );\n\n  const handleLoadMore = () => {\n    // TODO: load more albums\n  };\n\n  return (\n    <PageWrapper>\n      {isPending && <AppLoadingScreen />}\n      {data !== null && (\n        <AlbumsFeedWrapper onLoadMore={handleLoadMore}>\n          {data.map(item => (\n            <FeedAlbumContainer data={item} key={item.id} />\n          ))}\n        </AlbumsFeedWrapper>\n      )}\n    </PageWrapper>\n  );\n};\n","// @flow strict\n\nexport const getUniqueString = () =>\n  Math.random()\n    .toString(36)\n    .substring(2, 15) +\n  Math.random()\n    .toString(36)\n    .substring(2, 15);\n","// @flow strict\n\nexport const supportedAudioFileTypes = [\n  \"audio/flac\",\n  \"audio/wave\",\n  \"audio/wav\",\n  \"audio/mpeg\",\n  \"audio/mp3\",\n  \"audio/ogg\"\n];\n\nexport const supportedImageFileTypes = [\n  \"image/jpeg\",\n  \"image/png\",\n  \"image/webp\"\n];\n\nexport const coverRegExp = /(front|cover)/g;\n","// @flow strict\n\nimport type { TFormAlbum, TFormArtist } from \"types/stateTypes\";\n\nimport { getUniqueString } from \"utils/getUniqueString\";\n\nexport const getRawAlbumFormArtistData = (): TFormArtist => ({\n  key: getUniqueString(),\n  name: \"\"\n});\n\nexport const getRawAlbumFormData = (): TFormAlbum => ({\n  title: \"\",\n  cover: null,\n  tracklist: []\n});\n","// @flow strict\n\nimport type { TFormAlbum, TFormTrack } from \"types/stateTypes\";\n\nimport * as mm from \"music-metadata-browser\";\n\nimport { getUniqueString } from \"utils/getUniqueString\";\nimport {\n  supportedAudioFileTypes,\n  supportedImageFileTypes,\n  coverRegExp\n} from \"data/fileTypes\";\nimport { getRawAlbumFormArtistData } from \"data/models\";\n\n/*\n\nTODO: extract picture from audio metadata\n\ntype TPicture = {|\n  format: string;\n  data: Buffer;\n  description?: string;\n  type?: string;\n|}\n\n*/\n\ntype TAudioMetadata = {|\n  tracklist: TFormTrack[],\n  title: string\n|};\n\nconst getAlbumMetadataFromAudioFiles = async (\n  files: File[]\n): Promise<TAudioMetadata> => {\n  const audiosMetadata = await Promise.all(files.map(mm.parseBlob));\n\n  const titles = audiosMetadata.map(({ common }) => common.album);\n\n  const tracklist: TFormTrack[] = audiosMetadata.map(({ common }, index) => {\n    const artists = common.artists.map((name: string) => ({\n      name,\n      key: getUniqueString()\n    }));\n    artists.push(getRawAlbumFormArtistData());\n    return {\n      key: getUniqueString(),\n      title: common.title,\n      artists,\n      audio: files[index]\n    };\n  });\n\n  return {\n    title: titles.find(title => !!title) || \"\",\n    tracklist\n  };\n};\n\nexport const getAlbumFormDataFromFiles = async (\n  files: FileList\n): Promise<TFormAlbum> => {\n  const filesArray = [...files];\n\n  const audioFiles = filesArray.filter(({ type }) =>\n    supportedAudioFileTypes.includes(type)\n  );\n  const imageFiles = filesArray.filter(({ type }) =>\n    supportedImageFileTypes.includes(type)\n  );\n\n  if (audioFiles.length > 0) {\n    const { tracklist, title } = await getAlbumMetadataFromAudioFiles(\n      audioFiles\n    );\n\n    const cover = imageFiles.find(file => coverRegExp.test(file.name));\n\n    return {\n      tracklist,\n      title,\n      cover: cover || null\n    };\n  }\n\n  throw new Error(\"No audio files have been found.\");\n};\n","// @flow strict\n\nimport type { TFormAlbum } from \"types/stateTypes\";\n\nimport * as React from \"react\";\n\nimport { getAlbumFormDataFromFiles } from \"utils/getAlbumFormDataFromFiles\";\nimport { delayPromise } from \"utils/delayPromise\";\n\nimport styles from \"./ShareAlbumPage.module.css\";\n\ntype TProps = {|\n  onDataChange(data: TFormAlbum): void\n|};\n\nexport const AlbumDropZone = (props: TProps) => {\n  const { onDataChange } = props;\n\n  const [error, setError] = React.useState<Error | null>(null);\n  const [hasPreloader, setHasPreloader] = React.useState<boolean>(false);\n\n  const handleServiceStart = () => {\n    setHasPreloader(true);\n    setError(null);\n  };\n\n  const handleServiceError = (serviceError: Error) => {\n    setError(serviceError);\n    setHasPreloader(false);\n  };\n\n  const handleChange = (e: SyntheticEvent<HTMLInputElement>) => {\n    const { files } = e.currentTarget;\n    handleServiceStart();\n    delayPromise(getAlbumFormDataFromFiles(files), 500)\n      .then(onDataChange)\n      .catch(handleServiceError);\n    e.currentTarget.value = \"\";\n  };\n\n  return (\n    <div className={styles.DropZone__Wrapper}>\n      <label className={styles.DropZone__Label}>\n        <input\n          type=\"file\"\n          multiple\n          disabled={hasPreloader}\n          className={styles.DropZone__Input}\n          onChange={handleChange}\n        />\n        <div className={styles.DropZone__Messages}>\n          {hasPreloader ? <p>processing...</p> : <p>drop files here</p>}\n          {error && <small>{error.message}</small>}\n        </div>\n      </label>\n    </div>\n  );\n};\n","// @flow strict\n\nexport function delayPromise<TData>(\n  promise: Promise<TData>,\n  delay: number\n): Promise<TData> {\n  return new Promise(resolve => {\n    window.setTimeout(() => {\n      resolve(promise);\n    }, delay);\n  });\n}\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./Card.module.css\";\n\ntype TProps = {|\n  children: React.Node,\n  withPadding?: boolean\n|};\n\nexport const Card = ({ children, withPadding = false }: TProps) => (\n  <div\n    className={`${styles.Card__Wrapper} ${\n      withPadding ? styles.Card__Wrapper_withPadding : \"\"\n    }`}\n  >\n    {children}\n  </div>\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport { Card } from \"components/Card/CardComponents\";\n\nimport styles from \"./AlbumForm.module.css\";\n\ntype TWrapperProps = {|\n  children: React.Node,\n  onSubmit(e: SyntheticEvent<HTMLFormElement>): void\n|};\n\nexport const AlbumFormWrapper = (props: TWrapperProps) => (\n  <form {...props} className={styles.AlbumForm__Wrapper} />\n);\n\ntype TAboutBlockProps = {|\n  children: React.Node\n|};\n\nexport const AlbumFormAboutBlock = ({ children }: TAboutBlockProps) => (\n  <div className={styles.AlbumForm__AboutBlock}>{children}</div>\n);\n\ntype TAboutInputsProps = {|\n  children: React.Node\n|};\n\nexport const AlbumFormAboutInputs = ({ children }: TAboutInputsProps) => (\n  <Card withPadding>\n    <div className={styles.AlbumForm__AboutInputs}>{children}</div>\n  </Card>\n);\n\ntype TFooterProps = {|\n  children: React.Node\n|};\n\nexport const AlbumFormFooter = ({ children }: TFooterProps) => (\n  <div className={styles.AlbumForm__Footer}>{children}</div>\n);\n\ntype TButtonProps = {|\n  children: string,\n  onClick(): void\n|};\n\nexport const AlbumFormButton = ({ children, onClick }: TButtonProps) => (\n  <button onClick={onClick} className={styles.AlbumForm__Button}>\n    {children}\n  </button>\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./CustomTextInput.module.css\";\n\ntype TProps = {\n  label: string,\n  name: string,\n  value: string,\n  onChange(e: SyntheticEvent<HTMLInputElement>): void\n};\n\nexport const CustomTextInput = ({ label, name, value, onChange }: TProps) => (\n  <label>\n    {label}\n    <br />\n    <input\n      type=\"text\"\n      className={styles.CustomTextInput__Input}\n      name={name}\n      placeholder={label}\n      value={value}\n      onChange={onChange}\n    />\n  </label>\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./AlbumCoverInput.module.css\";\n\ntype TWrapperProps = {|\n  children: React.Node\n|};\n\nexport const AlbumCoverInputWrapper = ({ children }: TWrapperProps) => (\n  <label className={styles.AlbumCoverInput__Wrapper}>{children}</label>\n);\n\ntype TPreviewProps = {|\n  children: React.Node\n|};\n\nexport const AlbumCoverInputPreview = (props: TPreviewProps) => (\n  <div className={styles.AlbumCoverInput__Preview} {...props} />\n);\n\ntype TImageProps = {|\n  src: string\n|};\n\nexport const AlbumCoverInputImage = ({ src }: TImageProps) => (\n  <img src={src} className={styles.AlbumCoverInput__Image} alt=\"cover\" />\n);\n\ntype TInputProps = {|\n  onChange(e: SyntheticEvent<HTMLInputElement>): void\n|};\n\nexport const AlbumCoverInput = ({ onChange }: TInputProps) => (\n  <input\n    className={styles.AlbumCoverInput__Input}\n    type=\"file\"\n    name=\"cover\"\n    onChange={onChange}\n  />\n);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z\"\n});\n\nvar SvgRoundAlbum24px = function SvgRoundAlbum24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-album-24px.d4230c04.svg\";\nexport { SvgRoundAlbum24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-album-24px.svg\";\n\nexport const AlbumIcon = ReactComponent;\n","// @flow strict\n\nimport type { TFormAlbum } from \"types/stateTypes\";\n\nimport * as React from \"react\";\n\nimport { AlbumCoverInputWrapper } from \"components/AlbumCoverInput/AlbumCoverInputComponents\";\nimport { AlbumCoverInputPreview } from \"components/AlbumCoverInput/AlbumCoverInputComponents\";\nimport { AlbumCoverInput } from \"components/AlbumCoverInput/AlbumCoverInputComponents\";\nimport { AlbumCoverInputImage } from \"components/AlbumCoverInput/AlbumCoverInputComponents\";\nimport { AlbumIcon } from \"icons/round-album\";\n\ntype TProps = {|\n  data: TFormAlbum,\n  onDataChange(data: TFormAlbum): void\n|};\n\nexport const CoverInputContainer = (props: TProps) => {\n  const { data, onDataChange } = props;\n\n  const handleCoverChange = (e: SyntheticEvent<HTMLInputElement>) => {\n    const { files } = e.currentTarget;\n    onDataChange({\n      ...data,\n      cover: files[0]\n    });\n    e.currentTarget.value = \"\";\n  };\n\n  let coverPreviewUrl: string | null = null;\n\n  if (data.cover) {\n    coverPreviewUrl = URL.createObjectURL(data.cover);\n  }\n\n  return (\n    <AlbumCoverInputWrapper>\n      <AlbumCoverInputPreview>\n        {coverPreviewUrl !== null ? (\n          <AlbumCoverInputImage src={coverPreviewUrl} />\n        ) : (\n          <AlbumIcon />\n        )}\n      </AlbumCoverInputPreview>\n      <AlbumCoverInput onChange={handleCoverChange} />\n    </AlbumCoverInputWrapper>\n  );\n};\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./TrackInputs.module.css\";\n\ntype TProps = {|\n  children: React.Node\n|};\n\nexport const TrackInputsWrapper = (props: TProps) => (\n  <div {...props} className={styles.TrackInputs__Wrapper} />\n);\n\nexport const TrackInputsCommon = (props: TProps) => (\n  <div {...props} className={styles.TrackInputs__Common} />\n);\n\nexport const TrackInputsArtists = (props: TProps) => (\n  <div {...props} className={styles.TrackInputs__Artists} />\n);\n\nexport const TrackInputsControls = (props: TProps) => (\n  <div {...props} className={styles.TrackInputs__Controls} />\n);\n\ntype TButtonProps = {|\n  ...TProps,\n  onClick(): void,\n  isDisabled?: boolean\n|};\n\nexport const TrackInputsButton = ({\n  isDisabled,\n  ...buttonProps\n}: TButtonProps) => (\n  <button\n    type=\"button\"\n    disabled={isDisabled}\n    className={styles.TrackInputs__Button}\n    {...buttonProps}\n  />\n);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M8.12 14.71L12 10.83l3.88 3.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41 0L6.7 13.3c-.39.39-.39 1.02 0 1.41.39.38 1.03.39 1.42 0z\"\n});\n\nvar SvgRoundKeyboardArrowUp24px = function SvgRoundKeyboardArrowUp24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-keyboard_arrow_up-24px.ae736693.svg\";\nexport { SvgRoundKeyboardArrowUp24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-keyboard_arrow_up-24px.svg\";\n\nexport const ArrowUpIcon = ReactComponent;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M8.12 9.29L12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7c-.39-.39-.39-1.02 0-1.41.39-.38 1.03-.39 1.42 0z\"\n});\n\nvar SvgRoundKeyboardArrowDown24px = function SvgRoundKeyboardArrowDown24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-keyboard_arrow_down-24px.3eb8b656.svg\";\nexport { SvgRoundKeyboardArrowDown24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-keyboard_arrow_down-24px.svg\";\n\nexport const ArrowDownIcon = ReactComponent;\n","// @flow strict\n\nimport type { TFormTrack, TFormArtist } from \"types/stateTypes\";\n\nimport * as React from \"react\";\n\nimport { TrackInputsWrapper } from \"components/TrackInputs/TrackInputsComponents\";\nimport { TrackInputsCommon } from \"components/TrackInputs/TrackInputsComponents\";\nimport { TrackInputsArtists } from \"components/TrackInputs/TrackInputsComponents\";\nimport { CustomTextInput } from \"components/CustomTextInput/CustomTextInputComponents\";\nimport { TrackInputsControls } from \"components/TrackInputs/TrackInputsComponents\";\nimport { TrackInputsButton } from \"components/TrackInputs/TrackInputsComponents\";\n\nimport { renderArtistInput } from \"./renderArtistInput\";\nimport { ClearIcon } from \"icons/round-clear\";\nimport { ArrowUpIcon } from \"icons/round-keyboard_arrow_up\";\nimport { ArrowDownIcon } from \"icons/round-keyboard_arrow_down\";\n\nexport const renderTrackInputs = (\n  onChange: (tracklist: TFormTrack[]) => void\n) => (track: TFormTrack, trackIndex: number, tracklist: TFormTrack[]) => {\n  const handleTrackInputChange = e => {\n    const { name, value } = e.currentTarget;\n    const nextTracklist = [...tracklist];\n    nextTracklist[trackIndex] = {\n      ...track,\n      [name]: value\n    };\n    onChange(nextTracklist);\n  };\n\n  const handleArtistsChange = (artists: TFormArtist[]) => {\n    const nextTracklist = [...tracklist];\n    nextTracklist[trackIndex] = {\n      ...track,\n      artists\n    };\n    onChange(nextTracklist);\n  };\n\n  const handleRemove = () => {\n    const nextTracklist = tracklist.filter(({ key }) => key !== track.key);\n    onChange(nextTracklist);\n  };\n\n  const handleMoveUp = () => {\n    const nextTracklist = [...tracklist];\n    const swapTargetIndex = trackIndex - 1;\n    // $FlowFixMe\n    [nextTracklist[trackIndex], nextTracklist[swapTargetIndex]] = [\n      nextTracklist[swapTargetIndex],\n      nextTracklist[trackIndex]\n    ];\n    onChange(nextTracklist);\n  };\n\n  const handleMoveDown = () => {\n    const nextTracklist = [...tracklist];\n    const swapTargetIndex = trackIndex + 1;\n    // $FlowFixMe\n    [nextTracklist[trackIndex], nextTracklist[swapTargetIndex]] = [\n      nextTracklist[swapTargetIndex],\n      nextTracklist[trackIndex]\n    ];\n    onChange(nextTracklist);\n  };\n\n  return (\n    <TrackInputsWrapper key={track.key}>\n      <TrackInputsCommon>\n        <CustomTextInput\n          label=\"Track title\"\n          name=\"title\"\n          value={track.title}\n          onChange={handleTrackInputChange}\n        />\n      </TrackInputsCommon>\n      <TrackInputsArtists>\n        {track.artists.map(renderArtistInput(handleArtistsChange))}\n      </TrackInputsArtists>\n      <TrackInputsControls>\n        <TrackInputsButton isDisabled={trackIndex === 0} onClick={handleMoveUp}>\n          <ArrowUpIcon />\n        </TrackInputsButton>\n        <TrackInputsButton\n          isDisabled={trackIndex === tracklist.length - 1}\n          onClick={handleMoveDown}\n        >\n          <ArrowDownIcon />\n        </TrackInputsButton>\n        <TrackInputsButton onClick={handleRemove}>\n          <ClearIcon />\n        </TrackInputsButton>\n      </TrackInputsControls>\n    </TrackInputsWrapper>\n  );\n};\n","// @flow strict\n\nimport type { TFormArtist } from \"types/stateTypes\";\n\nimport * as React from \"react\";\n\nimport { CustomTextInput } from \"components/CustomTextInput/CustomTextInputComponents\";\nimport { getRawAlbumFormArtistData } from \"data/models\";\n\nexport const renderArtistInput = (\n  onChange: (artists: TFormArtist[]) => void\n) => (artist: TFormArtist, artistIndex: number, artists: TFormArtist[]) => {\n  const handleChange = e => {\n    const { value, name } = e.currentTarget;\n    const nextArtists = [...artists];\n    if (value.length > 0) {\n      nextArtists[artistIndex] = {\n        ...artist,\n        [name]: value\n      };\n    } else {\n      nextArtists.splice(artistIndex, 1);\n    }\n    if (artistIndex === artists.length - 1 && value.length > 0) {\n      nextArtists.push(getRawAlbumFormArtistData());\n    }\n    onChange(nextArtists);\n  };\n\n  return (\n    <React.Fragment key={artist.key}>\n      <CustomTextInput\n        label={`Track artist #${artistIndex + 1}`}\n        name=\"name\"\n        value={artist.name}\n        onChange={handleChange}\n      />\n      <br />\n      <br />\n    </React.Fragment>\n  );\n};\n","// @flow strict\n\nimport type { TFormTrack } from \"types/stateTypes\";\n\nimport * as mm from \"music-metadata-browser\";\n\nimport { getRawAlbumFormArtistData } from \"data/models\";\nimport { getUniqueString } from \"utils/getUniqueString\";\n\nexport const getTrackFormDataFromFile = (file: File): Promise<TFormTrack> => {\n  return mm.parseBlob(file, { skipCovers: true }).then(metadata => {\n    const { title, artists: artistsOriginal } = metadata.common;\n\n    const artists = artistsOriginal.map((name: string) => ({\n      name,\n      key: getUniqueString()\n    }));\n\n    artists.push(getRawAlbumFormArtistData());\n\n    return {\n      key: getUniqueString(),\n      audio: file,\n      title,\n      artists\n    };\n  });\n};\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./AlbumTracksInput.module.css\";\n\ntype TWrapperProps = {|\n  children: React.Node\n|};\n\nexport const AlbumTracksInputWrapper = ({ children }: TWrapperProps) => (\n  <label className={styles.AlbumTracksInput__Wrapper}>{children}</label>\n);\n\ntype TInputProps = {|\n  onChange(e: SyntheticEvent<HTMLInputElement>): void\n|};\n\nexport const AlbumTracksInput = ({ onChange }: TInputProps) => (\n  <input\n    className={styles.AlbumTracksInput__Input}\n    type=\"file\"\n    name=\"tracks\"\n    onChange={onChange}\n  />\n);\n\ntype TSquareButtonProps = {|\n  text: string\n|};\n\nexport const AlbumTracksInputSquareButton = ({ text }: TSquareButtonProps) => (\n  <div className={styles.AlbumTracksInput__SquareButton}>{text}</div>\n);\n","// @flow strict\n\nimport type { TFormAlbum, TFormTrack } from \"types/stateTypes\";\n\nimport * as React from \"react\";\n\nimport { getTrackFormDataFromFile } from \"utils/getTrackFormDataFromFile\";\nimport { AlbumTracksInputWrapper } from \"components/AlbumTracksInput/AlbumTracksInputComponents\";\nimport { AlbumTracksInputSquareButton } from \"components/AlbumTracksInput/AlbumTracksInputComponents\";\nimport { AlbumTracksInput } from \"components/AlbumTracksInput/AlbumTracksInputComponents\";\n\ntype TProps = {|\n  data: TFormAlbum,\n  onDataChange(data: TFormAlbum): void\n|};\n\nexport const AlbumTracksInputContainer = (props: TProps) => {\n  const { data, onDataChange } = props;\n\n  const handleAddTrack = (e: SyntheticEvent<HTMLInputElement>) => {\n    const { files } = e.currentTarget;\n    Promise.all([...files].map(getTrackFormDataFromFile)).then(\n      (tracks: TFormTrack[]) => {\n        onDataChange({\n          ...data,\n          tracklist: [...data.tracklist, ...tracks]\n        });\n      }\n    );\n  };\n\n  return (\n    <AlbumTracksInputWrapper>\n      <AlbumTracksInput onChange={handleAddTrack} />\n      <AlbumTracksInputSquareButton text=\"Add tracks\" />\n    </AlbumTracksInputWrapper>\n  );\n};\n","// @flow strict\n\nimport type { TFormAlbum } from \"types/stateTypes\";\n\nimport * as React from \"react\";\n\nimport { AlbumFormWrapper } from \"components/AlbumForm/AlbumFormComponents\";\nimport { Card } from \"components/Card/CardComponents\";\nimport { AlbumFormAboutBlock } from \"components/AlbumForm/AlbumFormComponents\";\nimport { AlbumFormAboutInputs } from \"components/AlbumForm/AlbumFormComponents\";\nimport { CustomTextInput } from \"components/CustomTextInput/CustomTextInputComponents\";\nimport { AlbumFormFooter } from \"components/AlbumForm/AlbumFormComponents\";\nimport { AlbumFormButton } from \"components/AlbumForm/AlbumFormComponents\";\n\nimport { CoverInputContainer } from \"./AlbumForm/CoverInputContainer\";\nimport { renderTrackInputs } from \"./AlbumForm/renderTrackInputs\";\nimport { AlbumTracksInputContainer } from \"./AlbumForm/AlbumTracksInputContainer\";\n\ntype TProps = {|\n  data: TFormAlbum,\n  onDataChange(data: TFormAlbum): void,\n  onSubmit(): void,\n  onCancel(): void\n|};\n\nexport const AlbumFormContainer = (props: TProps) => {\n  const { data, onDataChange, onSubmit, onCancel } = props;\n\n  const handleChange = (e: SyntheticEvent<HTMLInputElement>) => {\n    const { name, value } = e.currentTarget;\n    onDataChange({\n      ...data,\n      [name]: value\n    });\n  };\n\n  const handleTracklistChange = tracklist => {\n    onDataChange({\n      ...data,\n      tracklist\n    });\n  };\n\n  return (\n    <AlbumFormWrapper onSubmit={onSubmit}>\n      <AlbumFormAboutBlock>\n        <CoverInputContainer data={data} onDataChange={onDataChange} />\n        <AlbumFormAboutInputs>\n          <CustomTextInput\n            label=\"Album title\"\n            name=\"title\"\n            value={data.title}\n            onChange={handleChange}\n          />\n        </AlbumFormAboutInputs>\n      </AlbumFormAboutBlock>\n      <Card withPadding>\n        {data.tracklist.map(renderTrackInputs(handleTracklistChange))}\n        <AlbumTracksInputContainer data={data} onDataChange={onDataChange} />\n      </Card>\n      <AlbumFormFooter>\n        <AlbumFormButton onClick={onSubmit}>share</AlbumFormButton>\n        <AlbumFormButton onClick={onCancel}>cancel</AlbumFormButton>\n      </AlbumFormFooter>\n    </AlbumFormWrapper>\n  );\n};\n","// @flow strict\n\nimport type { TServicesContext } from \"types/contextTypes\";\nimport type { TFormAlbum } from \"types/stateTypes\";\n\nimport * as React from \"react\";\n\nimport { ServicesContext } from \"contexts/ServicesContext\";\nimport { useContextStrict } from \"hooks/useContextStrict\";\nimport { PageWrapper } from \"components/Page/PageWrapper\";\nimport { AlbumDropZone } from \"components/ShareAlbumPage/AlbumDropZone\";\n\nimport { AlbumFormContainer } from \"./ShareAlbumPage/AlbumFormContainer\";\n\ntype TProps = {||};\n\nexport const ShareAlbumPageContainer = (props: TProps) => {\n  const [hasPreloader, setHasPreloader] = React.useState<boolean>(false);\n  const [hasSuccessScreeen, setHasSuccessScreen] = React.useState<boolean>(\n    false\n  );\n  const [error, setError] = React.useState<Error | null>(null);\n  const [albumFormData, setAlbumFormData] = React.useState<TFormAlbum | null>(\n    null\n  );\n\n  const { submitAlbum } = useContextStrict<TServicesContext>(ServicesContext);\n\n  const handleSubmit = () => {\n    if (albumFormData) {\n      setHasPreloader(true);\n      submitAlbum(albumFormData)\n        .then(() => setHasSuccessScreen(true))\n        .catch(setError)\n        .then(() => setHasPreloader(false));\n    }\n  };\n\n  const handleCancel = () => {\n    setAlbumFormData(null);\n  };\n\n  return (\n    <>\n      {hasPreloader ? (\n        <PageWrapper centered>\n          <h1>succeed</h1>\n        </PageWrapper>\n      ) : hasSuccessScreeen ? (\n        <PageWrapper centered>\n          <h1>succeed</h1>\n        </PageWrapper>\n      ) : error !== null ? (\n        <PageWrapper centered>\n          <h1>{error.message}</h1>\n        </PageWrapper>\n      ) : albumFormData !== null ? (\n        <PageWrapper>\n          <AlbumFormContainer\n            data={albumFormData}\n            onDataChange={setAlbumFormData}\n            onSubmit={handleSubmit}\n            onCancel={handleCancel}\n          />\n        </PageWrapper>\n      ) : (\n        <PageWrapper centered>\n          <AlbumDropZone onDataChange={setAlbumFormData} />\n        </PageWrapper>\n      )}\n    </>\n  );\n};\n","// @flow strict\n\nimport * as React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n\nimport { routes } from \"data/routes.module\";\nimport { LatestAlbumsPageContainer } from \"containers/pages/LatestAlbumsPageContainer\";\nimport { SearchAlbumsPageContainer } from \"containers/pages/SearchAlbumsPageContainer\";\nimport { ShareAlbumPageContainer } from \"containers/pages/ShareAlbumPageContainer\";\n\nexport const PageContainer = () => {\n  return (\n    <Switch>\n      <Route\n        exact\n        path={routes.latestAlbumsPattern}\n        component={LatestAlbumsPageContainer}\n      />\n      <Route\n        exact\n        path={routes.searchAlbumsPattern}\n        component={SearchAlbumsPageContainer}\n      />\n      <Route\n        exact\n        path={routes.shareAlbumPattern}\n        component={ShareAlbumPageContainer}\n      />\n      <Route\n        exact\n        path=\"/\"\n        render={() => <Redirect to={routes.latestAlbumsPattern} />}\n      />\n    </Switch>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M10.59 9.17L6.12 4.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l4.46 4.46 1.42-1.4zm4.76-4.32l1.19 1.19L4.7 17.88c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L17.96 7.46l1.19 1.19c.31.31.85.09.85-.36V4.5c0-.28-.22-.5-.5-.5h-3.79c-.45 0-.67.54-.36.85zm-.52 8.56l-1.41 1.41 3.13 3.13-1.2 1.2c-.31.31-.09.85.36.85h3.79c.28 0 .5-.22.5-.5v-3.79c0-.45-.54-.67-.85-.35l-1.19 1.19-3.13-3.14z\"\n});\n\nvar SvgRoundShuffle24px = function SvgRoundShuffle24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-shuffle-24px.6ffc9aea.svg\";\nexport { SvgRoundShuffle24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-shuffle-24px.svg\";\n\nexport const ShuffleIcon = ReactComponent;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M7 7h10v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79c-.31-.31-.85-.09-.85.36V5H6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7zm10 10H7v-1.79c0-.45-.54-.67-.85-.35l-2.79 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.31.31.85.09.85-.36V19h11c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1s-1 .45-1 1v3z\"\n});\n\nvar SvgRoundRepeat24px = function SvgRoundRepeat24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-repeat-24px.aaff14ae.svg\";\nexport { SvgRoundRepeat24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-repeat-24px.svg\";\n\nexport const RepeatIcon = ReactComponent;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1zm3.66 6.82l5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z\"\n});\n\nvar SvgRoundSkipPrevious24px = function SvgRoundSkipPrevious24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-skip_previous-24px.f1732ec6.svg\";\nexport { SvgRoundSkipPrevious24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-skip_previous-24px.svg\";\n\nexport const SkipPreviousIcon = ReactComponent;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z\"\n});\n\nvar SvgRoundSkipNext24px = function SvgRoundSkipNext24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-skip_next-24px.9bd23c1a.svg\";\nexport { SvgRoundSkipNext24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-skip_next-24px.svg\";\n\nexport const SkipNextIcon = ReactComponent;\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./PlayerControls.module.css\";\n\ntype TPanelProps = {|\n  children: React.Node\n|};\n\nexport const PlayerControlsPanel = (props: TPanelProps) => (\n  <div className={styles.PlayerControls__Panel} {...props} />\n);\n\ntype TButtonsGroupProps = {|\n  children: React.Node,\n  moveButtonsToRight?: boolean\n|};\n\nexport const PlayerControlsButtonsGroup = ({\n  moveButtonsToRight,\n  ...nativeProps\n}: TButtonsGroupProps) => (\n  <div\n    className={`${styles.PlayerControls__ButtonsGroup} ${\n      moveButtonsToRight === true\n        ? styles.PlayerControls__ButtonsGroup_toRight\n        : \"\"\n    }`}\n    {...nativeProps}\n  />\n);\n\ntype TButtonProps = {|\n  children: React.Node,\n  onClick(): void\n|};\n\nexport const PlayerControlsButton = (props: TButtonProps) => (\n  <button className={styles.PlayerControls__Button} type=\"button\" {...props} />\n);\n\ntype TTrackInfoProps = {|\n  title: string,\n  artistName: string\n|};\n\nexport const PlayerControlsTrackInfo = ({\n  title,\n  artistName\n}: TTrackInfoProps) => (\n  <div className={styles.PlayerControls__TrackInfo}>\n    <span className={styles.PlayerControls__Title}>{title}</span>\n    <span className={styles.PlayerControls__ArtistName}>{artistName}</span>\n  </div>\n);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M6 13h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1s.45 1 1 1zm-2 4h12c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm3-9c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1z\"\n});\n\nvar SvgRoundClearAll24px = function SvgRoundClearAll24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-clear_all-24px.f4987d47.svg\";\nexport { SvgRoundClearAll24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-clear_all-24px.svg\";\n\nexport const ClearAllIcon = ReactComponent;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z\"\n});\n\nvar SvgRoundDelete24px = function SvgRoundDelete24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-delete-24px.7fa3c9cb.svg\";\nexport { SvgRoundDelete24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-delete-24px.svg\";\n\nexport const DeleteIcon = ReactComponent;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M16.59 9H15V4c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v5H7.41c-.89 0-1.34 1.08-.71 1.71l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.63-.63.19-1.71-.7-1.71zM5 19c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1z\"\n});\n\nvar SvgRoundGetApp24px = function SvgRoundGetApp24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-get_app-24px.9ded83db.svg\";\nexport { SvgRoundGetApp24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-get_app-24px.svg\";\n\nexport const GetIcon = ReactComponent;\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./RoundButton.module.css\";\n\ntype TButtonProps = {|\n  children: React.Node,\n  onClick(e: SyntheticEvent<HTMLButtonElement>): void\n|};\n\nexport const RoundButton = ({ ...nativeProps }: TButtonProps) => (\n  <button {...nativeProps} className={styles.RoundButton__Button} />\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./Playlist.module.css\";\n\nimport { SquareButton } from \"components/SquareButton/SquareButtonComponents\";\nimport { ClearAllIcon } from \"icons/round-clear_all\";\nimport { DeleteIcon } from \"icons/round-delete\";\nimport { GetIcon } from \"icons/round-get_app\";\nimport { RoundButton } from \"components/RoundButton/RoundButtonComponents\";\n\ntype TPopupProps = {|\n  children: React.Node\n|};\n\nexport const PlaylistPopup = (props: TPopupProps) => (\n  <div className={styles.Playlist__Popup} {...props} />\n);\n\ntype THeaderProps = {|\n  tracksCount: number,\n  onClearPlaylist(): void\n|};\n\nexport const PlaylistHeader = ({\n  tracksCount,\n  onClearPlaylist\n}: THeaderProps) => (\n  <div className={styles.Playlist__Header}>\n    <div className={styles.Playlist__TracksCount}>{tracksCount} tracks</div>\n    <div className={styles.Playlist__ClearButton}>\n      <SquareButton onClick={onClearPlaylist}>\n        <ClearAllIcon />\n      </SquareButton>\n    </div>\n  </div>\n);\n\ntype TBodyProps = {|\n  children: React.Node\n|};\n\nexport const PlaylistBody = (props: TBodyProps) => (\n  <div className={styles.Playlist__Body}>\n    <div className={styles.Playlist__BodyContent} {...props} />\n  </div>\n);\n\ntype TTrackProps = {|\n  artistName: string,\n  title: string,\n  isPlayButtonDisabled: boolean,\n  hasPlayingIndicator: boolean,\n  hasCachingIndicator: boolean,\n  onPlay(): void,\n  onRemove(): void\n|};\n\nexport const PlaylistTrack = ({\n  artistName,\n  title,\n  isPlayButtonDisabled,\n  hasPlayingIndicator,\n  hasCachingIndicator,\n  onPlay,\n  onRemove\n}: TTrackProps) => (\n  <div\n    className={`${styles.Playlist__Track} ${\n      hasPlayingIndicator ? styles.Playlist__Track_playing : \"\"\n    }`}\n  >\n    <button\n      disabled={isPlayButtonDisabled}\n      className={styles.Playlist__PlayButton}\n      type=\"button\"\n      onClick={onPlay}\n    >\n      {hasCachingIndicator && (\n        <div className={styles.Playlist__CachingIndicator}>\n          <GetIcon />\n        </div>\n      )}\n      <div className={styles.Playlist__TrackInfo}>\n        <div className={styles.Playlist__TrackTitle}>{title}</div>\n        <div className={styles.Playlist__TrackArtist}>{artistName}</div>\n      </div>\n    </button>\n    <div className={styles.Playlist__SecondaryTrackAction}>\n      <RoundButton onClick={onRemove}>\n        <DeleteIcon />\n      </RoundButton>\n    </div>\n  </div>\n);\n","// @flow strict\n\nimport type { TPlaylistTrack } from \"types/stateTypes\";\n\nimport * as React from \"react\";\n\nimport { PlayerContext } from \"contexts/PlayerContext\";\nimport { useContextStrict } from \"hooks/useContextStrict\";\nimport { PlaylistTrack } from \"components/Playlist/PlaylistConponents\";\n\ntype TProps = {|\n  track: TPlaylistTrack\n|};\n\nexport const PlaylistTrackContainer = ({ track }: TProps) => {\n  const { id, artistName, title } = track;\n\n  const {\n    removePlaylistTrack,\n    playingTrackId,\n    setPlayingTrackId\n  } = useContextStrict(PlayerContext);\n\n  const isCurrentlyPlaying = playingTrackId === id;\n\n  // TODO: figure out how to better\n  // track down cached audios\n  const isCached = true;\n\n  const memoizedTrack = React.useMemo(() => {\n    const handleRemoveTrack = () => {\n      removePlaylistTrack(id);\n    };\n    const handlePlayTrack = () => {\n      setPlayingTrackId(id);\n    };\n\n    return (\n      <PlaylistTrack\n        artistName={artistName}\n        title={title}\n        hasPlayingIndicator={isCurrentlyPlaying}\n        isPlayButtonDisabled={!isCached}\n        hasCachingIndicator={!isCached}\n        onRemove={handleRemoveTrack}\n        onPlay={handlePlayTrack}\n      />\n    );\n  }, [\n    id,\n    artistName,\n    title,\n    isCurrentlyPlaying,\n    removePlaylistTrack,\n    setPlayingTrackId\n  ]);\n\n  return memoizedTrack;\n};\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport { PlayerContext } from \"contexts/PlayerContext\";\nimport { useContextStrict } from \"hooks/useContextStrict\";\nimport { PlaylistTrackContainer } from \"./PlaylistTrackContainer\";\nimport {\n  PlaylistPopup,\n  PlaylistHeader,\n  PlaylistBody\n} from \"components/Playlist/PlaylistConponents\";\n\ntype TProps = {||};\n\nexport const PlaylistPopupContainer = (props: TProps) => {\n  const { playlist, clearPlaylist } = useContextStrict(PlayerContext);\n\n  const handleClearPlaylist = () => {\n    clearPlaylist();\n  };\n\n  return (\n    <PlaylistPopup>\n      <PlaylistHeader\n        tracksCount={playlist.length}\n        onClearPlaylist={handleClearPlaylist}\n      />\n      <PlaylistBody>\n        {playlist.map(track => (\n          <PlaylistTrackContainer track={track} key={track.id} />\n        ))}\n      </PlaylistBody>\n    </PlaylistPopup>\n  );\n};\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport { ArrowDownIcon } from \"icons/round-keyboard_arrow_down\";\nimport { ShuffleIcon } from \"icons/round-shuffle\";\nimport { RepeatIcon } from \"icons/round-repeat\";\nimport { SkipPreviousIcon } from \"icons/round-skip_previous\";\nimport { SkipNextIcon } from \"icons/round-skip_next\";\nimport { useContextStrict } from \"hooks/useContextStrict\";\nimport { PlayerContext } from \"contexts/PlayerContext\";\nimport { PlayerControlsButtonsGroup } from \"components/PlayerControls/PlayerControlsConponents\";\nimport { SquareButton } from \"components/SquareButton/SquareButtonComponents\";\nimport { PlaylistPopupContainer } from \"./PlaylistPopupContainer\";\n\ntype TProps = {|\n  onSwitchToCurrentTrackMode(): void\n|};\n\nexport const PlaylistControlsContainer = (props: TProps) => {\n  const { onSwitchToCurrentTrackMode } = props;\n\n  const {\n    isShuffle,\n    isRepeat,\n    toggleIsShuffle,\n    toggleIsRepeat\n  } = useContextStrict(PlayerContext);\n\n  const handleRepeat = () => {\n    toggleIsRepeat();\n  };\n\n  const handleShuffle = () => {\n    toggleIsShuffle();\n  };\n\n  const handleSkipNext = () => {};\n\n  const handleSkipPrevious = () => {};\n\n  return (\n    <>\n      <PlayerControlsButtonsGroup>\n        <SquareButton hasToggledOnIndicator={isShuffle} onClick={handleShuffle}>\n          <ShuffleIcon />\n        </SquareButton>\n        <SquareButton hasToggledOnIndicator={isRepeat} onClick={handleRepeat}>\n          <RepeatIcon />\n        </SquareButton>\n      </PlayerControlsButtonsGroup>\n      <PlayerControlsButtonsGroup>\n        <SquareButton onClick={handleSkipPrevious}>\n          <SkipPreviousIcon />\n        </SquareButton>\n        <SquareButton onClick={handleSkipNext}>\n          <SkipNextIcon />\n        </SquareButton>\n      </PlayerControlsButtonsGroup>\n      <PlayerControlsButtonsGroup moveButtonsToRight>\n        <SquareButton onClick={onSwitchToCurrentTrackMode}>\n          <ArrowDownIcon />\n        </SquareButton>\n      </PlayerControlsButtonsGroup>\n      <PlaylistPopupContainer />\n    </>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z\"\n});\n\nvar SvgRoundPause24px = function SvgRoundPause24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-pause-24px.01adca44.svg\";\nexport { SvgRoundPause24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-pause-24px.svg\";\n\nexport const PauseIcon = ReactComponent;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M14 6H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm0 4H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM4 16h6c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM19 6c-1.1 0-2 .9-2 2v6.18c-.31-.11-.65-.18-1-.18-1.84 0-3.28 1.64-2.95 3.54.21 1.21 1.2 2.2 2.41 2.41 1.9.33 3.54-1.11 3.54-2.95V8h2c.55 0 1-.45 1-1s-.45-1-1-1h-2z\"\n});\n\nvar SvgRoundQueueMusic24px = function SvgRoundQueueMusic24px(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/round-queue_music-24px.c8f95e4d.svg\";\nexport { SvgRoundQueueMusic24px as ReactComponent };","// @flow strict\n\nimport { ReactComponent } from \"./round-queue_music-24px.svg\";\n\nexport const PlaylistIcon = ReactComponent;\n","// @flow strict\n\nimport type { TPlaylistTrack } from \"types/stateTypes\";\n\nimport * as React from \"react\";\n\nimport { PauseIcon } from \"icons/round-pause\";\nimport { PlayArrowIcon } from \"icons/round-play-arrow\";\nimport { useContextStrict } from \"hooks/useContextStrict\";\nimport { PlayerContext } from \"contexts/PlayerContext\";\nimport { PlaylistIcon } from \"icons/round-queue_music\";\nimport {\n  PlayerControlsTrackInfo,\n  PlayerControlsButtonsGroup\n} from \"components/PlayerControls/PlayerControlsConponents\";\nimport { SquareButton } from \"components/SquareButton/SquareButtonComponents\";\n\ntype TProps = {|\n  onSwitchToPlaylistMode(): void,\n  playingTrack: TPlaylistTrack\n|};\n\nexport const CurrentTrackControlsContainer = (props: TProps) => {\n  const { onSwitchToPlaylistMode, playingTrack } = props;\n\n  const { title, artistName } = playingTrack;\n\n  const { isPaused, toggleIsPaused } = useContextStrict(PlayerContext);\n\n  return (\n    <>\n      <PlayerControlsButtonsGroup>\n        <SquareButton onClick={toggleIsPaused}>\n          {isPaused ? <PauseIcon /> : <PlayArrowIcon />}\n        </SquareButton>\n      </PlayerControlsButtonsGroup>\n      <PlayerControlsTrackInfo title={title} artistName={artistName} />\n      <PlayerControlsButtonsGroup>\n        <SquareButton onClick={onSwitchToPlaylistMode}>\n          <PlaylistIcon />\n        </SquareButton>\n      </PlayerControlsButtonsGroup>\n    </>\n  );\n};\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport { PlayerContext } from \"contexts/PlayerContext\";\nimport { useContextStrict } from \"hooks/useContextStrict\";\nimport { PlaylistControlsContainer } from \"./PlaylistControlsContainer\";\nimport { CurrentTrackControlsContainer } from \"./CurrentTrackControlsContainer\";\nimport { PlayerControlsPanel } from \"components/PlayerControls/PlayerControlsConponents\";\n\ntype TProps = {||};\n\nexport const PlayerControlsContainer = (props: TProps) => {\n  const { playlist, playingTrackId } = useContextStrict(PlayerContext);\n\n  const [hasPlaylistMode, setHasPlaylistMode] = React.useState<boolean>(false);\n\n  if (playingTrackId !== null) {\n    const playingTrack = playlist.find(({ id }) => id === playingTrackId);\n    if (!playingTrack) {\n      throw new TypeError();\n    }\n\n    const handleSwitchToCurrentTrackMode = () => {\n      setHasPlaylistMode(false);\n    };\n\n    const handleSwitchToPlaylistMode = () => {\n      setHasPlaylistMode(true);\n    };\n\n    return (\n      <PlayerControlsPanel>\n        {hasPlaylistMode ? (\n          <PlaylistControlsContainer\n            onSwitchToCurrentTrackMode={handleSwitchToCurrentTrackMode}\n          />\n        ) : (\n          <CurrentTrackControlsContainer\n            onSwitchToPlaylistMode={handleSwitchToPlaylistMode}\n            playingTrack={playingTrack}\n          />\n        )}\n      </PlayerControlsPanel>\n    );\n  }\n\n  return null;\n};\n","// @flow strict\nimport type { TPlaylistTrack } from \"types/stateTypes\";\n\nimport * as React from \"react\";\n\nimport { PlayerScreenWrapper } from \"components/PlayerScreen/PlayerScreenWrapper\";\nimport { HeaderContainer } from \"containers/HeaderContainer\";\nimport { PageContainer } from \"containers/PageContainer\";\nimport { PlayerContext } from \"contexts/PlayerContext\";\nimport { getUniqueString } from \"utils/getUniqueString\";\nimport { PlayerControlsContainer } from \"./PlayerControlsContainer\";\n\ntype TProps = {||};\n\nconst fakeId = getUniqueString();\nconst fakeId2 = getUniqueString();\n\nexport const PlayerScreenContainer = (props: TProps) => {\n  const [isPaused, setIsPaused] = React.useState<boolean>(false);\n  const [isShuffle, setIsShuffle] = React.useState<boolean>(false);\n  const [isRepeat, setIsRepeat] = React.useState<boolean>(false);\n  const [playlist, setPlaylist] = React.useState<TPlaylistTrack[]>([\n    {\n      id: fakeId,\n      title: \"Wild Wild Wild Wild Wild Wild West\",\n      artistName: \"John Wayne\",\n      audioSrc: \"\"\n    },\n    {\n      id: fakeId2,\n      title: \"Some shitty pop song from your girlfriend's vk feed\",\n      artistName: \"Bon Kabon\",\n      audioSrc: \"\"\n    }\n  ]);\n  const [playingTrackId, setPlayingTrackId] = React.useState<string | null>(\n    fakeId\n  );\n\n  const clearPlaylist = () => {\n    setPlaylist([]);\n    setPlayingTrackId(null);\n  };\n\n  const addPlaylistTracks = (tracks: TPlaylistTrack[]) => {\n    setPlaylist([...playlist, ...tracks]);\n  };\n\n  const removePlaylistTrack = (id: string) => {\n    setPlaylist(playlist.filter(track => track.id !== id));\n  };\n\n  const toggleIsPaused = () => {\n    setIsPaused(state => !state);\n  };\n\n  const toggleIsShuffle = () => {\n    setIsShuffle(state => !state);\n  };\n\n  const toggleIsRepeat = () => {\n    setIsRepeat(state => !state);\n  };\n\n  const playerContextValue = {\n    playlist,\n    isPaused,\n    isShuffle,\n    isRepeat,\n    playingTrackId,\n\n    setPlayingTrackId,\n    addPlaylistTracks,\n    removePlaylistTrack,\n    clearPlaylist,\n    toggleIsPaused,\n    toggleIsRepeat,\n    toggleIsShuffle\n  };\n\n  return (\n    <PlayerContext.Provider value={playerContextValue}>\n      <PlayerScreenWrapper>\n        <PageContainer />\n        <HeaderContainer />\n        <PlayerControlsContainer />\n      </PlayerScreenWrapper>\n    </PlayerContext.Provider>\n  );\n};\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./Themes.module.css\";\n\ntype TProps = {|\n  children: React.Node\n|};\n\nexport const Theme = (props: TProps) => (\n  <div {...props} className={styles.Theme} />\n);\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./App.module.css\";\n\ntype TProps = {|\n  children: React.Node\n|};\n\nexport const AppWrapper = (props: TProps) => (\n  <div className={styles.App__Wrapper} {...props} />\n);\n","// @flow strict\n\nimport type { TServicesContext } from \"types/contextTypes\";\n\nimport * as React from \"react\";\n\nimport { AppLoadingScreen } from \"components/App/AppLoadingScreen\";\nimport { ServicesContext } from \"contexts/ServicesContext\";\nimport { useContextStrict } from \"hooks/useContextStrict\";\nimport { usePromiseEffect } from \"hooks/usePromiseEffect\";\nimport { PlayerScreenContainer } from \"containers/PlayerScreenContainer\";\nimport { Theme } from \"components/Themes/ThemesComponents\";\nimport { AppWrapper } from \"components/App/AppWrapper\";\n\ntype TProps = {||};\n\nexport const AppContainer = (props: TProps) => {\n  const { startApp } = useContextStrict<TServicesContext>(ServicesContext);\n\n  const { isPending, isSucceeded } = usePromiseEffect<void>(startApp, []);\n\n  return (\n    <Theme>\n      <AppWrapper>\n        {isPending && <AppLoadingScreen />}\n        {isSucceeded && <PlayerScreenContainer />}\n      </AppWrapper>\n    </Theme>\n  );\n};\n","// @flow strict\n\nimport * as React from \"react\";\n\ntype TProps = {|\n  errorConstructor: Class<Error>,\n  children: React.Node,\n  errorRenderer(props: Error): React.Node\n|};\n\ntype TState = {|\n  error: null | Error\n|};\n\nexport class ErrorBoundary extends React.Component<TProps, TState> {\n  state = {\n    error: null\n  };\n\n  static getDerivedStateFromError(error: Error) {\n    return {\n      error\n    };\n  }\n\n  render() {\n    const { children, errorRenderer, errorConstructor } = this.props;\n    const { error } = this.state;\n    if (error !== null) {\n      if (error instanceof errorConstructor) {\n        return errorRenderer(error);\n      } else {\n        throw error;\n      }\n    }\n    return children;\n  }\n}\n","// @flow strict\n\nimport * as React from \"react\";\n\nimport styles from \"./App.module.css\";\n\ntype TProps = Error;\n\nexport const AppErrorScreen = ({ message }: TProps) => (\n  <div className={styles.App__ErrorScreen}>\n    <p className={styles.App__ErrorMessage}>{message}</p>\n  </div>\n);\n","// @flow strict\n\nexport const asyncTimeout = (delay: number): Promise<void> =>\n  new Promise(r => setTimeout(r, delay));\n","// @flow strict\n\nimport { asyncTimeout } from \"utils/asyncTimeout\";\n\nexport const startApp = (): Promise<void> => asyncTimeout(500);\n","// @flow strict\n\nimport type { TFeedAlbum } from \"types/stateTypes\";\n\nexport const feedAlbumMocks: TFeedAlbum[] = [\n  {\n    id: \"1\",\n    title: \"Album Title\",\n    artistName: \"Album Artist\",\n    coverSrc:\n      \"https://upload.wikimedia.org/wikipedia/en/0/05/Casualties_of_Cool.jpg\"\n  },\n  {\n    id: \"2\",\n    title: \"Next album title\",\n    artistName: \"Another New Retrovawe genius\",\n    coverSrc:\n      \"https://preview.redd.it/6dft2z5w9cyz.jpg?width=960&crop=smart&auto=webp&s=9f934dc525835511feb7b7ef9d60f7319cea4423\"\n  },\n  {\n    id: \"2\",\n    title: \"Next album title that will break your neck\",\n    artistName: \"Another New Retrovawe genius Pertubator 3000\",\n    coverSrc:\n      \"https://images.unsplash.com/photo-1535498730771-e735b998cd64?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80\"\n  }\n];\n","// @flow strict\n\nimport type { TFeedAlbum } from \"types/stateTypes\";\n\nimport { asyncTimeout } from \"utils/asyncTimeout\";\n\n// import { albumsStorage } from \"./mockStorage\";\n// import { mockStorageAlbumToFeedAlbum } from \"./normalize/mockStorageAlbumToFeedAlbum\";\nimport { feedAlbumMocks } from \"mocks/uiDataMocks\";\n\nexport const getLatestAlbums = async (): Promise<TFeedAlbum[]> => {\n  await asyncTimeout(500);\n  // return albumsStorage.map(mockStorageAlbumToFeedAlbum);\n  return [...feedAlbumMocks];\n};\n","// @flow strict\n\nimport type { TFeedAlbum } from \"types/stateTypes\";\n\nimport { asyncTimeout } from \"utils/asyncTimeout\";\n\nexport const getAlbumsByMatcher = async (\n  matcher: string\n): Promise<TFeedAlbum[]> => {\n  await asyncTimeout(500);\n  return [];\n};\n","// @flow strict\n\nimport type { TMockStorageAlbum } from \"types/mockTypes\";\n\nexport const albumsStorage: TMockStorageAlbum[] = [];\n","// @flow strict\n\nimport type { TFormAlbum } from \"types/stateTypes\";\nimport type { TMockStorageAlbum } from \"types/mockTypes\";\n\nimport { getUniqueString } from \"utils/getUniqueString\";\n\nconst formTrackToServicesTrack = ({ title, artists, audio }) => ({\n  title,\n  artists: artists.map(a => a.name),\n  audioSrc: URL.createObjectURL(audio)\n});\n\nexport const formAlbumToMockStorageAlbum = ({\n  title,\n  cover,\n  tracklist\n}: TFormAlbum): TMockStorageAlbum => {\n  if (cover === null) {\n    throw new Error(\"Cover is required\");\n  }\n  return {\n    id: getUniqueString(),\n    title,\n    coverSrc: URL.createObjectURL(cover),\n    tracklist: tracklist.map(formTrackToServicesTrack)\n  };\n};\n","// @flow strict\n\nimport type { TFormAlbum } from \"types/stateTypes\";\n\nimport { asyncTimeout } from \"utils/asyncTimeout\";\n\nimport { albumsStorage } from \"./mockStorage\";\n\nimport { formAlbumToMockStorageAlbum } from \"./normalize/formAlbumToMockStorageAlbum\";\n\nexport const submitAlbum = async (album: TFormAlbum): Promise<void> => {\n  await asyncTimeout(500);\n  albumsStorage.push(formAlbumToMockStorageAlbum(album));\n};\n","// @flow strict\n\nimport type { TPlaylistTrack } from \"types/stateTypes\";\nimport type { TMockStorageTrack } from \"types/mockTypes\";\n\nimport { getUniqueString } from \"utils/getUniqueString\";\n\nexport const mockStorageTrackToPlaylistTrack = ({\n  title,\n  artists,\n  audioSrc\n}: TMockStorageTrack): TPlaylistTrack => ({\n  id: getUniqueString(),\n  title,\n  artistName: artists.join(\", \"),\n  audioSrc\n});\n","// @flow strict\n\nimport type { TPlaylistTrack } from \"types/stateTypes\";\n\nimport { asyncTimeout } from \"utils/asyncTimeout\";\n\nimport { albumsStorage } from \"./mockStorage\";\nimport { mockStorageTrackToPlaylistTrack } from \"./normalize/mockStorageTrackToPlaylistTrack\";\n\nexport const getPlaylistTracksByAlbumId = async (\n  id: string\n): Promise<TPlaylistTrack[]> => {\n  await asyncTimeout(500);\n  console.log(id);\n  const targetAlbum = albumsStorage.find(album => album.id === id);\n  if (!targetAlbum) {\n    throw new Error(\"Unable to find album.\");\n  }\n  return targetAlbum.tracklist.map(mockStorageTrackToPlaylistTrack);\n};\n","// @flow strict\n\nimport { enLocaleStrings } from \"data/localization/en.module\";\nimport { mockServices } from \"services/mock\";\n\nexport const appContextMock = {\n  services: mockServices,\n  defaultLocaleStrings: enLocaleStrings\n};\n","// @flow strict\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { RootContainer } from \"containers/RootContainer\";\nimport { appContextMock } from \"data/appContextMock\";\n\nconst mountPoint = document.getElementById(\"root\");\n\nif (mountPoint) {\n  ReactDOM.render(<RootContainer {...appContextMock} />, mountPoint);\n}\n","// @flow strict\n\nimport type { TAppContext } from \"types/contextTypes\";\n\nimport * as React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport { ServicesContext } from \"contexts/ServicesContext\";\nimport { LocaleStringsContext } from \"contexts/LocaleStringsContext\";\nimport { AppContainer } from \"containers/AppContainer\";\nimport { ErrorBoundary } from \"components/ErrorBoundary\";\nimport { AppErrorScreen } from \"components/App/AppErrorScreen\";\n\ntype TProps = TAppContext;\n\nexport const RootContainer = ({ services, defaultLocaleStrings }: TProps) => (\n  <BrowserRouter>\n    <ServicesContext.Provider value={services}>\n      <LocaleStringsContext.Provider value={defaultLocaleStrings}>\n        <ErrorBoundary\n          errorConstructor={TypeError}\n          errorRenderer={AppErrorScreen}\n        >\n          <AppContainer />\n        </ErrorBoundary>\n      </LocaleStringsContext.Provider>\n    </ServicesContext.Provider>\n  </BrowserRouter>\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Playlist__Popup\":\"Playlist_Playlist__Popup__1LJyw\",\"Playlist__Header\":\"Playlist_Playlist__Header__pswmq\",\"Playlist__TracksCount\":\"Playlist_Playlist__TracksCount__EEWEg\",\"Playlist__ClearButton\":\"Playlist_Playlist__ClearButton__3vStz\",\"Playlist__Body\":\"Playlist_Playlist__Body__1uaM1\",\"Playlist__BodyContent\":\"Playlist_Playlist__BodyContent__9IB4Q\",\"Playlist__Track\":\"Playlist_Playlist__Track__3d7nK\",\"Playlist__Track_playing\":\"Playlist_Playlist__Track_playing__2ywsV\",\"Playlist__PlayButton\":\"Playlist_Playlist__PlayButton__308Gq\",\"Playlist__TrackInfo\":\"Playlist_Playlist__TrackInfo__3floB\",\"Playlist__CachingIndicator\":\"Playlist_Playlist__CachingIndicator__2vx8o\",\"Playlist__TrackTitle\":\"Playlist_Playlist__TrackTitle__1Y1XS\",\"Playlist__TrackArtist\":\"Playlist_Playlist__TrackArtist__XoHuz\",\"cachingIndicatorAnimation\":\"Playlist_cachingIndicatorAnimation__3cawP\",\"Playlist__SecondaryTrackAction\":\"Playlist_Playlist__SecondaryTrackAction__2t1qI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PlayerControls__Panel\":\"PlayerControls_PlayerControls__Panel__rPZCt\",\"PlayerControls__ButtonsGroup\":\"PlayerControls_PlayerControls__ButtonsGroup__2JNhN\",\"PlayerControls__ButtonsGroup_toRight\":\"PlayerControls_PlayerControls__ButtonsGroup_toRight__1FHwV\",\"PlayerControls__TrackInfo\":\"PlayerControls_PlayerControls__TrackInfo__3QBQU\",\"PlayerControls__Title\":\"PlayerControls_PlayerControls__Title__3vHS-\",\"PlayerControls__ArtistName\":\"PlayerControls_PlayerControls__ArtistName__iwIcb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App__Wrapper\":\"App_App__Wrapper__3v7_E\",\"App__ErrorScreen\":\"App_App__ErrorScreen__3CnfQ\",\"App__LoadingScreen\":\"App_App__LoadingScreen__1YLjR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar__Wrapper\":\"SearchBar_SearchBar__Wrapper__3QJ6c\",\"SearchBar__Form\":\"SearchBar_SearchBar__Form__6bsBi\",\"SearchBar__Input\":\"SearchBar_SearchBar__Input__1YfWp\",\"SearchBar__Cancel\":\"SearchBar_SearchBar__Cancel__2O7nh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AlbumForm__Wrapper\":\"AlbumForm_AlbumForm__Wrapper__3ftjE\",\"AlbumForm__AboutBlock\":\"AlbumForm_AlbumForm__AboutBlock__1e4yR\",\"AlbumForm__Footer\":\"AlbumForm_AlbumForm__Footer__9g-X3\",\"AlbumForm__Button\":\"AlbumForm_AlbumForm__Button__pYCeL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TrackInputs__Wrapper\":\"TrackInputs_TrackInputs__Wrapper__2ZizR\",\"TrackInputs__Controls\":\"TrackInputs_TrackInputs__Controls__3RXaF\",\"TrackInputs__Button\":\"TrackInputs_TrackInputs__Button__3rQK8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Flex__Row\":\"Flex_Flex__Row__2lTFA\",\"Flex__Left\":\"Flex_Flex__Left__2z2R7\",\"Flex__Right\":\"Flex_Flex__Right__20iSY\",\"Flex__Center\":\"Flex_Flex__Center__25E2V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ShareAlbumPage__Wrapper\":\"ShareAlbumPage_ShareAlbumPage__Wrapper__2MO-q\",\"ShareAlbumPage__Content\":\"ShareAlbumPage_ShareAlbumPage__Content__nQWaA\",\"ShareAlbumPage__Footer\":\"ShareAlbumPage_ShareAlbumPage__Footer__3ZaVN\",\"DropZone__Wrapper\":\"ShareAlbumPage_DropZone__Wrapper__24vkp\",\"DropZone__Label\":\"ShareAlbumPage_DropZone__Label__XO4iw\",\"DropZone__Input\":\"ShareAlbumPage_DropZone__Input__JtoCh\",\"DropZone__Messages\":\"ShareAlbumPage_DropZone__Messages__33PqS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AlbumCoverInput__Wrapper\":\"AlbumCoverInput_AlbumCoverInput__Wrapper__3Chtx\",\"AlbumCoverInput__Input\":\"AlbumCoverInput_AlbumCoverInput__Input__1ZeHJ\",\"AlbumCoverInput__Preview\":\"AlbumCoverInput_AlbumCoverInput__Preview__2OsWT\",\"AlbumCoverInput__Image\":\"AlbumCoverInput_AlbumCoverInput__Image__3plQL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PlayerNavigation__Popup\":\"PlayerNavigation_PlayerNavigation__Popup__qWEfv\",\"PlayerNavigation__Link\":\"PlayerNavigation_PlayerNavigation__Link__NR6zd\",\"PlayerNavigation__Link_current\":\"PlayerNavigation_PlayerNavigation__Link_current__3Krtb\",\"PlayerNavigation__CloseButton\":\"PlayerNavigation_PlayerNavigation__CloseButton__7ACDa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FixedPanel__Wrapper\":\"FixedPanel_FixedPanel__Wrapper__2XWyh\",\"FixedPanel__Wrapper_top\":\"FixedPanel_FixedPanel__Wrapper_top__2utRI\",\"FixedPanel__Wrapper_bottom\":\"FixedPanel_FixedPanel__Wrapper_bottom__21stc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AlbumsFeed__Wrapper\":\"AlbumsFeed_AlbumsFeed__Wrapper__1K1Mv\",\"AlbumsFeed__Feed\":\"AlbumsFeed_AlbumsFeed__Feed__3T4hT\",\"AlbumsFeed__LoadMoreButton\":\"AlbumsFeed_AlbumsFeed__LoadMoreButton__28rYW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AlbumTracksInput__Wrapper\":\"AlbumTracksInput_AlbumTracksInput__Wrapper__3Uo1E\",\"AlbumTracksInput__Input\":\"AlbumTracksInput_AlbumTracksInput__Input__3fUu5\",\"AlbumTracksInput__SquareButton\":\"AlbumTracksInput_AlbumTracksInput__SquareButton__LhkhY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SquareButton__Button\":\"SquareButton_SquareButton__Button__1bwGv\",\"SquareButton__Button_toggledOn\":\"SquareButton_SquareButton__Button_toggledOn__3m0S6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"Page_Wrapper__3hek_\",\"Wrapper_centered\":\"Page_Wrapper_centered__1Mmiz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card__Wrapper\":\"Card_Card__Wrapper__3sJYg\",\"Card__Wrapper_withPadding\":\"Card_Card__Wrapper_withPadding__3HDFX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PlayerScreen__Wrapper\":\"PlayerScreen_PlayerScreen__Wrapper__3j27M\",\"PlayerScreen__LeftBar\":\"PlayerScreen_PlayerScreen__LeftBar__1qnGz\",\"PlayerScreen__RightBar\":\"PlayerScreen_PlayerScreen__RightBar__riXuz\",\"PlayerScreen__BottomBar\":\"PlayerScreen_PlayerScreen__BottomBar__1e3un\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CustomTextInput__Input\":\"CustomTextInput_CustomTextInput__Input__3Fm3N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RoundButton__Button\":\"RoundButton_RoundButton__Button__cYStO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Theme\":\"Themes_Theme__1UanO\"};"],"sourceRoot":""}