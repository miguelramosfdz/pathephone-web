(this["webpackJsonppathephone-web"]=this["webpackJsonppathephone-web"]||[]).push([[0],[,,,,,,function(e,t,r){e.exports={SearchAlbumsPage__Wrapper:"SearchAlbumsPage_SearchAlbumsPage__Wrapper__2JlHn",SearchAlbumsPage__Wrapper_loading:"SearchAlbumsPage_SearchAlbumsPage__Wrapper_loading__uMidr",SearchAlbumsPage__Wrapper_fallback:"SearchAlbumsPage_SearchAlbumsPage__Wrapper_fallback__3Kuyo",SearchAlbumsPage__Wrapper_hasResults:"SearchAlbumsPage_SearchAlbumsPage__Wrapper_hasResults__1mnOH",SearchAlbumsPage__Wrapper_hasNewResults:"SearchAlbumsPage_SearchAlbumsPage__Wrapper_hasNewResults__1DuRU",SearchAlbumsPage__Body:"SearchAlbumsPage_SearchAlbumsPage__Body__2qKu3",SearchAlbumsPage__Loader:"SearchAlbumsPage_SearchAlbumsPage__Loader__2uh6T",SearchAlbumsPage__Hero:"SearchAlbumsPage_SearchAlbumsPage__Hero__PjGBh",SearchAlbumsPage__Title:"SearchAlbumsPage_SearchAlbumsPage__Title__kE6fn",SearchAlbumsPage__SubTitle:"SearchAlbumsPage_SearchAlbumsPage__SubTitle__bHVL2",SearchAlbumsPage__Button:"SearchAlbumsPage_SearchAlbumsPage__Button__1qs0Q"}},function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return _})),r.d(t,"d",(function(){return d}));var a=r(26),n=r(28),l=r(17),c=r(27),o=r(35),u=function(e){function t(){var e,r;Object(a.a)(this,t);for(var c=arguments.length,o=new Array(c),u=0;u<c;u++)o[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).message="Strict hook error.",r}return Object(c.a)(t,e),t}(Object(o.a)(TypeError)),i=function(e){function t(){var e,r;Object(a.a)(this,t);for(var c=arguments.length,o=new Array(c),u=0;u<c;u++)o[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).message="Unreachable error.",r}return Object(c.a)(t,e),t}(Object(o.a)(TypeError)),s=function(e){function t(){var e,r;Object(a.a)(this,t);for(var c=arguments.length,o=new Array(c),u=0;u<c;u++)o[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).message="Router params error.",r}return Object(c.a)(t,e),t}(Object(o.a)(TypeError)),_=function(e){function t(){var e,r;Object(a.a)(this,t);for(var c=arguments.length,o=new Array(c),u=0;u<c;u++)o[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).message="No audio files selected.",r}return Object(c.a)(t,e),t}(Object(o.a)(Error)),d=function(e){function t(){var e,r;Object(a.a)(this,t);for(var c=arguments.length,o=new Array(c),u=0;u<c;u++)o[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).message="Unexpected error.",r}return Object(c.a)(t,e),t}(Object(o.a)(Error))},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return n}));var a=400,n=5e3},function(e,t,r){e.exports={AlbumEditor__Wrapper:"AlbumEditor_AlbumEditor__Wrapper__mAm6n",AlbumEditor__Footer:"AlbumEditor_AlbumEditor__Footer__ZcBn8",AlbumEditor__FieldsetTitle:"AlbumEditor_AlbumEditor__FieldsetTitle__SECkl",AlbumEditor__FieldsetBody_padding:"AlbumEditor_AlbumEditor__FieldsetBody_padding__2QZy-",AlbumEditor__Fieldset:"AlbumEditor_AlbumEditor__Fieldset__V103W",AlbumEditor__Button:"AlbumEditor_AlbumEditor__Button__3koDq",AlbumEditor__Button_primary:"AlbumEditor_AlbumEditor__Button_primary__12z23",AlbumEditor__Button_secondary:"AlbumEditor_AlbumEditor__Button_secondary__3dm5e"}},,function(e,t,r){e.exports={AlbumTrackEditor__Wrapper:"AlbumTrackEditor_AlbumTrackEditor__Wrapper__AqPrR",AlbumTrackEditor__Common:"AlbumTrackEditor_AlbumTrackEditor__Common__3G4iR",AlbumTrackEditor__Button:"AlbumTrackEditor_AlbumTrackEditor__Button__3bfiD",AlbumTrackEditor__FileInfo:"AlbumTrackEditor_AlbumTrackEditor__FileInfo__QNcRj",AlbumTrackEditor__FileIcon:"AlbumTrackEditor_AlbumTrackEditor__FileIcon__m6Q-l",AlbumTrackEditor__FileName:"AlbumTrackEditor_AlbumTrackEditor__FileName__RuKmG"}},,,function(e,t,r){e.exports={DropZone__Wrapper:"DropZone_DropZone__Wrapper__1pqI8",DropZone__Label:"DropZone_DropZone__Label__156RJ",DropZone__Input:"DropZone_DropZone__Input__215m4",DropZone__Text:"DropZone_DropZone__Text__3m5qb",DropZone__MainText:"DropZone_DropZone__MainText__hhaAS",DropZone__ErrorText:"DropZone_DropZone__ErrorText__1sa0i",DropZone__SuccessText:"DropZone_DropZone__SuccessText__WlB2W"}},function(e,t,r){e.exports={PlaylistTrack__Wrapper:"Playlist_PlaylistTrack__Wrapper__3ujOz",PlaylistTrack__Wrapper_playing:"Playlist_PlaylistTrack__Wrapper_playing__3qup0",PlaylistTrack__Button:"Playlist_PlaylistTrack__Button__8Cy7D",PlaylistTrack__Info:"Playlist_PlaylistTrack__Info__192Bd",PlaylistTrack__Title:"Playlist_PlaylistTrack__Title__2ynps",PlaylistTrack__Artist:"Playlist_PlaylistTrack__Artist__wl8FQ",PlaylistTrack__SecondaryAction:"Playlist_PlaylistTrack__SecondaryAction__6_OqH"}},function(e,t,r){e.exports={AlbumCoverEditor__Wrapper:"AlbumCoverEditor_AlbumCoverEditor__Wrapper__1kjwi",AlbumCoverEditor__Input:"AlbumCoverEditor_AlbumCoverEditor__Input__14bSW",AlbumCoverEditor__Image:"AlbumCoverEditor_AlbumCoverEditor__Image__9mH4k",AlbumCoverEditor__Error:"AlbumCoverEditor_AlbumCoverEditor__Error__kCRMp",AlbumCoverEditor__Preview:"AlbumCoverEditor_AlbumCoverEditor__Preview__-u3ie"}},,function(e,t,r){e.exports={PlaybackControls__Wrapper:"PlaybackControls_PlaybackControls__Wrapper__1FXHs",PlaybackControls__Group:"PlaybackControls_PlaybackControls__Group__1BefT",PlaybackControls__Group_player:"PlaybackControls_PlaybackControls__Group_player__3H7aN",PlaybackControls__Group_playlist:"PlaybackControls_PlaybackControls__Group_playlist__3cfcD",PlaybackControls__Info:"PlaybackControls_PlaybackControls__Info__2crwY",PlaybackControls__Title:"PlaybackControls_PlaybackControls__Title__2VEX9",PlaybackControls__Artist:"PlaybackControls_PlaybackControls__Artist__1AwdQ"}},,,function(e,t,r){e.exports={PlaylistPopup__Wrapper:"Playlist_PlaylistPopup__Wrapper__gSS19",PlaylistPopup__Header:"Playlist_PlaylistPopup__Header__1T3mG",PlaylistPopup__Count:"Playlist_PlaylistPopup__Count__16tTF",PlaylistPopup__Button:"Playlist_PlaylistPopup__Button__2XWUd",PlaylistPopup__Body:"Playlist_PlaylistPopup__Body__34T9-",PlaylistPopup__Content:"Playlist_PlaylistPopup__Content__1mpS-"}},,function(e,t,r){e.exports={AlbumCover__Wrapper:"AlbumCover_AlbumCover__Wrapper__3vfax",AlbumCover__Image:"AlbumCover_AlbumCover__Image__yMhaP",AlbumCover__Actions:"AlbumCover_AlbumCover__Actions__2RlPN",AlbumCover__Button:"AlbumCover_AlbumCover__Button__3T4Av"}},function(e,t,r){e.exports={FeedAlbum__Wrapper:"FeedAlbum_FeedAlbum__Wrapper__l-o-U",FeedAlbum__Info:"FeedAlbum_FeedAlbum__Info__1B89V",FeedAlbum__Title:"FeedAlbum_FeedAlbum__Title__1Bqqf",FeedAlbum__Artist:"FeedAlbum_FeedAlbum__Artist__224zw"}},function(e,t,r){e.exports={AlbumAudioEditor__Wrapper:"AlbumAudioEditor_AlbumAudioEditor__Wrapper__r5bbO",AlbumAudioEditor__Input:"AlbumAudioEditor_AlbumAudioEditor__Input__15uyM",AlbumAudioEditor__Label:"AlbumAudioEditor_AlbumAudioEditor__Label__1soUd",AlbumAudioEditor__Text:"AlbumAudioEditor_AlbumAudioEditor__Text__22Jkp",AlbumAudioEditor__Error:"AlbumAudioEditor_AlbumAudioEditor__Error__1jvVu"}},,,,,function(e,t,r){e.exports={SearchControls__Wrapper:"SearchControls_SearchControls__Wrapper__2F4dR",SearchControls__Form:"SearchControls_SearchControls__Form__1d3Ne",SearchControls__Input:"SearchControls_SearchControls__Input__7iFL-",SearchControls__Button:"SearchControls_SearchControls__Button__2G9H6"}},function(e,t,r){e.exports={AlbumsFeed__Wrapper:"AlbumsFeed_AlbumsFeed__Wrapper__3_OLy",AlbumsFeed__Content:"AlbumsFeed_AlbumsFeed__Content__3AUS-",AlbumsFeed__Button:"AlbumsFeed_AlbumsFeed__Button__1srD4"}},function(e,t,r){e.exports={Page__Wrapper:"Page_Page__Wrapper__UyWg9",Page__Wrapper_centered:"Page_Page__Wrapper_centered__11xTF",Page__Wrapper_compact:"Page_Page__Wrapper_compact__3Sczl",Page__Loader:"Page_Page__Loader__23DRs"}},function(e,t,r){e.exports={LatestAlbumsPage__Wrapper_feed:"LatestAlbumsPage_LatestAlbumsPage__Wrapper_feed__3QnLr",LatestAlbumsPage__Text_fallback:"LatestAlbumsPage_LatestAlbumsPage__Text_fallback__3scz-"}},function(e,t,r){e.exports={PlaylistControls__Wrapper:"PlaylistControls_PlaylistControls__Wrapper__1e_Df",PlaylistControls__Group:"PlaylistControls_PlaylistControls__Group__1Nm5R",PlaylistControls__Group_skip:"PlaylistControls_PlaylistControls__Group_skip__2Jizf",PlaylistControls__Group_close:"PlaylistControls_PlaylistControls__Group_close__29sFR"}},,,,function(e,t,r){e.exports={PlayerNavigation__Popup:"PlayerNavigation_PlayerNavigation__Popup__zMj3L",PlayerNavigation__Link:"PlayerNavigation_PlayerNavigation__Link__2xJNX",PlayerNavigation__Link_current:"PlayerNavigation_PlayerNavigation__Link_current__2RhCJ",PlayerNavigation__CloseButton:"PlayerNavigation_PlayerNavigation__CloseButton__3dlLU"}},function(e,t,r){e.exports={OverviewControls__Wrapper:"OverviewControls_OverviewControls__Wrapper__2i7JL",OverviewControls__Group_nav:"OverviewControls_OverviewControls__Group_nav__3Lx1y",OverviewControls__Group_search:"OverviewControls_OverviewControls__Group_search__3JsoJ"}},function(e,t,r){e.exports={FloatingLabelInput__Wrapper:"FloatingLabelInput_FloatingLabelInput__Wrapper__Dzxo5",FloatingLabelInput__Input:"FloatingLabelInput_FloatingLabelInput__Input__vSYyS",FloatingLabelInput__Placeholder:"FloatingLabelInput_FloatingLabelInput__Placeholder__DdDAO",FloatingLabelInput__ValidationMessage:"FloatingLabelInput_FloatingLabelInput__ValidationMessage__1spcs"}},function(e,t,r){"use strict";r.r(t);var a=r(4),n=r.n(a),l=function(e){return new Promise((function(t){return setTimeout(t,e)}))},c=r(8),o=0,u=function(){return"".concat(o+=1)},i=function(e){return function(t){for(var r=t,a=[];r>0;)a.push(e()),r-=1;return a}},s=i((function(){return{id:u(),artistName:"Artist name",title:"Album title",coverSrc:"https://images-na.ssl-images-amazon.com/images/I/51dmdN8ejoL.jpg",saved:!0}})),_=function(e){var t;return n.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.awrap(l(c.b));case 2:return t=s(10),e.abrupt("return",{items:t,lastPageFlag:!1});case 4:case"end":return e.stop()}}))},d=function(e){return n.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.awrap(l(c.b));case 2:case"end":return e.stop()}}))},m=function(e){for(var t=e,r=[];t>0;)r.push({id:u(),artistName:"Artist name",title:"Track title",audioSrc:"https://upload.wikimedia.org/wikipedia/commons/9/99/Wolfgang_Amadeus_Mozart_-_Symphony_40_g-moll_-_1._Molto_allegro.ogg"}),t-=1;return r},E=function(e){return n.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.awrap(l(c.b));case 2:return e.abrupt("return",m(10));case 3:case"end":return e.stop()}}))},f=i((function(){return{id:u(),name:"artist name"}})),p=function(){return new File(["(\u2310\u25a1_\u25a1)"],"track.ogg",{type:"audio/ogg"})},b=(i(p),function(){return{id:u(),title:"Album title",artists:f(5),audio:p()}}),v=i(b),A=function(){return{title:"Album title",cover:null,tracklist:v(5)}},y=(i(A),function(e){return n.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.awrap(l(c.b));case 2:return e.abrupt("return",A());case 3:case"end":return e.stop()}}))}),O=function(e){return n.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.awrap(l(c.b));case 2:return e.abrupt("return",b());case 3:case"end":return e.stop()}}))},T=r(2),g=r(7),h=new Map;h.set("en",(function(){return r.e(3).then(r.bind(null,76))})),h.set("ru",(function(){return r.e(4).then(r.bind(null,77))}));var P=function(e){var t,r,a,l,c,o;return n.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(t=e.find((function(e){return h.has(e)})),r=void 0!==t?t:"en",a=h.get(r),l=Object(T.a)(h.keys()),!a){u.next=12;break}return u.next=7,n.a.awrap(a());case 7:return c=u.sent,o=c.dictionary,u.abrupt("return",{currentCode:r,availableCodes:l,dictionary:o});case 12:throw new g.d;case 13:case"end":return u.stop()}}))},I=function(){return n.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.awrap(l(c.b));case 2:return e.abrupt("return",P(["en"]));case 3:case"end":return e.stop()}}))},C=function(e){return n.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.awrap(l(c.b));case 2:return e.abrupt("return",s(5));case 3:case"end":return e.stop()}}))};r.d(t,"getAlbumPreviewsFeed",(function(){return _})),r.d(t,"submitAlbumCandidate",(function(){return d})),r.d(t,"getTrackPreviewsByAlbumIds",(function(){return E})),r.d(t,"getAlbumCandidateFromFiles",(function(){return y})),r.d(t,"getTrackCandidateFromFile",(function(){return O})),r.d(t,"getIntl",(function(){return I})),r.d(t,"getAlbumPreviewsByQuery",(function(){return C}))},,function(e,t,r){e.exports={App__Wrapper:"App_App__Wrapper__ASYXS",App__Loader:"App_App__Loader__1IMm1"}},function(e,t,r){e.exports={FixedPanel__Wrapper:"FixedPanel_FixedPanel__Wrapper__3plmL",FixedPanel__Wrapper_top:"FixedPanel_FixedPanel__Wrapper_top__3XQan",FixedPanel__Wrapper_bottom:"FixedPanel_FixedPanel__Wrapper_bottom__6x-OT"}},,function(e,t,r){e.exports={SquareButton__Button:"SquareButton_SquareButton__Button__3HxaT",SquareButton__Button_toggledOn:"SquareButton_SquareButton__Button_toggledOn__3Q3xt"}},,,function(e,t,r){e.exports={ShareAlbumPage__Loader:"ShareAlbumPage_ShareAlbumPage__Loader__kpuK-",ShareAlbumPage__Spinner:"ShareAlbumPage_ShareAlbumPage__Spinner__1xDtI",rotate:"ShareAlbumPage_rotate__cz8GV"}},function(e,t,r){e.exports={RootFallback__Wrapper:"App_RootFallback__Wrapper__1Qq9-",RootFallback__Text:"App_RootFallback__Text__1LOAG"}},,,,,,,function(e,t,r){e.exports={Spinner:"Spinner_Spinner__1Ixeu",rotate:"Spinner_rotate__2rLdB"}},function(e,t,r){e.exports={LoadMoreButton:"LoadMoreButton_LoadMoreButton__3lXrb"}},function(e,t,r){e.exports={RoundButton__Button:"RoundButton_RoundButton__Button__1bepb"}},function(e,t,r){e.exports={ThemeProvider__Wrapper:"ThemeProvider_ThemeProvider__Wrapper__2aOTm"}},,function(e,t,r){e.exports=r(75)},function(e,t,r){},,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var a=r(41);r.d(t,"productionService",(function(){return a}))},function(e,t,r){"use strict";r.r(t);r(63);var a=r(0),n=r.n(a),l=r(53),c=r.n(l),o=r(37),u=r(41),i=a.createContext(u),s=r(3),_=r(54),d=a.createContext((function(e){0})),m=Object(_.createEventBoundary)(d),E=a.createContext(null),f={activeScreen:"LOADING",intl:null},p=function(e,t){switch(t.type){case"GET_INTL":return"RESOLVED"===t.status?{intl:t.payload,activeScreen:"PLAYER"}:e;default:return e}},b=function(e){var t=e.children,r=a.useReducer(p,f),n=Object(s.a)(r,2),l=n[0],c=n[1];return a.createElement(m,{handler:c},a.createElement(E.Provider,{value:l},t))},v=a.createContext({primaryControls:"OVERVIEW",secondaryControls:"PLAYBACK",wantedTracksAlbumIds:[],playlist:[],playingTrackId:null,audioStatus:"PAUSED"}),A=r(2),y=r(1),O=function(e){var t=e.playlist.findIndex((function(t){return t.id===e.playingTrackId}));if(t>-1){var r=e.playlist[t+1];return r?r.id:null}throw new TypeError},T={primaryControls:"OVERVIEW",secondaryControls:"PLAYBACK",wantedTracksAlbumIds:[],playlist:[],playingTrackId:null,audioStatus:"PAUSED"},g=function(e,t){switch(t.type){case"GET_TRACK_PREVIEWS_BY_ALBUM_IDS":if("RESOLVED"===t.status){if(0===t.payload.length)return e;var r=null===e.playingTrackId?t.payload[0].id:e.playingTrackId;return Object(y.a)({},e,{playlist:[].concat(Object(A.a)(e.playlist),Object(A.a)(t.payload)),playingTrackId:r})}return e;case"FEED_ALBUM__PLAY":return Object(y.a)({},e,{wantedTracksAlbumIds:[].concat(Object(A.a)(e.wantedTracksAlbumIds),[t.payload]),playlist:[],playingTrackId:null,audioStatus:"PLAYING"});case"FEED_ALBUM__ADD_TO_PLAYLIST":return Object(y.a)({},e,{wantedTracksAlbumIds:[].concat(Object(A.a)(e.wantedTracksAlbumIds),[t.payload])});case"AUDIO__WAITING":return Object(y.a)({},e,{audioStatus:"PENDING"});case"AUDIO__PLAYING":case"PLAYBACK_CONTROLS__PLAY":return Object(y.a)({},e,{audioStatus:"PLAYING"});case"AUDIO__PAUSED":case"PLAYBACK_CONTROLS__PAUSE":return Object(y.a)({},e,{audioStatus:"PAUSED"});case"AUDIO__ENDED":var a=O(e),n=e.playlist[0].id;return Object(y.a)({},e,{playingTrackId:null!==a?a:n,audioStatus:null!==a?"PLAYING":"PAUSED"});case"AUDIO__FAILED":return Object(y.a)({},e,{audioStatus:"FAILED"});case"PLAYLIST_CONTROLS__PLAY_NEXT":var l=O(e);return l?Object(y.a)({},e,{playingTrackId:l}):e;case"PLAYLIST_CONTROLS__PLAY_PREVIOUS":var c=function(e){var t=e.playlist.findIndex((function(t){return t.id===e.playingTrackId}));if(t>-1){var r=e.playlist[t-1];return r?r.id:null}throw new TypeError}(e),o=e.playlist[0].id;return Object(y.a)({},e,{playingTrackId:null!==c?c:o});case"PLAYLIST_TRACK__PLAY":return Object(y.a)({},e,{playingTrackId:t.payload,audioStatus:"PENDING"});case"PLAYLIST_TRACK__REMOVE":var u=e.playlist.filter((function(e){return e.id!==t.payload}));return 0===u.length?Object(y.a)({},T):e.playingTrackId===t.payload?Object(y.a)({},e,{playlist:u,playingTrackId:O(e)}):Object(y.a)({},e,{playlist:u});case"PLAYLIST_POPUP__CLEAR":return Object(y.a)({},T);case"OVERVIEW_CONTROLS__OPEN_SEARCH":return Object(y.a)({},e,{primaryControls:"SEARCH"});case"SEARCH_CONTROLS__SUBMIT":case"SEARCH_CONTROLS__CANCEL":return Object(y.a)({},e,{primaryControls:"OVERVIEW"});case"PLAYLIST_CONTROLS__CLOSE":return Object(y.a)({},e,{secondaryControls:"PLAYBACK"});case"PLAYBACK_CONTROLS__OPEN_PLAYLIST":return Object(y.a)({},e,{secondaryControls:"PLAYLIST"});default:return e}},h=function(e){var t=e.children,r=a.useReducer(g,T),n=Object(s.a)(r,2),l=n[0],c=n[1];return a.createElement(m,{handler:c},a.createElement(v.Provider,{value:l},t))},P=function(){return n.a.useContext(i)},I=r(42),C=I.usePromise,L=function(){return n.a.useContext(d)};function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var k=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),N=n.a.createElement("path",{d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}),D=function(e){var t=e.svgRef,r=e.title,a=R(e,["svgRef","title"]);return n.a.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,k,N)},j=n.a.forwardRef((function(e,t){return n.a.createElement(D,S({svgRef:t},e))})),B=(r.p,j),w="APP__WRAPPER",x="APP__LOADER",F="PAGE_WRAPPER",M="PAGE_LOADER",U="HEADER__PANEL",W="HEADER__SEARCH_BUTTON",G="HEADER__NAVIGATION_BUTTON",V="PLAYER_NAVIGATION__POPUP",H="PLAYER_NAVIGATION__LATEST_ALBUMS_LINK",Y="PLAYER_NAVIGATION__SHARE_ALBUM_LINK",K="SEARCH_BAR__INPUT",z="SEARCH_BAR__FORM",Z="SEARCH_BAR__CLEAR_BUTTON",q="LATEST_LABUMS_PAGE__FALLBACK",Q="LATEST_LABUMS_PAGE__FEED",J="LATEST_LABUMS_PAGE__LOAD_MORE_BUTTON",X="LATEST_LABUMS_PAGE__FEED_LOADER",$="SEARCH_ALBUMS_PAGE__TITLE",ee="SEARCH_ALBUMS_PAGE__SUB_TITLE",te="SEARCH_ALBUMS_PAGE__LOADER",re="SEARCH_ALBUMS_PAGE__FEED",ae="SEARCH_ALBUMS_PAGE__NEW_RESULTS_BUTTON",ne="SEARCH_ALBUMS_PAGE__FALLBACK_BUTTON",le="FEED_ALBUM_WRAPPER",ce="SHARE_ALBUM_PAGE__LOADER",oe="SHARE_ALBUM_PAGE__DROP_ZONE_INPUT",ue="SHARE_ALBUM_PAGE__DROP_ZONE_TEXT",ie="SHARE_ALBUM_PAGE__ALBUM_EDITOR",se="ALBUM_EDITOR__TITLE_INPUT",_e="ALBUM_EDITOR__SUBMIT_BUTTON",de="ALBUM_EDITOR__CANCEL_BUTTON",me="ALBUM_TRACK_EDITOR__WRAPPER",Ee="ALBUM_TRACK_EDITOR__TITLE_INPUT",fe="ALBUM_TRACK_EDITOR__TITLE_VALIDATION",pe="ALBUM_TRACK_EDITOR__REMOVE_BUTTON",be="ALBUM_ARTIST_EDITOR__ARTIST_NAME_INPUT",ve="ALBUM_ARTIST_EDITOR__ARTIST_NAME_VALIDATION",Ae="ALBUM_TRACKLIST__VALIDATION",ye="ALBUM_TRACKLIST__TRACK_INPUT",Oe=r(22),Te=r(46),ge=r.n(Te),he=function(e){var t=e.hasToggledOnIndicator,r=e.testId,n=Object(Oe.a)(e,["hasToggledOnIndicator","testId"]);return a.createElement("button",Object.assign({},n,{className:"".concat(ge.a.SquareButton__Button," ").concat(!0===t?ge.a.SquareButton__Button_toggledOn:""),"data-testid":r}))},Pe=r(12),Ie="/latest",Ce=function(){return"/latest"},Le="/search/:query",Se=function(e){return"/search/".concat(e)},Re="/share",ke=function(){return"/share"};function Ne(e,t){a.useEffect((function(){var r=function(r){var a=e.current,n=r.target;n instanceof HTMLElement&&a instanceof HTMLElement&&!a.contains(n)&&t()};return window.addEventListener("click",r),function(){window.removeEventListener("click",r)}}),[e,t])}var De=r(7),je=r(44),Be=r.n(je),we=function(e){var t=e.children,r=e.position,n=e.testId,l=function(){var e=Be.a.FixedPanel__Wrapper;if("top"===r)return"".concat(e," ").concat(Be.a.FixedPanel__Wrapper_top);if("bottom"===r)return"".concat(e," ").concat(Be.a.FixedPanel__Wrapper_bottom);throw new De.e}();return a.createElement("div",{className:l,"data-testid":n},t)},xe=r(30),Fe=r.n(xe),Me=function(e){var t=e.onOutsideClick,r=e.children,n=a.useRef(null);return Ne(n,t),a.createElement(we,{position:"top"},a.createElement("div",{ref:n,className:Fe.a.SearchControls__Wrapper},r))},Ue=function(e){return a.createElement("form",Object.assign({},e,{className:Fe.a.SearchControls__Form,"data-testid":z}))},We=function(e){return a.createElement("input",Object.assign({},e,{type:"text",autoFocus:!0,className:Fe.a.SearchControls__Input,"data-testid":K}))},Ge=function(e){var t,r=a.useState(""),n=Object(s.a)(r,2),l=n[0],c=n[1],o=L(),u=Object(Pe.g)(),i=a.useCallback((function(e){var t=e.currentTarget.value;c(t)}),[]),_=a.useCallback((function(e){e.preventDefault(),u.push(Se(l)),o({type:"SEARCH_CONTROLS__SUBMIT",payload:l})}),[o,u,l]),d=a.useCallback((function(){o({type:"SEARCH_CONTROLS__CANCEL"})}),[o]);return t={Escape:d},a.useEffect((function(){var e=function(e){var r=t[e.key];r&&r(e)};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}})),a.createElement(Me,{onOutsideClick:d},a.createElement(Ue,{onSubmit:_},a.createElement(We,{onChange:i,value:l})),a.createElement(he,{testId:Z,onClick:d},a.createElement(B,null)))};function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function He(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Ye=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Ke=n.a.createElement("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"}),ze=function(e){var t=e.svgRef,r=e.title,a=He(e,["svgRef","title"]);return n.a.createElement("svg",Ve({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Ye,Ke)},Ze=n.a.forwardRef((function(e,t){return n.a.createElement(ze,Ve({svgRef:t},e))})),qe=(r.p,Ze);function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Je(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Xe=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),$e=n.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),et=function(e){var t=e.svgRef,r=e.title,a=Je(e,["svgRef","title"]);return n.a.createElement("svg",Qe({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Xe,$e)},tt=n.a.forwardRef((function(e,t){return n.a.createElement(et,Qe({svgRef:t},e))})),rt=(r.p,tt);function at(e){var t=a.useContext(e);if(null===t)throw new De.c;return t}var nt=function(){return at(E)},lt=function(){var e=nt().intl;if(e)return e;throw new De.c},ct=function(){return lt().dictionary},ot=r(38),ut=r.n(ot),it=function(e){var t=e.children,r=e.onOutsideClick,n=a.useRef(null);return Ne(n,r),a.createElement("nav",{ref:n,"data-testid":V,className:ut.a.PlayerNavigation__Popup},t)},st=function(e){var t=e.text,r=e.to,n=e.testId,l=e.onClick;return a.createElement(o.b,{to:r,onClick:l,className:ut.a.PlayerNavigation__Link,activeClassName:ut.a.PlayerNavigation__Link_current,"data-testid":n},t)},_t=function(e){var t=e.onClose,r=ct().playerNavigation,n=r.latestAlbumsLinkText,l=r.shareAlbumLinkText;return a.createElement(it,{onOutsideClick:t},a.createElement(st,{text:n,onClick:t,to:Ce(),testId:H}),a.createElement(st,{text:l,onClick:t,to:ke(),testId:Y}))},dt=r(39),mt=r.n(dt),Et=function(e){var t=e.children;return a.createElement(we,{position:"top",testId:U},a.createElement("div",{className:mt.a.OverviewControls__Wrapper},t))},ft=function(e){var t,r=e.children,n=e.mod;return"nav"===n&&(t=mt.a.OverviewControls__Group_nav),"search"===n&&(t=mt.a.OverviewControls__Group_search),a.createElement("div",{className:t},r)},pt=function(e){var t=a.useState(!1),r=Object(s.a)(t,2),n=r[0],l=r[1],c=L(),o=a.useCallback((function(){l(!0)}),[]),u=a.useCallback((function(){l(!1)}),[]),i=a.useCallback((function(){c({type:"OVERVIEW_CONTROLS__OPEN_SEARCH"})}),[c]);return a.createElement(Et,null,a.createElement(ft,{mod:"nav"},a.createElement(he,{testId:G,onClick:o},a.createElement(qe,null)),n&&a.createElement(_t,{onClose:u})),a.createElement(ft,{mod:"search"},a.createElement(he,{testId:W,onClick:i},a.createElement(rt,null))))},bt=n.a.createContext(null),vt={latestPage:1,loading:!1,albums:[],noMoreAlbums:!1},At=function(e,t){switch(t.type){case"LATEST_ALBUMS_PAGE__LOAD_MORE":return Object(y.a)({},e,{latestPage:e.latestPage+1});case"GET_ALBUM_PREVIEWS_FEED":return"PENDING"===t.status?Object(y.a)({},e,{loading:!0}):"RESOLVED"===t.status?Object(y.a)({},e,{loading:!1,albums:[].concat(Object(A.a)(e.albums),Object(A.a)(t.payload.items)),noMoreAlbums:t.payload.lastPageFlag}):"REJECTED"===t.status?Object(y.a)({},e,{loading:!1}):e;default:return e}},yt=function(e){var t=e.children,r=a.useReducer(At,vt),n=Object(s.a)(r,2),l=n[0],c=n[1];return a.createElement(m,{handler:c},a.createElement(bt.Provider,{value:l},t))},Ot=r(32),Tt=r.n(Ot),gt=function(e){var t=e.children,r=e.centered,n=e.hasCompactView;return a.createElement("main",{className:"".concat(Tt.a.Page__Wrapper," ").concat(!0===r?Tt.a.Page__Wrapper_centered:""," ").concat(!0===n?Tt.a.Page__Wrapper_compact:""),"data-testid":F},t)};function ht(){return(ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Pt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var It=n.a.createElement("path",{fill:"none",d:"M.01 0h24v24h-24V0z"}),Ct=n.a.createElement("path",{d:"M12 4V2.21c0-.45-.54-.67-.85-.35l-2.8 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.32.31.86.09.86-.36V6c3.31 0 6 2.69 6 6 0 .79-.15 1.56-.44 2.25-.15.36-.04.77.23 1.04.51.51 1.37.33 1.64-.34.37-.91.57-1.91.57-2.95 0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-.79.15-1.56.44-2.25.15-.36.04-.77-.23-1.04-.51-.51-1.37-.33-1.64.34C4.2 9.96 4 10.96 4 12c0 4.42 3.58 8 8 8v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79c-.31-.31-.85-.09-.85.36V18z"}),Lt=function(e){var t=e.svgRef,r=e.title,a=Pt(e,["svgRef","title"]);return n.a.createElement("svg",ht({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,It,Ct)},St=n.a.forwardRef((function(e,t){return n.a.createElement(Lt,ht({svgRef:t},e))})),Rt=(r.p,St),kt=r(57),Nt=r.n(kt),Dt=function(){return n.a.createElement(Rt,{className:Nt.a.Spinner})},jt=function(){return n.a.createElement("div",{className:Tt.a.Page__Loader,"data-testid":M},n.a.createElement(Dt,null))},Bt=function(){return n.a.useContext(v)},wt=function(e){var t=e.children,r=e.centered,n=e.hasLoader,l=null!==Bt().playingTrackId;return a.createElement(gt,{hasCompactView:l,centered:!0===r||!0===n},!0===n?a.createElement(jt,null):t)},xt=r(58),Ft=r.n(xt),Mt=function(e){var t=e.onClick,r=e.disabled,n=e.hasLoader,l=e.text,c=e.buttonTestId,o=e.loaderTestId;return a.createElement("button",{className:Ft.a.LoadMoreButton,"data-testid":c,onClick:t,disabled:r},!0===n?a.createElement("div",{"data-testid":o},a.createElement(Dt,null)):l)};function Ut(){return(Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Wt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Gt=n.a.createElement("path",{d:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z"}),Vt=function(e){var t=e.svgRef,r=e.title,a=Wt(e,["svgRef","title"]);return n.a.createElement("svg",Ut({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Gt)},Ht=n.a.forwardRef((function(e,t){return n.a.createElement(Vt,Ut({svgRef:t},e))})),Yt=(r.p,Ht);function Kt(){return(Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function zt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Zt=n.a.createElement("path",{d:"M13 10H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm0-4H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm5 8v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-3c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3zM3 16h6c.55 0 1-.45 1-1s-.45-1-1-1H3c-.55 0-1 .45-1 1s.45 1 1 1z"}),qt=function(e){var t=e.svgRef,r=e.title,a=zt(e,["svgRef","title"]);return n.a.createElement("svg",Kt({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Zt)},Qt=n.a.forwardRef((function(e,t){return n.a.createElement(qt,Kt({svgRef:t},e))})),Jt=(r.p,Qt),Xt=r(23),$t=r.n(Xt),er=function(e){var t=e.children;return a.createElement("div",{className:$t.a.AlbumCover__Wrapper},t)},tr=function(e){var t=e.src;return a.createElement("img",{alt:"TODO",src:t,className:$t.a.AlbumCover__Image})},rr=function(e){var t=e.children;return a.createElement("div",{className:$t.a.AlbumCover__Actions},t)},ar=function(e){var t=e.children,r=e.onClick;return a.createElement("button",{className:$t.a.AlbumCover__Button,onClick:r},t)},nr=function(e){var t=e.imageSrc,r=e.onAddToPlaylist,a=e.onPlay;return n.a.createElement(er,null,n.a.createElement(tr,{src:t}),n.a.createElement(rr,null,n.a.createElement(ar,{onClick:r},n.a.createElement(Jt,null)),n.a.createElement(ar,{onClick:a},n.a.createElement(Yt,null))))},lr=r(24),cr=r.n(lr),or=function(e){return a.createElement("div",Object.assign({className:cr.a.FeedAlbum__Wrapper},e,{"data-testid":le}))},ur=function(e){return a.createElement("div",{className:cr.a.FeedAlbum__Info},e.children)},ir=function(e){return a.createElement("div",{className:cr.a.FeedAlbum__Title},e.children)},sr=function(e){return a.createElement("div",{className:cr.a.FeedAlbum__Artist},e.children)},_r=function(e){var t=e.data,r=L(),n=t.title,l=t.artistName,c=t.coverSrc,o=t.id,u=a.useCallback((function(){r({type:"FEED_ALBUM__ADD_TO_PLAYLIST",payload:o})}),[r,o]),i=a.useCallback((function(){r({type:"FEED_ALBUM__PLAY",payload:o})}),[r,o]);return a.createElement(or,null,a.createElement(nr,{imageSrc:c,onAddToPlaylist:u,onPlay:i}),a.createElement(ur,null,a.createElement(ir,null,n),a.createElement(sr,null,l)))},dr=r(33),mr=r.n(dr),Er=function(e){var t=e.children,r=e.mod,n=a.useMemo((function(){switch(r){case"feed":return Q;default:return null}}),[r]),l=a.useMemo((function(){switch(r){case"feed":return mr.a.LatestAlbumsPage__Wrapper_feed;default:return""}}),[r]),c="".concat(mr.a.LatestAlbumsPage__Wrapper," ").concat(l);return a.createElement("div",{className:c,"data-testid":n},t)},fr=function(e){var t=e.text,r=e.mod,n=a.useMemo((function(){switch(r){case"fallback":return q;default:return null}}),[r]),l=a.useMemo((function(){switch(r){case"fallback":return mr.a.LatestAlbumsPage__Text_fallback;default:return""}}),[r]),c="".concat(mr.a.LatestAlbumsPage__Text," ").concat(l);return a.createElement("div",{className:c,"data-testid":n},t)},pr=function(e){var t=e.hasLoadMoreButton,r=e.hasPageLoader,n=e.hasFeed,l=e.hasFeedLoader,c=e.hasFallback,o=e.albums,u=e.fallbackText,i=e.loadMoreButtonText,s=e.onLoadMoreButtonClick,_=a.useMemo((function(){return o.map((function(e){return a.createElement(_r,{data:e,key:e.id})}))}),[o]);return a.createElement(wt,{hasLoader:r,centered:c},n&&a.createElement(Er,{mod:"feed"},_),c&&a.createElement(fr,{mod:"fallback",text:u}),t&&a.createElement(Mt,{text:i,hasLoader:l,onClick:s,buttonTestId:J,loaderTestId:X}))},br=function(e){var t=function(){var e=P().getAlbumPreviewsFeed,t=C(),r=Object(s.a)(t,2),n=r[0],l=r[1],c=L();return a.useEffect((function(){n&&n.pending&&c({type:"GET_ALBUM_PREVIEWS_FEED",status:"PENDING"})}),[c,n]),a.useEffect((function(){if(n&&n.value){var e=n.value,t=e.items,r=e.lastPageFlag;c({type:"GET_ALBUM_PREVIEWS_FEED",status:"RESOLVED",payload:{items:t,lastPageFlag:r}})}}),[c,n]),a.useEffect((function(){n&&n.error&&c({type:"GET_ALBUM_PREVIEWS_FEED",status:"REJECTED",payload:n.error})}),[c,n]),a.useCallback((function(t){l(e({startPage:t}))}),[e,l])}(),r=ct().latestAlbumsPage,n=r.fallbackText,l=r.loadMoreButtonText,c=L(),o=at(bt),u=o.albums,i=o.loading,_=o.latestPage,d=o.noMoreAlbums;a.useEffect((function(){null!==_&&t(_)}),[t,_]);var m=1===_&&i,E=u.length>0,f=u.length>0&&i,p=0===u.length&&d,b={hasLoadMoreButton:u.length>0&&!d,hasPageLoader:m,hasFeed:E,hasFeedLoader:f,hasFallback:p,albums:u,fallbackText:n,loadMoreButtonText:l,onLoadMoreButtonClick:a.useCallback((function(){i||c({type:"LATEST_ALBUMS_PAGE__LOAD_MORE"})}),[c,i])};return a.createElement(pr,b)},vr=function(){return n.a.createElement(yt,null,n.a.createElement(br,null))},Ar=a.createContext(null),yr=function(e){var t=e.title,r=e.cover,a=e.tracklist,n=[];return t||n.push({type:"TITLE_REQUIRED"}),r||n.push({type:"COVER_REQUIRED"}),0===a.length&&n.push({type:"EMPTY_TRACKLIST"}),a.forEach((function(e){e.title||n.push({type:"EMPTY_TRACK_TITLE",payload:e.id}),1!==e.artists.length||e.artists[0].name||n.push({type:"EMPTY_TRACK_ARTISTS",payload:e.id})})),n},Or=function e(t){return{done:function(){return t},addTracks:function(r){var a=Object(y.a)({},t,{tracklist:[].concat(Object(A.a)(t.tracklist),Object(A.a)(r))});return e(a)},removeTrack:function(r){var a=t.tracklist.filter((function(e){return e.id!==r})),n=Object(y.a)({},t,{tracklist:a});return e(n)},setTrackTitle:function(r){var a=r.trackId,n=r.value,l=t.tracklist.reduce((function(e,t){if(t.id===a){var r=Object(y.a)({},t,{title:n});return[].concat(Object(A.a)(e),[r])}return[].concat(Object(A.a)(e),[t])}),[]),c=Object(y.a)({},t,{tracklist:l});return e(c)},addRawArtists:function(){var r=t.tracklist.map((function(e){var t=e.artists,r=t[t.length-1];return!r||r.name?Object(y.a)({},e,{artists:[].concat(Object(A.a)(t),[{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),name:""}])}):e})),a=Object(y.a)({},t,{tracklist:r});return e(a)},removeArtist:function(r){var a=r.trackId,n=r.artistId,l=t.tracklist.reduce((function(e,t){if(t.id===a){var r=t.artists.filter((function(e){return e.id!==n})),l=Object(y.a)({},t,{artists:r});return[].concat(Object(A.a)(e),[l])}return[].concat(Object(A.a)(e),[t])}),[]),c=Object(y.a)({},t,{tracklist:l});return e(c)},setArtistName:function(r){var a=r.trackId,n=r.artistId,l=r.value,c=t.tracklist.reduce((function(e,t){if(t.id===a){var r=t.artists.reduce((function(e,t){if(t.id===n){var r=Object(y.a)({},t,{name:l});return[].concat(Object(A.a)(e),[r])}return[].concat(Object(A.a)(e),[t])}),[]),c=Object(y.a)({},t,{artists:r});return[].concat(Object(A.a)(e),[c])}return[].concat(Object(A.a)(e),[t])}),[]),o=Object(y.a)({},t,{tracklist:c});return e(o)},moveTrack:function(r){var a=r.trackId,n=r.direction,l=t.tracklist,c=l.findIndex((function(e){return e.id===a})),o=Object(A.a)(l),u="DOWN"===n?c+1:c-1,i=[o[u],o[c]];o[c]=i[0],o[u]=i[1];var s=Object(y.a)({},t,{tracklist:o});return e(s)}}},Tr={screen:"SELECTING_FILES",files:null,albumFormData:null,albumFormValidation:[],didSucceed:!1,submited:!1,error:null},gr=function(e,t){switch(t.type){case"ALBUM_EDITOR__TITLE_CHANGE":if(e.albumFormData){var r=Object(y.a)({},e.albumFormData,{title:t.payload}),a=yr(r);return Object(y.a)({},e,{albumFormData:r,albumFormValidation:a})}return e;case"ALBUM_COVER_EDITOR__FILE_RECIEVED":if(e.albumFormData){var n=Object(y.a)({},e.albumFormData,{cover:t.payload}),l=yr(n);return Object(y.a)({},e,{albumFormData:n,albumFormValidation:l})}return e;case"ALBUM_TRACK_EDITOR__MOVE_UP":if(e.albumFormData){var c=Or(e.albumFormData).moveTrack({trackId:t.payload,direction:"UP"}).done(),o=yr(c);return Object(y.a)({},e,{albumFormData:c,albumFormValidation:o})}return e;case"ALBUM_TRACK_EDITOR__MOVE_DOWN":if(e.albumFormData){var u=Or(e.albumFormData).moveTrack({trackId:t.payload,direction:"DOWN"}).done(),i=yr(u);return Object(y.a)({},e,{albumFormData:u,albumFormValidation:i})}return e;case"ALBUM_TRACK_EDITOR__TITLE_CHANGE":if(e.albumFormData){var s=t.payload,_=s.trackId,d=s.value,m=Or(e.albumFormData).setTrackTitle({trackId:_,value:d}).done(),E=yr(m);return Object(y.a)({},e,{albumFormData:m,albumFormValidation:E})}return e;case"ALBUM_TRACK_EDITOR__ARTIST_CHANGE":if(e.albumFormData){var f=t.payload,p=f.trackId,b=f.artistId,v=f.value,A=e.albumFormData;A=v?Or(A).setArtistName({trackId:p,artistId:b,value:v}).addRawArtists().done():Or(A).removeArtist({trackId:p,artistId:b}).addRawArtists().done();var O=yr(A);return Object(y.a)({},e,{albumFormData:A,albumFormValidation:O})}return e;case"ALBUM_TRACK_EDITOR__REMOVE":if(e.albumFormData){var T=Or(e.albumFormData).removeTrack(t.payload).done(),g=yr(T);return Object(y.a)({},e,{albumFormData:T,albumFormValidation:g})}return e;case"ALBUM_EDITOR__CANCEL":return Object(y.a)({},e,{screen:"SELECTING_FILES",albumFormData:null,albumFormValidation:[]});case"GET_ALBUM_CANDIDATE_FROM_FILES":if("PENDING"===t.status)return"SELECTING_FILES"===e.screen?Object(y.a)({},e,{screen:"LOADING"}):e;if("RESOLVED"===t.status){if(e.albumFormData){var h=e.albumFormData,P=Or(h).addTracks(t.payload.tracklist).addRawArtists().done(),I=yr(P);return Object(y.a)({},e,{files:null,albumFormData:P,albumFormValidation:I})}var C=Or(t.payload).addRawArtists().done(),L=yr(C);return Object(y.a)({},e,{files:null,screen:"EDITING_ALBUM",albumFormData:C,albumFormValidation:L,didSucceed:!1,error:null})}return"REJECTED"===t.status?Object(y.a)({},e,{screen:"SELECTING_FILES",albumFormData:null,albumFormValidation:[],didSucceed:!1,submited:!1,error:t.payload}):e;case"SUBMIT_ALBUM_CANDIDATE":return"PENDING"===t.status?Object(y.a)({},e,{screen:"LOADING"}):"RESOLVED"===t.status?Object(y.a)({},e,{screen:"SELECTING_FILES",albumFormData:null,albumFormValidation:[],didSucceed:!0,submited:!1}):"REJECTED"===t.status?Object(y.a)({},e,{screen:"SELECTING_FILES",albumFormData:null,albumFormValidation:[],didSucceed:!1,submited:!1,error:t.payload}):e;case"ALBUM_EDITOR__SUBMIT":return Object(y.a)({},e,{submited:!0});case"DROP_ZONE__FILES_RECIEVED":case"ALBUM_AUDIO_EDITOR__TRACKS_RECIEVED":return Object(y.a)({},e,{files:t.payload});default:return e}},hr=function(e){var t=e.children,r=a.useReducer(gr,Tr),n=Object(s.a)(r,2),l=n[0],c=n[1];return a.createElement(m,{handler:c},a.createElement(Ar.Provider,{value:l},t))},Pr=function(){return at(Ar)},Ir=function(){var e=Pr().albumFormData;if(!e)throw new De.c;return e},Cr=function(){return Pr().albumFormValidation};function Lr(){return(Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Sr(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Rr=n.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"}),kr=function(e){var t=e.svgRef,r=e.title,a=Sr(e,["svgRef","title"]);return n.a.createElement("svg",Lr({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Rr)},Nr=n.a.forwardRef((function(e,t){return n.a.createElement(kr,Lr({svgRef:t},e))})),Dr=(r.p,Nr),jr=r(16),Br=r.n(jr),wr=function(e){var t=e.children;return a.createElement("label",{className:Br.a.AlbumCoverEditor__Wrapper},t)},xr=function(e){var t=e.onFileChange,r=e.errorMessage,n=void 0===r?"":r,l=a.useRef(null),c=a.useCallback((function(e){var r=e.currentTarget.files;r instanceof FileList&&(t(r[0]),e.currentTarget.value="")}),[t]);return a.useEffect((function(){var e=l.current;e&&e.setCustomValidity(n)}),[n]),a.createElement("input",{ref:l,className:Br.a.AlbumCoverEditor__Input,type:"file",name:"cover",onChange:c})},Fr=function(e){return a.createElement("div",Object.assign({className:Br.a.AlbumCoverEditor__Preview},e))},Mr=function(e){var t=e.src;return a.createElement("img",{src:t,className:Br.a.AlbumCoverEditor__Image,alt:"cover"})},Ur=function(e){var t=e.text;return a.createElement("div",{className:Br.a.AlbumCoverEditor__Error},t)},Wr=function(){var e=L(),t=function(){var e=Ir(),t=Cr(),r=ct().albumCoverEditor.missingCoverValidationText;return{value:e.cover,errorMessage:t.reduce((function(e,t){switch(t.type){case"COVER_REQUIRED":return r;default:return e}}),void 0)}}(),r=t.value,l=t.errorMessage,c=a.useCallback((function(t){e({type:"ALBUM_COVER_EDITOR__FILE_RECIEVED",payload:t})}),[e]),o=function(e){var t=n.a.useMemo((function(){return e?URL.createObjectURL(e):null}),[e]);return n.a.useEffect((function(){if(null!==t)return function(){URL.revokeObjectURL(t)}}),[t]),t}(r);return a.createElement(wr,null,a.createElement(xr,{errorMessage:l,onFileChange:c}),a.createElement(Fr,null,null!==o&&void 0===l?a.createElement(Mr,{src:o}):a.createElement(Dr,null)),void 0!==l&&a.createElement(Ur,{text:l}))},Gr=r(9),Vr=r.n(Gr),Hr=function(e){var t=e.children,r=e.onSubmit,n=a.useCallback((function(e){e.preventDefault(),r()}),[r]);return a.createElement("form",{className:Vr.a.AlbumEditor__Wrapper,"data-testid":ie,onSubmit:n},t)},Yr=function(e){var t=e.children;return a.createElement("div",{className:Vr.a.AlbumEditor__Footer},t)},Kr=function(e){var t=e.children,r=e.submit,n=e.testId,l=e.onClick;return a.createElement("button",{onClick:l,className:"".concat(Vr.a.AlbumEditor__Button," ").concat(!0===r?Vr.a.AlbumEditor__Button_primary:Vr.a.AlbumEditor__Button_secondary),type:!0===r?"submit":"button","data-testid":n},t)},zr=function(e){var t=e.children;return a.createElement("div",{className:Vr.a.AlbumEditor__Fieldset},t)},Zr=function(e){var t=e.text;return a.createElement("div",{className:Vr.a.AlbumEditor__FieldsetTitle},t)},qr=function(e){var t=e.children,r=e.withPadding;return a.createElement("div",{className:"".concat(Vr.a.AlbumEditor__FieldsetBody," ").concat(!0===r?Vr.a.AlbumEditor__FieldsetBody_padding:"")},t)};function Qr(){return(Qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Jr(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Xr=n.a.createElement("path",{d:"M8.12 14.71L12 10.83l3.88 3.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41 0L6.7 13.3c-.39.39-.39 1.02 0 1.41.39.38 1.03.39 1.42 0z"}),$r=function(e){var t=e.svgRef,r=e.title,a=Jr(e,["svgRef","title"]);return n.a.createElement("svg",Qr({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Xr)},ea=n.a.forwardRef((function(e,t){return n.a.createElement($r,Qr({svgRef:t},e))})),ta=(r.p,ea);function ra(){return(ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function aa(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var na=n.a.createElement("path",{d:"M8.12 9.29L12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7c-.39-.39-.39-1.02 0-1.41.39-.38 1.03-.39 1.42 0z"}),la=function(e){var t=e.svgRef,r=e.title,a=aa(e,["svgRef","title"]);return n.a.createElement("svg",ra({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,na)},ca=n.a.forwardRef((function(e,t){return n.a.createElement(la,ra({svgRef:t},e))})),oa=(r.p,ca);function ua(){return(ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ia(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var sa=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),_a=n.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"}),da=function(e){var t=e.svgRef,r=e.title,a=ia(e,["svgRef","title"]);return n.a.createElement("svg",ua({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,sa,_a)},ma=n.a.forwardRef((function(e,t){return n.a.createElement(da,ua({svgRef:t},e))})),Ea=(r.p,ma),fa=r(11),pa=r.n(fa),ba=function(e){return a.createElement("div",Object.assign({},e,{className:pa.a.AlbumTrackEditor__Wrapper,"data-testid":me}))},va=function(e){var t=e.isDisabled,r=e.testId,n=Object(Oe.a)(e,["isDisabled","testId"]);return a.createElement("button",Object.assign({},n,{type:"button",disabled:t,className:pa.a.AlbumTrackEditor__Button,"data-testid":r}))},Aa=function(e){return a.createElement("div",Object.assign({},e,{className:pa.a.AlbumTrackEditor__Controls}))},ya=function(e){return a.createElement("div",Object.assign({},e,{className:pa.a.AlbumTrackEditor__Common}))},Oa=r(40),Ta=r.n(Oa),ga=function(e){var t=e.validationMessage,r=void 0===t?"":t,n=e.inputTestId,l=e.validationTestId,c=Object(Oe.a)(e,["validationMessage","inputTestId","validationTestId"]),o=a.useRef(null);return a.useEffect((function(){var e=o.current;e&&e.setCustomValidity(r)}),[r]),a.createElement("label",{className:Ta.a.FloatingLabelInput__Wrapper},a.createElement("input",Object.assign({},c,{ref:o,className:Ta.a.FloatingLabelInput__Input,"data-testid":n})),a.createElement("span",{className:Ta.a.FloatingLabelInput__Placeholder},c.placeholder),a.createElement("small",{className:Ta.a.FloatingLabelInput__ValidationMessage,"data-testid":l},r))},ha=function(e){var t=e.trackId,r=ct().albumTrackEditor.titleInputPlaceholderText,n=function(e){var t=Ir().tracklist,r=ct().albumTrackEditor.missingTitleValidationText,a=Cr(),n=t.find((function(t){return t.id===e}));if(!n)throw new TypeError;return{value:n.title,validationMessage:a.reduce((function(t,a){return"EMPTY_TRACK_TITLE"===a.type&&a.payload===e?r:t}),void 0)}}(t),l=n.value,c=n.validationMessage,o=L(),u=a.useCallback((function(e){var r=e.currentTarget.value;o({type:"ALBUM_TRACK_EDITOR__TITLE_CHANGE",payload:{value:r,trackId:t}})}),[o,t]);return a.createElement(ga,{inputTestId:Ee,validationTestId:fe,name:"title",value:l,validationMessage:c,placeholder:r,onChange:u})},Pa=function(e){var t,r=e.trackId,n=e.artist,l=e.artistIndex,c=ct().albumTrackEditor,o=c.missingArtistNameValidationText,u=c.artistNameInputPlaceholderText,i=L(),s=(t={trackId:r,artistId:n.id},!Cr().some((function(e){return"EMPTY_TRACK_ARTISTS"===e.type&&e.payload===t.trackId}))),_=a.useCallback((function(e){var t=e.currentTarget.value;i({type:"ALBUM_TRACK_EDITOR__ARTIST_CHANGE",payload:{trackId:r,artistId:n.id,value:t}})}),[n.id,i,r]),d=s?void 0:o;return a.createElement(ga,{inputTestId:be,validationTestId:ve,key:n.id,name:"name",value:n.name,validationMessage:d,placeholder:u(l+1),onChange:_})};function Ia(){return(Ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Ca(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var La=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Sa=n.a.createElement("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.41l-4.83-4.83c-.37-.38-.88-.59-1.41-.59H6zm7 6V3.5L18.5 9H14c-.55 0-1-.45-1-1z"}),Ra=function(e){var t=e.svgRef,r=e.title,a=Ca(e,["svgRef","title"]);return n.a.createElement("svg",Ia({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,La,Sa)},ka=n.a.forwardRef((function(e,t){return n.a.createElement(Ra,Ia({svgRef:t},e))})),Na=(r.p,ka),Da=function(e){var t=e.text;return a.createElement("div",{className:pa.a.AlbumTrackEditor__FileInfo},a.createElement(Na,{className:pa.a.AlbumTrackEditor__FileIcon}),a.createElement("span",{className:pa.a.AlbumTrackEditor__FileName},t))},ja=function(e){var t=e.trackId,r=function(e){var t=Ir().tracklist.find((function(t){return t.id===e}));if(!t)throw new De.c;return t}(t),n=a.useMemo((function(){return r.artists.map((function(e,r){return a.createElement(Pa,{key:e.id,trackId:t,artist:e,artistIndex:r})}))}),[r.artists,t]);return a.createElement(ya,null,a.createElement(Da,{text:r.audio.name}),a.createElement(ha,{trackId:t}),n)},Ba=function(e){var t=e.trackId,r=e.moveDownDisabled,n=e.moveUpDisabled,l=L(),c=a.useCallback((function(){l({type:"ALBUM_TRACK_EDITOR__REMOVE",payload:t})}),[l,t]),o=a.useCallback((function(){l({type:"ALBUM_TRACK_EDITOR__MOVE_UP",payload:t})}),[l,t]),u=a.useCallback((function(){l({type:"ALBUM_TRACK_EDITOR__MOVE_DOWN",payload:t})}),[l,t]);return a.createElement(ba,null,a.createElement(ja,{trackId:t}),a.createElement(Aa,null,a.createElement(va,{isDisabled:n,onClick:o},a.createElement(ta,null)),a.createElement(va,{isDisabled:r,onClick:u},a.createElement(oa,null)),a.createElement(va,{onClick:c,testId:pe},a.createElement(Ea,null))))},wa=r(25),xa=r.n(wa),Fa=function(e){var t=e.onFilesChange,r=e.validationMessage,n=void 0===r?"":r,l=a.useRef(null),c=a.useCallback((function(e){var r=e.currentTarget.files;r&&t(r)}),[t]);return a.useEffect((function(){var e=l.current;e&&e.setCustomValidity(n)}),[n]),a.createElement("input",{ref:l,className:xa.a.AlbumAudioEditor__Input,type:"file",name:"tracks",onChange:c})},Ma=function(e){var t=e.children;return a.createElement("label",{className:xa.a.AlbumAudioEditor__Wrapper},t)},Ua=function(e){var t=e.text,r=e.validationMessage,n=e.validationTestId;return a.createElement("div",{className:xa.a.AlbumAudioEditor__Label},a.createElement("div",{className:xa.a.AlbumAudioEditor__Text},t),a.createElement("small",{className:xa.a.AlbumAudioEditor__Error,"data-testid":n},r))},Wa=function(){var e=ct().albumAudioEditor,t=e.missingAudioValidationText,r=e.labelText,n=L(),l=!Cr().some((function(e){return"EMPTY_TRACKLIST"===e.type})),c=a.useMemo((function(){if(!l)return t}),[t,l]),o=a.useCallback((function(e){var t=Object(A.a)(e);n({type:"ALBUM_AUDIO_EDITOR__TRACKS_RECIEVED",payload:t})}),[n]);return a.createElement(Ma,null,a.createElement(Fa,{validationMessage:c,onFilesChange:o,testId:ye}),a.createElement(Ua,{text:r,validationMessage:c,validationTestId:Ae}))},Ga=function(){var e=ct().albumEditor.tracklistFieldsetTitleText,t=Ir().tracklist,r=a.useMemo((function(){return t.map((function(e,t,r){return a.createElement(Ba,{key:e.id,trackId:e.id,moveUpDisabled:0===t,moveDownDisabled:t===r.length-1})}))}),[t]);return a.createElement(zr,null,a.createElement(Zr,{text:e}),a.createElement(qr,null,r),a.createElement(Wa,null))},Va=function(){var e=ct().albumEditor,t=e.aboutFieldsetTitleText,r=e.albumTitleInputPlaceholderText,n=L(),l=function(){var e=Ir(),t=Cr();return{value:e.title,errorMessage:t.reduce((function(e,t){return"TITLE_REQUIRED"===t.type?"Title is required":e}),void 0)}}(),c=l.value,o=l.errorMessage,u=a.useCallback((function(e){n({type:"ALBUM_EDITOR__TITLE_CHANGE",payload:e.currentTarget.value})}),[n]);return a.createElement(zr,null,a.createElement(Zr,{text:t}),a.createElement(qr,{withPadding:!0},a.createElement(ga,{name:"title",placeholder:r,value:c,validationMessage:o,onChange:u,inputTestId:se})))},Ha=function(){var e=ct().albumEditor,t=e.submitButtonText,r=e.cancelButtonText,n=L(),l=a.useCallback((function(){n({type:"ALBUM_EDITOR__SUBMIT"})}),[n]),c=a.useCallback((function(){n({type:"ALBUM_EDITOR__CANCEL"})}),[n]);return a.createElement(Hr,{onSubmit:l},a.createElement(Wr,null),a.createElement(Va,null),a.createElement(Ga,null),a.createElement(Yr,null,a.createElement(Kr,{submit:!0,testId:_e},t),a.createElement(Kr,{onClick:c,testId:de},r)))},Ya=r(14),Ka=r.n(Ya),za=function(e){var t=e.children;return a.createElement("div",{className:Ka.a.DropZone__Wrapper},t)},Za=function(e){var t=e.children;return a.createElement("label",{className:Ka.a.DropZone__Label},t)},qa=function(e){var t=e.onFilesChange,r=a.useCallback((function(e){var r=e.currentTarget.files;r&&(t(r),e.currentTarget.value="")}),[t]);return a.createElement("input",{type:"file",multiple:!0,className:Ka.a.DropZone__Input,onChange:r,"data-testid":oe})},Qa=function(e){var t=e.mainText,r=e.errorText,n=e.successText;return a.createElement("div",{className:Ka.a.DropZone__Text,"data-testid":ue},void 0!==r&&a.createElement("div",{className:Ka.a.DropZone__ErrorText},r),void 0!==n&&a.createElement("div",{className:Ka.a.DropZone__SuccessText},n),a.createElement("div",{className:Ka.a.DropZone__MainText},t))},Ja=function(e){var t=e.errorText,r=e.successText,n=ct().dropZone.mainText,l=L(),c=a.useCallback((function(e){var t=Object(A.a)(e);l({type:"DROP_ZONE__FILES_RECIEVED",payload:t})}),[l]);return a.createElement(za,null,a.createElement(Za,null,a.createElement(qa,{onFilesChange:c}),a.createElement(Qa,{mainText:n,errorText:t,successText:r})))},Xa=r(49),$a=r.n(Xa),en=function(){return n.a.createElement("div",{className:$a.a.ShareAlbumPage__Loader,"data-testid":ce},n.a.createElement(Rt,{className:$a.a.ShareAlbumPage__Spinner}))},tn=function(){var e=Pr(),t=e.screen,r=e.error,l=e.files,c=e.albumFormData,o=e.didSucceed,u=e.submited,i=function(){var e=C(),t=Object(s.a)(e,2),r=t[0],a=t[1],l=L();n.a.useLayoutEffect((function(){if(r){var e=r.pending,t=r.resolved,a=r.error;e&&l({type:"SUBMIT_ALBUM_CANDIDATE",status:"PENDING"}),t&&l({type:"SUBMIT_ALBUM_CANDIDATE",status:"RESOLVED",payload:null}),a&&l({type:"SUBMIT_ALBUM_CANDIDATE",status:"REJECTED",payload:a})}}),[l,r]);var c=P().submitAlbumCandidate;return n.a.useCallback((function(e){e&&a(c(e))}),[a,c])}();a.useEffect((function(){u&&c&&i(c)}),[c,i,u]);var _=function(){var e=P().getAlbumCandidateFromFiles,t=C({errorsToKeep:[De.a]}),r=Object(s.a)(t,2),a=r[0],l=r[1],c=L();return n.a.useLayoutEffect((function(){if(a){var e=a.pending,t=a.value,r=a.error;e&&c({type:"GET_ALBUM_CANDIDATE_FROM_FILES",status:"PENDING"}),t&&c({type:"GET_ALBUM_CANDIDATE_FROM_FILES",status:"RESOLVED",payload:t}),r&&c({type:"GET_ALBUM_CANDIDATE_FROM_FILES",status:"REJECTED",payload:r})}}),[c,a]),n.a.useCallback((function(t){l(e(t))}),[l,e])}();a.useEffect((function(){l&&_(l)}),[l,_]);var d=ct().shareAlbumPage.didSucceedText,m=r?r.message:void 0,E=o?d:void 0,f="LOADING"===t,p="SELECTING_FILES"===t,b="EDITING_ALBUM"===t;return a.createElement(wt,{centered:f||p},f&&a.createElement(en,null),b&&a.createElement(Ha,null),p&&a.createElement(Ja,{errorText:m,successText:E}))},rn=function(){return n.a.createElement(hr,null,n.a.createElement(tn,null))},an=n.a.createContext(null),nn={failed:!1,albums:[],newAlbums:[]},ln=function(e,t){switch(t.type){case"GET_ALBUM_PREVIEWS_BY_QUERY":if("RESOLVED"===t.status){if(0===e.albums.length)return Object(y.a)({},e,{albums:t.payload});var r=t.payload.filter((function(t){var r=t.id;return e.albums.some((function(e){return e.id!==r}))}));return Object(y.a)({},e,{newAlbums:[].concat(Object(A.a)(e.newAlbums),Object(A.a)(r))})}return"REJECTED"===t.status?Object(y.a)({},nn,{failed:!0}):e;case"SEARCH_ALBUMS_PAGE__RETRY":return Object(y.a)({},e,{failed:!1});case"SEARCH_ALBUMS_PAGE__SHOW_NEW_RESULTS":return Object(y.a)({},e,{albums:[].concat(Object(A.a)(e.newAlbums),Object(A.a)(e.albums)),newAlbums:[]});case"SEARCH_ALBUMS_PAGE__NEW_QUERY":return Object(y.a)({},nn);default:return e}},cn=function(e){var t=e.children,r=a.useReducer(ln,nn),n=Object(s.a)(r,2),l=n[0],c=n[1];return a.createElement(m,{handler:c},a.createElement(an.Provider,{value:l},t))},on=r(8),un=r(6),sn=r.n(un),_n=function(e){var t=e.children;return a.createElement("div",{className:sn.a.SearchAlbumsPage__Hero},t)},dn=function(e){var t=e.text,r=e.testId,n=e.onClick;return a.createElement("button",{className:sn.a.SearchAlbumsPage__Button,"data-testid":r,onClick:n},t)},mn=function(e){var t=e.children,r=e.screen,n=function(){var e=sn.a.SearchAlbumsPage__Wrapper;switch(r){case"LOADING":return sn.a.SearchAlbumsPage__Wrapper_loading;case"FALLBACK":return sn.a.SearchAlbumsPage__Wrapper_fallback;case"HAS_RESULTS":return sn.a.SearchAlbumsPage__Wrapper_hasResults;case"HAS_NEW_RESULTS":return sn.a.SearchAlbumsPage__Wrapper_hasNewResults;default:return e}}();return a.createElement(wt,null,a.createElement("div",{className:n},t))},En=function(e){var t=e.testId;return a.createElement("span",{className:sn.a.SearchAlbumsPage__Loader,"data-testid":t},a.createElement(Dt,null))},fn=r(31),pn=r.n(fn),bn=function(e){var t=e.children,r=e.testId;return a.createElement("div",{className:pn.a.AlbumsFeed__Wrapper,"data-testid":r},t)},vn=function(e){var t=e.onClick,r=e.text;return a.createElement("button",{className:pn.a.AlbumsFeed__Button,onClick:t},r)},An=function(e){var t=e.children;return a.createElement("div",{className:pn.a.AlbumsFeed__Content},t)},yn=function(e){var t=e.children,r=e.testId,n=e.onLoadMore;return a.createElement(bn,{testId:r},a.createElement(An,null,t),n&&a.createElement(vn,{onClick:n,text:"load more"}))},On=function(e){var t=e.children,r=e.testId;return a.createElement(yn,{testId:r},t)},Tn=function(e){var t=e.children;return a.createElement("div",{className:sn.a.SearchAlbumsPage__Body},t)},gn=function(e){var t=e.text,r=e.testId;return a.createElement("h1",{className:sn.a.SearchAlbumsPage__Title,"data-testid":r},t)},hn=function(e){var t=e.text,r=e.testId;return a.createElement("div",{className:sn.a.SearchAlbumsPage__SubTitle,"data-testid":r},t)},Pn=function(e){var t=e.screen,r=e.titleText,n=e.subTitleText,l=e.fallbackSubTitleText,c=e.newResultsButtonText,o=e.fallbackButtonText,u=e.feedItems,i=e.onNewResultsButtonClick,s=e.onFallbackButtonClick,_=a.useMemo((function(){return u.map((function(e){return a.createElement(_r,{data:e,key:e.id})}))}),[u]);return a.createElement(mn,{screen:t},a.createElement(_n,null,a.createElement(gn,{text:r,testId:$}),a.createElement(hn,{text:"FALLBACK"===t?l:n,testId:ee})),a.createElement(Tn,null,"LOADING"===t&&a.createElement(En,{testId:te}),"FALLBACK"===t&&a.createElement(dn,{testId:ne,text:o,onClick:s}),"HAS_NEW_RESULTS"===t&&a.createElement(dn,{testId:ae,text:c,onClick:i}),("HAS_RESULTS"===t||"HAS_NEW_RESULTS"===t)&&a.createElement(On,{testId:re},_)))},In=function(e){var t=e.searchInterval,r=ct().searchAlbumsPage,a=r.subTitleText,l=r.fallbackSubTitleText,c=r.newResultsButtonText,o=r.fallbackButtonText,u=function(){var e=Object(Pe.h)();if("string"===typeof e.query)return e.query;throw new De.b}(),i=L(),_=function(){var e=P().getAlbumPreviewsByQuery,t=C({errorsToKeep:[Error]}),r=Object(s.a)(t,2),a=r[0],l=r[1],c=L();return n.a.useEffect((function(){if(a){var e=a.pending,t=a.value,r=a.error;e&&c({type:"GET_ALBUM_PREVIEWS_BY_QUERY",status:"PENDING"}),t&&c({type:"GET_ALBUM_PREVIEWS_BY_QUERY",status:"RESOLVED",payload:t}),r&&c({type:"GET_ALBUM_PREVIEWS_BY_QUERY",status:"REJECTED",payload:r})}}),[c,a]),n.a.useCallback((function(t){return l(e(t))}),[l,e])}(),d=at(an),m=d.failed,E=d.albums,f=d.newAlbums;n.a.useEffect((function(){i({type:"SEARCH_ALBUMS_PAGE__NEW_QUERY",payload:u})}),[i,u]),n.a.useEffect((function(){if(!m)return _(u),function(e,t){var r=window.setInterval(e,t);return function(){window.clearInterval(r)}}((function(){return _(u)}),t)}),[m,_,t,u]);var p=n.a.useCallback((function(){i({type:"SEARCH_ALBUMS_PAGE__SHOW_NEW_RESULTS"})}),[i]),b=n.a.useCallback((function(){i({type:"SEARCH_ALBUMS_PAGE__RETRY"})}),[i]),v=u,A=E,y={screen:n.a.useMemo((function(){if(!m&&E.length>0)return f.length>0?"HAS_NEW_RESULTS":"HAS_RESULTS";if(!m&&0===E.length)return"LOADING";if(m&&0===E.length)return"FALLBACK";throw new TypeError}),[E.length,m,f.length]),titleText:v,subTitleText:a,fallbackSubTitleText:l,newResultsButtonText:c,fallbackButtonText:o,feedItems:A,onNewResultsButtonClick:p,onFallbackButtonClick:b};return n.a.createElement(Pn,y)},Cn=function(e){var t=e.searchInterval,r=void 0===t?on.a:t;return n.a.createElement(cn,null,n.a.createElement(In,{searchInterval:r}))},Ln=function(){return a.createElement(Pe.d,null,a.createElement(Pe.b,{exact:!0,path:Ie},a.createElement(vr,null)),a.createElement(Pe.b,{exact:!0,path:Le},a.createElement(Cn,null)),a.createElement(Pe.b,{exact:!0,path:Re},a.createElement(rn,null)),a.createElement(Pe.b,{path:"/"},a.createElement(Pe.a,{to:Ie}),"}"))};function Sn(){return(Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Rn(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var kn=n.a.createElement("path",{d:"M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1zm3.66 6.82l5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z"}),Nn=function(e){var t=e.svgRef,r=e.title,a=Rn(e,["svgRef","title"]);return n.a.createElement("svg",Sn({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,kn)},Dn=n.a.forwardRef((function(e,t){return n.a.createElement(Nn,Sn({svgRef:t},e))})),jn=(r.p,Dn);function Bn(){return(Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function wn(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var xn=n.a.createElement("path",{d:"M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z"}),Fn=function(e){var t=e.svgRef,r=e.title,a=wn(e,["svgRef","title"]);return n.a.createElement("svg",Bn({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,xn)},Mn=n.a.forwardRef((function(e,t){return n.a.createElement(Fn,Bn({svgRef:t},e))})),Un=(r.p,Mn),Wn=r(59),Gn=r.n(Wn),Vn=function(e){var t=e.testId,r=e.className,n=void 0===r?"":r,l=Object(Oe.a)(e,["testId","className"]);return a.createElement("button",Object.assign({},l,{className:"".concat(Gn.a.RoundButton__Button," ").concat(n),"data-testid":t}))},Hn=r(15),Yn=r.n(Hn),Kn=function(e){var t=e.children,r=e.playing;return a.createElement("div",{className:"".concat(Yn.a.PlaylistTrack__Wrapper," ").concat(r?Yn.a.PlaylistTrack__Wrapper_playing:"")},t)},zn=function(e){var t=e.children,r=e.disabled,n=e.onClick;return a.createElement("button",{disabled:r,className:Yn.a.PlaylistTrack__Button,type:"button",onClick:n},t)},Zn=function(e){var t=e.artistName,r=e.title;return n.a.createElement("div",{className:Yn.a.PlaylistTrack__Info},n.a.createElement("div",{className:Yn.a.PlaylistTrack__Title},r),n.a.createElement("div",{className:Yn.a.PlaylistTrack__Artist},t))},qn=function(e){var t=e.children;return a.createElement("div",{className:Yn.a.PlaylistTrack__SecondaryAction},t)},Qn=function(e){var t=e.screen,r=e.artistName,a=e.title,l=e.onPlay,c=e.onRemove;return n.a.createElement(Kn,{playing:"PLAYING"===t},n.a.createElement(zn,{onClick:l},n.a.createElement(Zn,{title:a,artistName:r})),n.a.createElement(qn,null,n.a.createElement(Vn,{onClick:c},n.a.createElement(Ea,null))))},Jn=function(e){var t=e.track,r=t.id,n=t.artistName,l=t.title,c=Bt().playingTrackId===r,o=L(),u=a.useCallback((function(){o({type:"PLAYLIST_TRACK__REMOVE",payload:r})}),[o,r]),i=a.useCallback((function(){o({type:"PLAYLIST_TRACK__PLAY",payload:r})}),[o,r]),s=c?"PLAYING":"DEFAULT";return a.useMemo((function(){return a.createElement(Qn,{screen:s,artistName:n,title:l,onRemove:u,onPlay:i})}),[s,n,l,u,i])},Xn=r(21),$n=r.n(Xn),el=function(e){return a.createElement("div",Object.assign({className:$n.a.PlaylistPopup__Wrapper},e))};function tl(){return(tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function rl(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var al=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),nl=n.a.createElement("path",{d:"M6 13h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1s.45 1 1 1zm-2 4h12c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm3-9c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1z"}),ll=function(e){var t=e.svgRef,r=e.title,a=rl(e,["svgRef","title"]);return n.a.createElement("svg",tl({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,al,nl)},cl=n.a.forwardRef((function(e,t){return n.a.createElement(ll,tl({svgRef:t},e))})),ol=(r.p,cl),ul=function(e){var t=e.tracksCount,r=e.onClearPlaylist;return a.createElement("div",{className:$n.a.PlaylistPopup__Header},a.createElement("div",{className:$n.a.PlaylistPopup__Count},t," tracks"),a.createElement("div",{className:$n.a.PlaylistPopup__Button},a.createElement(he,{onClick:r},a.createElement(ol,null))))},il=function(e){return a.createElement("div",{className:$n.a.PlaylistPopup__Body},a.createElement("div",Object.assign({className:$n.a.PlaylistPopup__Content},e)))},sl=function(e){var t=Bt().playlist,r=L(),n=a.useCallback((function(){r({type:"PLAYLIST_POPUP__CLEAR"})}),[r]),l=a.useMemo((function(){return t.map((function(e){return a.createElement(Jn,{track:e,key:e.id})}))}),[t]);return a.createElement(el,null,a.createElement(ul,{tracksCount:t.length,onClearPlaylist:n}),a.createElement(il,null,l))},_l=r(34),dl=r.n(_l),ml=function(e){var t=e.children;return a.createElement(we,{position:"bottom"},a.createElement("div",{className:dl.a.PlaylistControls__Wrapper},t),";")},El=function(e){var t=e.mod,r=e.children,n=function(){var e="".concat(dl.a.PlaylistControls__Group);return"skip"===t?"".concat(e," ").concat(dl.a.PlaylistControls__Group_skip):"close"===t?"".concat(e," ").concat(dl.a.PlaylistControls__Group_player):void 0}();return a.createElement("div",{className:n},r)},fl=function(e){var t=L(),r=a.useCallback((function(){t({type:"PLAYLIST_CONTROLS__PLAY_NEXT"})}),[t]),n=a.useCallback((function(){t({type:"PLAYLIST_CONTROLS__PLAY_PREVIOUS"})}),[t]),l=a.useCallback((function(){t({type:"PLAYLIST_CONTROLS__CLOSE"})}),[t]);return a.createElement(ml,null,a.createElement(El,{mod:"skip"},a.createElement(he,{onClick:n},a.createElement(jn,null)),a.createElement(he,{onClick:r},a.createElement(Un,null))),a.createElement(El,{mod:"close"},a.createElement(he,{onClick:l},a.createElement(oa,null))),a.createElement(sl,null))};function pl(){return(pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function bl(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var vl=n.a.createElement("path",{d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"}),Al=function(e){var t=e.svgRef,r=e.title,a=bl(e,["svgRef","title"]);return n.a.createElement("svg",pl({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,vl)},yl=n.a.forwardRef((function(e,t){return n.a.createElement(Al,pl({svgRef:t},e))})),Ol=(r.p,yl);function Tl(){return(Tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function gl(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var hl=n.a.createElement("path",{d:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z"}),Pl=function(e){var t=e.svgRef,r=e.title,a=gl(e,["svgRef","title"]);return n.a.createElement("svg",Tl({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,hl)},Il=n.a.forwardRef((function(e,t){return n.a.createElement(Pl,Tl({svgRef:t},e))})),Cl=(r.p,Il);function Ll(){return(Ll=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Sl(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Rl=n.a.createElement("path",{d:"M14 6H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm0 4H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM4 16h6c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM19 6c-1.1 0-2 .9-2 2v6.18c-.31-.11-.65-.18-1-.18-1.84 0-3.28 1.64-2.95 3.54.21 1.21 1.2 2.2 2.41 2.41 1.9.33 3.54-1.11 3.54-2.95V8h2c.55 0 1-.45 1-1s-.45-1-1-1h-2z"}),kl=function(e){var t=e.svgRef,r=e.title,a=Sl(e,["svgRef","title"]);return n.a.createElement("svg",Ll({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Rl)},Nl=n.a.forwardRef((function(e,t){return n.a.createElement(kl,Ll({svgRef:t},e))})),Dl=(r.p,Nl),jl=r(18),Bl=r.n(jl),wl=function(e){var t=e.title,r=e.artistName;return a.createElement("div",{className:Bl.a.PlaybackControls__Info},a.createElement("span",{className:Bl.a.PlaybackControls__Title},t),a.createElement("span",{className:Bl.a.PlaybackControls__Artist},r))},xl=function(e){var t=e.children,r=e.mod,n=function(){var e="".concat(Bl.a.PlaybackControls__Group);return"player"===r?"".concat(e," ").concat(Bl.a.PlaybackControls__Group_player):"playlist"===r?"".concat(e," ").concat(Bl.a.PlaybackControls__Group_playlist):void 0}();return a.createElement("div",{className:n},t)},Fl=function(e){var t=e.children;e.toRight;return a.createElement(we,{position:"bottom"},a.createElement("div",{className:Bl.a.PlaybackControls__Wrapper},t))},Ml=function(e){var t=e.screen,r=e.title,n=e.artistName,l=e.onPlaybackButtonClick,c=e.onPlaylistButtonClick;return a.createElement(Fl,null,a.createElement(xl,{mod:"player"},a.createElement(he,{disabled:"PENDING"===t||"FAILED"===t,onClick:l},"PLAYING"===t&&a.createElement(Cl,null),"PAUSED"===t&&a.createElement(Yt,null),"FAILED"===t&&a.createElement(Ol,null),"PENDING"===t&&a.createElement(Dt,null))),a.createElement(wl,{title:r,artistName:n}),a.createElement(xl,{mod:"playlist"},a.createElement(he,{onClick:c},a.createElement(Dl,null))))},Ul=function(){var e=L(),t=function(){var e=Bt(),t=e.playlist,r=e.playingTrackId,a=t.find((function(e){return e.id===r}));if(!a)throw new TypeError;return a}(),r=t.title,n=t.artistName,l=Bt().audioStatus,c=a.useCallback((function(){"PLAYING"===l&&e({type:"PLAYBACK_CONTROLS__PAUSE"}),"PAUSED"===l&&e({type:"PLAYBACK_CONTROLS__PLAY"})}),[l,e]),o=a.useCallback((function(){e({type:"PLAYBACK_CONTROLS__OPEN_PLAYLIST"})}),[e]),u={screen:function(){switch(l){case"PLAYING":return"PLAYING";case"PAUSED":return"PAUSED";case"PENDING":return"PENDING";case"FAILED":return"FAILED";default:throw new De.e(l)}}(),title:r,artistName:n,onPlaybackButtonClick:c,onPlaylistButtonClick:o};return a.createElement(Ml,u)},Wl=function(){var e=L(),t="PAUSED"===Bt().audioStatus,r=a.useRef(new Audio),n=a.useCallback((function(){var e=r.current;e.src&&(e.removeAttribute("src"),e.load())}),[]),l=a.useCallback((function(e){var a=r.current;a.src!==e&&(a.src=e,t||a.play())}),[t]);return a.useEffect((function(){var e=r.current;t&&!e.paused&&e.pause(),!t&&e.paused&&e.play()}),[t]),a.useEffect((function(){var t=r.current,a=function(){e({type:"AUDIO__WAITING"})},n=function(){e({type:"AUDIO__PAUSED"})},l=function(){e({type:"AUDIO__PLAYING"})},c=function(){e({type:"AUDIO__ENDED"})},o=function(r){e({type:"AUDIO__FAILED",payload:t.error||null})};return t.addEventListener("pause",n),t.addEventListener("waiting",a),t.addEventListener("playing",l),t.addEventListener("ended",c),t.addEventListener("error",o),function(){t.removeEventListener("pause",n),t.removeEventListener("waiting",a),t.removeEventListener("playing",l),t.removeEventListener("ended",c),t.removeEventListener("error",o)}}),[e]),{play:l,stop:n}},Gl=function(){!function(){var e=L(),t=P().getTrackPreviewsByAlbumIds,r=Bt().wantedTracksAlbumIds,a=Object(I.usePromise)(),l=Object(s.a)(a,2),c=l[0],o=l[1];n.a.useEffect((function(){r.length>0&&o(t(r))}),[t,o,r]),n.a.useEffect((function(){c&&(c.pending&&e({type:"GET_TRACK_PREVIEWS_BY_ALBUM_IDS",status:"PENDING"}),c.value&&e({type:"GET_TRACK_PREVIEWS_BY_ALBUM_IDS",status:"RESOLVED",payload:c.value}),c.error&&e({type:"GET_TRACK_PREVIEWS_BY_ALBUM_IDS",status:"REJECTED",payload:c.error}))}),[e,c])}();var e=Wl(),t=e.play,r=e.stop,l=function(){var e=Bt(),t=e.playlist,r=e.playingTrackId,a=t.find((function(e){return e.id===r}));return a?a.audioSrc:null}();a.useEffect((function(){l?t(l):r()}),[t,r,l]),a.useEffect((function(){return r}),[r]);var c=Bt(),o=c.primaryControls,u=c.secondaryControls,i=Bt().playingTrackId,_=null!==i&&"PLAYBACK"===u,d=null!==i&&"PLAYLIST"===u,m="SEARCH"===o,E="OVERVIEW"===o;return a.createElement(a.Fragment,null,a.createElement(Ln,null),m&&a.createElement(Ge,null),E&&a.createElement(pt,null),d&&a.createElement(fl,null),_&&a.createElement(Ul,null))},Vl=r(43),Hl=r.n(Vl),Yl=function(e){var t=e.children;return a.createElement("div",{className:Hl.a.App__Wrapper,"data-testid":w},t)},Kl=function(){return a.createElement("div",{"data-testid":x,className:Hl.a.App__Loader},a.createElement(Dt,null))},zl=function(e){!function(){var e=P().getIntl,t=C(),r=Object(s.a)(t,2),n=r[0],l=r[1],c=L();a.useEffect((function(){l(e())}),[e,l]),a.useEffect((function(){if(n){var e=n.pending,t=n.value;e&&c({type:"GET_INTL",status:"PENDING"}),t&&c({type:"GET_INTL",status:"RESOLVED",payload:t})}}),[c,l,n])}();var t=nt().activeScreen;return a.createElement(Yl,null,"LOADING"===t&&a.createElement(Kl,null),"PLAYER"===t&&a.createElement(h,null,a.createElement(Gl,null)))},Zl=r(60),ql=r.n(Zl),Ql=function(e){var t=e.children;return a.createElement("div",{className:ql.a.ThemeProvider__Wrapper},t)},Jl=function(e){var t=e.children;return a.createElement(Ql,null,t)},Xl=r(26),$l=r(61),ec=r(28),tc=r(17),rc=r(27),ac=function(e){function t(){var e,r;Object(Xl.a)(this,t);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return(r=Object(ec.a)(this,(e=Object(tc.a)(t)).call.apply(e,[this].concat(n)))).state={error:null},r}return Object(rc.a)(t,e),Object($l.a)(t,[{key:"componentDidCatch",value:function(e){0}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.fallbackView,a=e.constructors,n=this.state.error;if(null!==n){if(a.some((function(e){return n instanceof e})))return r(n);throw n}return t}}],[{key:"getDerivedStateFromError",value:function(e){if(e instanceof Error)return{error:e};throw new TypeError("ErrorBoundary accepts only instances of Error.")}}]),t}(a.Component),nc=r(50),lc=r.n(nc),cc=function(e){var t=e.message;return a.createElement("div",{className:lc.a.RootFallback__Wrapper},a.createElement("p",{className:lc.a.RootFallback__Text},t))},oc=function(e){var t=e.children;return a.createElement(ac,{constructors:[TypeError],fallbackView:cc},t)},uc=document.getElementById("root");if(uc){var ic=r(74).productionService;c.a.render(n.a.createElement((function(e){var t=e.service,r=e.routerBasename;return a.createElement(o.a,{basename:r},a.createElement(i.Provider,{value:t},a.createElement(Jl,null,a.createElement(oc,null,a.createElement(b,null,a.createElement(zl,null))))))}),{service:ic}),uc)}}],[[62,1,2]]]);
//# sourceMappingURL=main.035d54dc.chunk.js.map