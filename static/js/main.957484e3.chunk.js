(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t){},144:function(e,t){},190:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"latestAlbumsPattern",function(){return z}),n.d(r,"latestAlbumsRoute",function(){return Z}),n.d(r,"searchAlbumsPattern",function(){return U}),n.d(r,"searchAlbumsRoute",function(){return q}),n.d(r,"shareAlbumPattern",function(){return V}),n.d(r,"shareAlbumRoute",function(){return G});var a={};n.r(a),n.d(a,"startApp",function(){return cn}),n.d(a,"getLatestAlbums",function(){return on}),n.d(a,"getAlbumsByMatcher",function(){return sn}),n.d(a,"submitAlbum",function(){return pn}),n.d(a,"getPlaylistTracksByAlbumId",function(){return bn});n(88);var c=n(0),u=n.n(c),l=n(80),o=n.n(l),i=n(192),s=c.createContext(null),m=c.createContext(null),_=n(38),p=n.n(_),f=function(){return c.createElement("div",{className:p.a.App__LoadingScreen})},b=n(45),d=n(51),h=n(32),v=n(46),E=n(86),g=function(e){function t(){var e,n;Object(b.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).message="Context has been used outside of the provider.",n}return Object(v.a)(t,e),t}(Object(E.a)(Error));function A(e){var t=c.useContext(e);if(null===t)throw new g;return t}var C=n(10),k={throwError:!0};function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;if(void 0!==t&&!Array.isArray(t))throw new TypeError("Effect parameters should be an array.");var r=u.a.useState(!1),a=Object(C.a)(r,2),c=a[0],l=a[1],o=u.a.useState(!1),i=Object(C.a)(o,2),s=i[0],m=i[1],_=u.a.useState(null),p=Object(C.a)(_,2),f=p[0],b=p[1],d=u.a.useState(null),h=Object(C.a)(d,2),v=h[0],E=h[1];if(!0===n.throwError&&v&&!s)throw v;return u.a.useEffect(function(){l(!1),b(null),m(!0),e().then(b).then(function(){l(!0)}).catch(E).then(function(){m(!1)})},t),{data:f,error:v,isPending:s,isSucceeded:c}}var j=n(12),y=n(81),S=n.n(y),w=function(e){return c.createElement("div",Object.assign({className:S.a.App__Wrapper},e))},I=n(193),P=n(47),x=n.n(P),F=function(e){return c.createElement("header",{className:x.a.Header__Wrapper},e.children)};function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=u.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),B=u.a.createElement("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"}),W=(n.p,function(e){return u.a.createElement("svg",T({width:24,height:24,viewBox:"0 0 24 24"},e),N,B)});function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var L=u.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),D=u.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),R=(n.p,function(e){return u.a.createElement("svg",M({width:24,height:24,viewBox:"0 0 24 24"},e),L,D)}),H=function(e){return c.createElement("button",Object.assign({},e,{className:x.a.Header__Button}))},z="/latest",Z=function(){return"/latest"},U="/search/:query",q=function(e){return void 0!==e?"/search/".concat(e):"/search"},V="/share",G=function(){return"/share"},J=n(191),Y=n(52);var X=function(e){var t=c.createRef(),n=e.onOutsideClick,r=Object(Y.a)(e,["onOutsideClick"]);return function(e,t){c.useEffect(function(){var n=function(n){var r=e.current,a=n.target;a instanceof HTMLElement&&r instanceof HTMLElement&&!r.contains(a)&&t()};return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}},[e,t])}(t,n),c.createElement("div",Object.assign({},r,{ref:t}))},K=n(39),Q=n.n(K),$=function(e){return c.createElement(X,Object.assign({},e,{className:Q.a.MainMenu__Wrapper}))},ee=function(e){return c.createElement("nav",Object.assign({},e,{className:Q.a.MainMenu__Navigation}))},te=function(e){return c.createElement(J.a,Object.assign({},e,{className:Q.a.MainMenu__Link}))},ne=function(e){return c.createElement("button",Object.assign({},e,{className:Q.a.MainMenu__CloseButton}))},re=function(e){var t=e.onClose,n=function(e){var n=e.children,r=e.to;return c.createElement(te,{onClick:t,to:r},n)};return c.createElement($,{onOutsideClick:t},c.createElement(ne,{onClick:t},"close"),c.createElement(ee,null,c.createElement(n,{to:r.latestAlbumsRoute()},"latest albums"),c.createElement(n,{to:r.searchAlbumsRoute()},"search albums"),c.createElement(n,{to:r.shareAlbumRoute()},"share album")))},ae=n(26),ce=n.n(ae),ue=function(e){return c.createElement(X,Object.assign({},e,{className:ce.a.SearchBar__Wrapper}))},le=function(e){return c.createElement("input",Object.assign({},e,{type:"text",autoFocus:!0,className:ce.a.SearchBar__Input}))},oe=function(e){return c.createElement("button",Object.assign({},e,{className:ce.a.SearchBar__Cancel}))};function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var se=u.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),me=u.a.createElement("path",{d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}),_e=(n.p,function(e){return u.a.createElement("svg",ie({width:24,height:24,viewBox:"0 0 24 24"},e),se,me)}),pe=function(e){return c.createElement("form",Object.assign({},e,{className:ce.a.SearchBar__Form}))},fe=function(e){var t,n=e.onCancel,r=e.onSubmit,a=c.useState(""),u=Object(C.a)(a,2),l=u[0],o=u[1];return t={Escape:n},c.useEffect(function(){var e=function(e){var n=t[e.key];n&&n(e)};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),c.createElement(ue,{onOutsideClick:n},c.createElement(pe,{onSubmit:function(e){e.preventDefault(),r(l),n()}},c.createElement(le,{onChange:function(e){var t=e.currentTarget.value;o(t)},value:l})),c.createElement(oe,{onClick:n},c.createElement(_e,null)))},be=n(64),de=n.n(be),he=function(e){return c.createElement("div",Object.assign({className:de.a.Flex__Left},e))},ve=function(e){return c.createElement("div",Object.assign({className:de.a.Flex__Right},e))},Ee=function(e){var t=c.useState(""),n=Object(C.a)(t,2),a=n[0],u=n[1],l=c.useState(!1),o=Object(C.a)(l,2),i=o[0],s=o[1],m=c.useState(!1),_=Object(C.a)(m,2),p=_[0],f=_[1],b=function(){s(!i)},d=function(){f(!p)};return c.createElement(F,null,i&&c.createElement(re,{onClose:b}),!p&&c.createElement(c.Fragment,null,c.createElement(he,null,c.createElement(H,{onClick:b},c.createElement(W,null))),c.createElement(ve,null,c.createElement(H,{onClick:d},c.createElement(R,null)))),p&&c.createElement(fe,{onCancel:d,onSubmit:function(e){u(e)}}),a&&c.createElement(I.a,{to:r.searchAlbumsRoute(a),push:!0}))},ge=n(194),Ae=n(195),Ce=n(82),ke=n.n(Ce),Oe=function(e){return c.createElement("div",Object.assign({className:ke.a.AlbumsFeed__Wrapper},e))},je=n(21),ye=n.n(je),Se=function(e){return c.createElement("div",Object.assign({className:ye.a.FeedAlbum__Wrapper},e))},we=function(e){var t=e.src,n=e.alt,r=e.onClick;return c.createElement("img",{className:ye.a.FeedAlbum__Cover,src:t,alt:n,onClick:r})},Ie=function(e){return c.createElement("h4",{className:ye.a.FeedAlbum__Title},e.children)},Pe=function(e){return c.createElement("h5",{className:ye.a.FeedAlbum__Artist},e.children)},xe=function(e){return c.createElement("div",{className:ye.a.FeedAlbum__Info},e.children)},Fe=c.createContext(null),Te=function(e){var t=e.data,n=A(s).getPlaylistTracksByAlbumId,r=A(Fe).addPlaylistTracks,a=t.title,u=t.artistName,l=t.coverSrc,o=t.id;return c.createElement(Se,null,c.createElement(we,{src:l,alt:"",onClick:function(){n(o).then(r)}}),c.createElement(xe,null,c.createElement(Ie,null,a),c.createElement(Pe,null,u)))},Ne=n(65),Be=n.n(Ne),We=function(e){var t=e.children,n=e.centered;return c.createElement("main",{className:"".concat(Be.a.Wrapper," ").concat(!0===n?Be.a.Wrapper_centered:"")},t)},Me=function(e){var t=O(A(s).getLatestAlbums,[]),n=t.isPending,r=t.data;return c.createElement(We,null,n&&c.createElement(f,null),null!==r&&c.createElement(Oe,null,r.map(function(e){return c.createElement(Te,{data:e,key:e.id})})))},Le=function(e){var t=e.match.params.query,n=A(s).getAlbumsByMatcher,r=O(function(){return n(t)},[t]),a=r.isPending,u=r.data;return c.createElement(We,null,a&&c.createElement(f,null),null!==u&&c.createElement(Oe,null,u.map(function(e){return c.createElement(Te,{data:e,key:e.id})})))},De=n(4),Re=n.n(De),He=n(19),ze=n(49),Ze=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},Ue=["audio/flac","audio/wave","audio/wav","audio/mpeg","audio/mp3","audio/ogg"],qe=["image/jpeg","image/png","image/webp"],Ve=/(front|cover)/g,Ge=function(){return{key:Ze(),name:""}},Je=function(){var e=Object(He.a)(Re.a.mark(function e(t){var n,r,a;return Re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(ze.parseBlob));case 2:return n=e.sent,r=n.map(function(e){return e.common.album}),a=n.map(function(e,n){var r=e.common,a=r.artists.map(function(e){return{name:e,key:Ze()}});return a.push(Ge()),{key:Ze(),title:r.title,artists:a,audio:t[n]}}),e.abrupt("return",{title:r.find(function(e){return!!e})||"",tracklist:a});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(He.a)(Re.a.mark(function e(t){var n,r,a,c,u,l,o;return Re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(j.a)(t),r=n.filter(function(e){var t=e.type;return Ue.includes(t)}),a=n.filter(function(e){var t=e.type;return qe.includes(t)}),!(r.length>0)){e.next=11;break}return e.next=6,Je(r);case 6:return c=e.sent,u=c.tracklist,l=c.title,o=a.find(function(e){return Ve.test(e.name)}),e.abrupt("return",{tracklist:u,title:l,cover:o||null});case 11:throw new Error("No audio files have been found.");case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();var Xe=n(40),Ke=n.n(Xe),Qe=function(e){var t=e.onDataChange,n=c.useState(null),r=Object(C.a)(n,2),a=r[0],u=r[1],l=c.useState(!1),o=Object(C.a)(l,2),i=o[0],s=o[1],m=function(e){u(e),s(!1)};return c.createElement("div",{className:Ke.a.DropZone__Wrapper},c.createElement("label",{className:Ke.a.DropZone__Label},c.createElement("input",{type:"file",multiple:!0,disabled:i,className:Ke.a.DropZone__Input,onChange:function(e){var n,r,a=e.currentTarget.files;s(!0),u(null),(n=Ye(a),r=500,new Promise(function(e){window.setTimeout(function(){e(n)},r)})).then(t).catch(m),e.currentTarget.value=""}}),c.createElement("div",{className:Ke.a.DropZone__Messages},i?c.createElement("p",null,"processing..."):c.createElement("p",null,"drop files here"),a&&c.createElement("small",null,a.message))))},$e=n(27),et=n(17),tt=n(66),nt=n.n(tt),rt=function(e){var t=e.children,n=e.withPadding,r=void 0!==n&&n;return c.createElement("div",{className:"".concat(nt.a.Card__Wrapper," ").concat(r?nt.a.Card__Wrapper_withPadding:"")},t)},at=n(34),ct=n.n(at),ut=function(e){return c.createElement("form",Object.assign({},e,{className:ct.a.AlbumForm__Wrapper}))},lt=function(e){var t=e.children;return c.createElement("div",{className:ct.a.AlbumForm__AboutBlock},t)},ot=function(e){var t=e.children;return c.createElement(rt,{withPadding:!0},c.createElement("div",{className:ct.a.AlbumForm__AboutInputs},t))},it=function(e){var t=e.children;return c.createElement("div",{className:ct.a.AlbumForm__Footer},t)},st=function(e){var t=e.children,n=e.onClick;return c.createElement("button",{onClick:n,className:ct.a.AlbumForm__Button},t)},mt=n(83),_t=n.n(mt),pt=function(e){var t=e.label,n=e.name,r=e.value,a=e.onChange;return c.createElement("label",null,t,c.createElement("br",null),c.createElement("input",{type:"text",className:_t.a.CustomTextInput__Input,name:n,placeholder:t,value:r,onChange:a}))},ft=n(41),bt=n.n(ft),dt=function(e){var t=e.children;return c.createElement("label",{className:bt.a.AlbumCoverInput__Wrapper},t)},ht=function(e){return c.createElement("div",Object.assign({className:bt.a.AlbumCoverInput__Preview},e))},vt=function(e){var t=e.src;return c.createElement("img",{src:t,className:bt.a.AlbumCoverInput__Image,alt:"cover"})},Et=function(e){var t=e.onChange;return c.createElement("input",{className:bt.a.AlbumCoverInput__Input,type:"file",name:"cover",onChange:t})};function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var At=u.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"}),Ct=(n.p,function(e){return u.a.createElement("svg",gt({width:24,height:24,viewBox:"0 0 24 24"},e),At)}),kt=function(e){var t=e.data,n=e.onDataChange,r=null;return t.cover&&(r=URL.createObjectURL(t.cover)),c.createElement(dt,null,c.createElement(ht,null,null!==r?c.createElement(vt,{src:r}):c.createElement(Ct,null)),c.createElement(Et,{onChange:function(e){var r=e.currentTarget.files;n(Object(et.a)({},t,{cover:r[0]})),e.currentTarget.value=""}}))},Ot=n(35),jt=n.n(Ot),yt=function(e){return c.createElement("div",Object.assign({},e,{className:jt.a.TrackInputs__Wrapper}))},St=function(e){return c.createElement("div",Object.assign({},e,{className:jt.a.TrackInputs__Common}))},wt=function(e){return c.createElement("div",Object.assign({},e,{className:jt.a.TrackInputs__Artists}))},It=function(e){return c.createElement("div",Object.assign({},e,{className:jt.a.TrackInputs__Controls}))},Pt=function(e){var t=e.isDisabled,n=Object(Y.a)(e,["isDisabled"]);return c.createElement("button",Object.assign({type:"button",disabled:t,className:jt.a.TrackInputs__Button},n))};function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ft=u.a.createElement("path",{d:"M8.12 14.71L12 10.83l3.88 3.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41 0L6.7 13.3c-.39.39-.39 1.02 0 1.41.39.38 1.03.39 1.42 0z"}),Tt=(n.p,function(e){return u.a.createElement("svg",xt({width:24,height:24,viewBox:"0 0 24 24"},e),Ft)});function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Bt=u.a.createElement("path",{d:"M8.12 9.29L12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7c-.39-.39-.39-1.02 0-1.41.39-.38 1.03-.39 1.42 0z"}),Wt=(n.p,function(e){return u.a.createElement("svg",Nt({width:24,height:24,viewBox:"0 0 24 24"},e),Bt)}),Mt=function(e){return function(t,n,r){return c.createElement(yt,{key:t.key},c.createElement(St,null,c.createElement(pt,{label:"Track title",name:"title",value:t.title,onChange:function(a){var c=a.currentTarget,u=c.name,l=c.value,o=Object(j.a)(r);o[n]=Object(et.a)({},t,Object($e.a)({},u,l)),e(o)}})),c.createElement(wt,null,t.artists.map(function(e){return function(t,n,r){return c.createElement(c.Fragment,{key:t.key},c.createElement(pt,{label:"Track artist #".concat(n+1),name:"name",value:t.name,onChange:function(a){var c=a.currentTarget,u=c.value,l=c.name,o=Object(j.a)(r);u.length>0?o[n]=Object(et.a)({},t,Object($e.a)({},l,u)):o.splice(n,1),n===r.length-1&&u.length>0&&o.push(Ge()),e(o)}}),c.createElement("br",null),c.createElement("br",null))}}(function(a){var c=Object(j.a)(r);c[n]=Object(et.a)({},t,{artists:a}),e(c)}))),c.createElement(It,null,c.createElement(Pt,{isDisabled:0===n,onClick:function(){var t=Object(j.a)(r),a=n-1,c=[t[a],t[n]];t[n]=c[0],t[a]=c[1],e(t)}},c.createElement(Tt,null)),c.createElement(Pt,{isDisabled:n===r.length-1,onClick:function(){var t=Object(j.a)(r),a=n+1,c=[t[a],t[n]];t[n]=c[0],t[a]=c[1],e(t)}},c.createElement(Wt,null)),c.createElement(Pt,{onClick:function(){var n=r.filter(function(e){return e.key!==t.key});e(n)}},c.createElement(_e,null))))}},Lt=function(e){return ze.parseBlob(e,{skipCovers:!0}).then(function(t){var n=t.common,r=n.title,a=n.artists.map(function(e){return{name:e,key:Ze()}});return a.push(Ge()),{key:Ze(),audio:e,title:r,artists:a}})},Dt=n(53),Rt=n.n(Dt),Ht=function(e){var t=e.children;return c.createElement("label",{className:Rt.a.AlbumTracksInput__Wrapper},t)},zt=function(e){var t=e.onChange;return c.createElement("input",{className:Rt.a.AlbumTracksInput__Input,type:"file",name:"tracks",onChange:t})},Zt=function(e){var t=e.text;return c.createElement("div",{className:Rt.a.AlbumTracksInput__CustomButton},t)},Ut=function(e){var t=e.data,n=e.onDataChange;return c.createElement(Ht,null,c.createElement(zt,{onChange:function(e){var r=e.currentTarget.files;Promise.all(Object(j.a)(r).map(Lt)).then(function(e){n(Object(et.a)({},t,{tracklist:[].concat(Object(j.a)(t.tracklist),Object(j.a)(e))}))})}}),c.createElement(Zt,{text:"Add tracks"}))},qt=function(e){var t=e.data,n=e.onDataChange,r=e.onSubmit,a=e.onCancel;return c.createElement(ut,{onSubmit:r},c.createElement(lt,null,c.createElement(kt,{data:t,onDataChange:n}),c.createElement(ot,null,c.createElement(pt,{label:"Album title",name:"title",value:t.title,onChange:function(e){var r=e.currentTarget,a=r.name,c=r.value;n(Object(et.a)({},t,Object($e.a)({},a,c)))}}))),c.createElement(rt,{withPadding:!0},t.tracklist.map(Mt(function(e){n(Object(et.a)({},t,{tracklist:e}))})),c.createElement(Ut,{data:t,onDataChange:n})),c.createElement(it,null,c.createElement(st,{onClick:r},"share"),c.createElement(st,{onClick:a},"cancel")))},Vt=function(e){var t=c.useState(!1),n=Object(C.a)(t,2),r=n[0],a=n[1],u=c.useState(!1),l=Object(C.a)(u,2),o=l[0],i=l[1],m=c.useState(null),_=Object(C.a)(m,2),p=_[0],f=_[1],b=c.useState(null),d=Object(C.a)(b,2),h=d[0],v=d[1],E=A(s).submitAlbum;return c.createElement(c.Fragment,null,r?c.createElement(We,{centered:!0},c.createElement("h1",null,"succeed")):o?c.createElement(We,{centered:!0},c.createElement("h1",null,"succeed")):null!==p?c.createElement(We,{centered:!0},c.createElement("h1",null,p.message)):null!==h?c.createElement(We,null,c.createElement(qt,{data:h,onDataChange:v,onSubmit:function(){h&&(a(!0),E(h).then(function(){return i(!0)}).catch(f).then(function(){return a(!1)}))},onCancel:function(){v(null)}})):c.createElement(We,{centered:!0},c.createElement(Qe,{onDataChange:v})))},Gt=function(){return c.createElement(ge.a,null,c.createElement(Ae.a,{exact:!0,path:r.latestAlbumsPattern,component:Me}),c.createElement(Ae.a,{exact:!0,path:r.searchAlbumsPattern,component:Le}),c.createElement(Ae.a,{exact:!0,path:r.shareAlbumPattern,component:Vt}),c.createElement(Ae.a,{exact:!0,path:"/",render:function(){return c.createElement(I.a,{to:r.latestAlbumsPattern})}}))},Jt=n(84),Yt=n.n(Jt),Xt=function(e){return c.createElement("div",Object.assign({className:Yt.a.PlaybackControls__Wrapper},e))},Kt=function(e){var t=A(Fe),n=t.playlist,r=t.playingTrackId;if(null!==r){var a=n.find(function(e){return e.id===r});if(!a)throw new TypeError;return c.createElement(Xt,null,c.createElement("audio",{src:a.audioSrc}))}return null},Qt=function(e){var t=c.useState(!1),n=Object(C.a)(t,2),r=n[0],a=n[1],u=c.useState([]),l=Object(C.a)(u,2),o=l[0],i=l[1],s=c.useState(null),m=Object(C.a)(s,2),_=m[0],p=m[1],f={playlist:o,isPaused:r,playingTrackId:_,setPlayingTrackId:p,addPlaylistTracks:function(e){i([].concat(Object(j.a)(o),Object(j.a)(e)))},removePlaylistTrack:function(e){i(o.filter(function(t){return t.id!==e}))},clearPlaylist:function(){i([])},toggleIsPaused:function(){a(!r)}};return c.createElement(Fe.Provider,{value:f},c.createElement(w,null,c.createElement(Gt,null),c.createElement(Ee,null),c.createElement(Kt,null)))},$t=function(e){var t=O(A(s).startApp,[]),n=t.isPending,r=t.isSucceeded;return c.createElement(c.Fragment,null,n&&c.createElement(f,null),r&&c.createElement(Qt,null))},en=n(85),tn=function(e){function t(){var e,n;Object(b.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={error:null},n}return Object(v.a)(t,e),Object(en.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.errorRenderer,r=e.errorConstructor,a=this.state.error;if(null!==a){if(a instanceof r)return n(a);throw a}return t}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),t}(c.Component),nn=function(e){var t=e.message;return c.createElement("div",{className:p.a.App__ErrorScreen},c.createElement("p",{className:p.a.App__ErrorMessage},t))},rn=n(79),an=function(e){return new Promise(function(t){return setTimeout(t,e)})},cn=function(){return an(500)},un=[],ln=function(e){var t=e.title,n=e.coverSrc,r=e.tracklist,a=e.id,c=r.reduce(function(e,t){var n=t.artists.filter(function(t){return!e.includes(t)});return[].concat(Object(j.a)(e),Object(j.a)(n))},[]);return{id:a,title:t,artistName:c.length>1?"Various artists":c[0],coverSrc:n}},on=function(){var e=Object(He.a)(Re.a.mark(function e(){return Re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(500);case 2:return e.abrupt("return",un.map(ln));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),sn=function(){var e=Object(He.a)(Re.a.mark(function e(t){return Re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(500);case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),mn=function(e){var t=e.title,n=e.artists,r=e.audio;return{title:t,artists:n.map(function(e){return e.name}),audioSrc:URL.createObjectURL(r)}},_n=function(e){var t=e.title,n=e.cover,r=e.tracklist;if(null===n)throw new Error("Cover is required");return{id:Ze(),title:t,coverSrc:URL.createObjectURL(n),tracklist:r.map(mn)}},pn=function(){var e=Object(He.a)(Re.a.mark(function e(t){return Re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(500);case 2:un.push(_n(t));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),fn=function(e){var t=e.title,n=e.artists,r=e.audioSrc;return{id:Ze(),title:t,artistName:n.join(", "),audioSrc:r}},bn=function(){var e=Object(He.a)(Re.a.mark(function e(t){var n;return Re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(500);case 2:if(console.log(t),n=un.find(function(e){return e.id===t})){e.next=6;break}throw new Error("Unable to find album.");case 6:return e.abrupt("return",n.tracklist.map(fn));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),dn={services:a,defaultLocaleStrings:rn},hn=document.getElementById("root");hn&&o.a.render(u.a.createElement(function(e){var t=e.services,n=e.defaultLocaleStrings;return c.createElement(i.a,null,c.createElement(s.Provider,{value:t},c.createElement(m.Provider,{value:n},c.createElement(tn,{errorConstructor:TypeError,errorRenderer:nn},c.createElement($t,null)))))},dn),hn)},21:function(e,t,n){e.exports={FeedAlbum__Wrapper:"FeedAlbum_FeedAlbum__Wrapper__2hWHg",FeedAlbum__Cover:"FeedAlbum_FeedAlbum__Cover__Eg5-y",FeedAlbum__Info:"FeedAlbum_FeedAlbum__Info__S3rGU",FeedAlbum__Artist:"FeedAlbum_FeedAlbum__Artist__3hRFG"}},26:function(e,t,n){e.exports={SearchBar__Wrapper:"SearchBar_SearchBar__Wrapper__2c_0N",SearchBar__Form:"SearchBar_SearchBar__Form__2iOmN",SearchBar__Input:"SearchBar_SearchBar__Input__1mu7-",SearchBar__Cancel:"SearchBar_SearchBar__Cancel__efmqP"}},34:function(e,t,n){e.exports={AlbumForm__Wrapper:"AlbumForm_AlbumForm__Wrapper__1vUl3",AlbumForm__AboutBlock:"AlbumForm_AlbumForm__AboutBlock__2TiTc",AlbumForm__Footer:"AlbumForm_AlbumForm__Footer__30fcK",AlbumForm__Button:"AlbumForm_AlbumForm__Button__12h-b"}},35:function(e,t,n){e.exports={TrackInputs__Wrapper:"TrackInputs_TrackInputs__Wrapper__7fA4n",TrackInputs__Controls:"TrackInputs_TrackInputs__Controls__21cUl",TrackInputs__Button:"TrackInputs_TrackInputs__Button__1rlcq"}},38:function(e,t,n){e.exports={App__Wrapper:"App_App__Wrapper__1YdiP",App__ErrorScreen:"App_App__ErrorScreen__cX-bW",App__LoadingScreen:"App_App__LoadingScreen__pmmx6"}},39:function(e,t,n){e.exports={MainMenu__Wrapper:"MainMenu_MainMenu__Wrapper__2OdcN",MainMenu__Navigation:"MainMenu_MainMenu__Navigation__J_q2D",MainMenu__Link:"MainMenu_MainMenu__Link__aeNVq",MainMenu__CloseButton:"MainMenu_MainMenu__CloseButton__3VHkt"}},40:function(e,t,n){e.exports={ShareAlbumPage__Wrapper:"ShareAlbumPage_ShareAlbumPage__Wrapper__1Su5u",ShareAlbumPage__Content:"ShareAlbumPage_ShareAlbumPage__Content__29hIG",ShareAlbumPage__Footer:"ShareAlbumPage_ShareAlbumPage__Footer__326uj",DropZone__Wrapper:"ShareAlbumPage_DropZone__Wrapper__2y5y_",DropZone__Label:"ShareAlbumPage_DropZone__Label__3juAC",DropZone__Input:"ShareAlbumPage_DropZone__Input__3M85f",DropZone__Messages:"ShareAlbumPage_DropZone__Messages__2R--L"}},41:function(e,t,n){e.exports={AlbumCoverInput__Wrapper:"AlbumCoverInput_AlbumCoverInput__Wrapper__1VGM3",AlbumCoverInput__Input:"AlbumCoverInput_AlbumCoverInput__Input__2IR97",AlbumCoverInput__Preview:"AlbumCoverInput_AlbumCoverInput__Preview__3YBsr",AlbumCoverInput__Image:"AlbumCoverInput_AlbumCoverInput__Image__3Om5X"}},47:function(e,t,n){e.exports={Header__Wrapper:"Header_Header__Wrapper__3tnTj",Header__Button:"Header_Header__Button__33Cay"}},53:function(e,t,n){e.exports={AlbumTracksInput__Wrapper:"AlbumTracksInput_AlbumTracksInput__Wrapper__35FJ5",AlbumTracksInput__Input:"AlbumTracksInput_AlbumTracksInput__Input__3EfxC",AlbumTracksInput__CustomButton:"AlbumTracksInput_AlbumTracksInput__CustomButton__3MdGr"}},64:function(e,t,n){e.exports={Flex__Left:"Flex_Flex__Left__YjWBP",Flex__Right:"Flex_Flex__Right__v22L_"}},65:function(e,t,n){e.exports={Wrapper:"Page_Wrapper__H9Fbe",Wrapper_centered:"Page_Wrapper_centered__21EJI"}},66:function(e,t,n){e.exports={Card__Wrapper:"Card_Card__Wrapper__2hIyF",Card__Wrapper_withPadding:"Card_Card__Wrapper_withPadding__xDymW"}},79:function(e,t){},81:function(e,t,n){e.exports={PlayerScreen__Wrapper:"PlayerScreen_PlayerScreen__Wrapper__2QAWR",PlayerScreen__LeftBar:"PlayerScreen_PlayerScreen__LeftBar__1nEFj",PlayerScreen__RightBar:"PlayerScreen_PlayerScreen__RightBar__1p96D",PlayerScreen__BottomBar:"PlayerScreen_PlayerScreen__BottomBar__3um5G"}},82:function(e,t,n){e.exports={AlbumsFeed__Wrapper:"AlbumsFeed_AlbumsFeed__Wrapper__uCLZ1"}},83:function(e,t,n){e.exports={CustomTextInput__Input:"CustomTextInput_CustomTextInput__Input__29nyw"}},84:function(e,t,n){e.exports={PlaybackControls__Wrapper:"PlaybackControls_PlaybackControls__Wrapper__2LP_A"}},87:function(e,t,n){e.exports=n(190)},88:function(e,t,n){}},[[87,2,1]]]);
//# sourceMappingURL=main.957484e3.chunk.js.map