(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,r){e.exports={LoadMoreButton:"LoadMoreButton_LoadMoreButton__y366V"}},102:function(e,t,r){e.exports={ThemeProvider__Wrapper:"ThemeProvider_ThemeProvider__Wrapper__2gPdt"}},104:function(e,t,r){e.exports=r(188)},105:function(e,t,r){},145:function(e,t){},147:function(e,t){},15:function(e,t,r){e.exports={SearchQueryPage__Content:"SearchQueryPage_SearchQueryPage__Content__WNajS",SearchQueryPage__Results:"SearchQueryPage_SearchQueryPage__Results__2d6qy",SearchQueryPage__Feed:"SearchQueryPage_SearchQueryPage__Feed__9vEUE",SearchQueryPage__Fallback:"SearchQueryPage_SearchQueryPage__Fallback__sQcBC",SearchQueryPage__Hero:"SearchQueryPage_SearchQueryPage__Hero__3LG35",SearchQueryPage__Action:"SearchQueryPage_SearchQueryPage__Action__1c5_Q",SearchQueryPage__Title:"SearchQueryPage_SearchQueryPage__Title__6OEeZ",SearchQueryPage__Button:"SearchQueryPage_SearchQueryPage__Button__Vs3gX",SearchQueryPage__Button_save:"SearchQueryPage_SearchQueryPage__Button_save__KKbhm",SearchQueryPage__Button_delete:"SearchQueryPage_SearchQueryPage__Button_delete__1UUQT",SearchQueryPage__Button_newResults:"SearchQueryPage_SearchQueryPage__Button_newResults__3-d--",SearchQueryPage__Loader:"SearchQueryPage_SearchQueryPage__Loader__1Wet2"}},188:function(e,t,r){"use strict";r.r(t);var a={};r.r(a),r.d(a,"startApp",function(){return i}),r.d(a,"getLatestAlbums",function(){return A}),r.d(a,"getSearchResults",function(){return N}),r.d(a,"getSearchInfo",function(){return j}),r.d(a,"getSearchQueries",function(){return x}),r.d(a,"saveSearch",function(){return w}),r.d(a,"deleteSearch",function(){return B}),r.d(a,"submitAlbum",function(){return U}),r.d(a,"getPlaylistTracksByAlbumId",function(){return V}),r.d(a,"getAlbumFormDataFromFiles",function(){return ae}),r.d(a,"getTrackFormDataFromFile",function(){return ce}),r.d(a,"getTrackFormDataFromFiles",function(){return le}),r.d(a,"getIntl",function(){return ie});r(105);var n=r(0),c=r.n(n),l=r(94),o=r.n(l),u=function(e){return new Promise(function(t){return setTimeout(t,e)})},i=function(){return u(400)},s=r(2),_=r.n(s),d=r(13),m=r(7),f=r(4),p=[],E=function(e){p.push(e)},v=function(e){var t=p.find(function(t){return t.id===e});if(!t)throw new Error("Unable to find album.");return Object(f.a)({},t,{tracklist:Object(m.a)(t.tracklist)})},b=function(e,t){return p.slice(e,t)},h=function(){return p.length-1},y=function(e){var t=e.title,r=e.coverSrc,a=e.tracklist,n=e.id,c=a.reduce(function(e,t){var r=t.artists.filter(function(t){return!e.includes(t)});return[].concat(Object(m.a)(e),Object(m.a)(r))},[]);return{id:n,title:t,artistName:c.length>1?"Various artists":c[0],coverSrc:r,saved:!0}},A=function(){var e=Object(d.a)(_.a.mark(function e(t){var r,a,n,c,l,o,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(400);case 2:return r=t.startPage,a=t.pagesCount,l=b(n=20*(r-1),c=n+20*(void 0===a?1:a)).map(y),o=h(),i=c>=o,e.abrupt("return",{items:l,lastPageFlag:i});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),g=0,O=function(){return g+=1},P=["https://preview.redd.it/6dft2z5w9cyz.jpg?width=960&crop=smart&auto=webp&s=9f934dc525835511feb7b7ef9d60f7319cea4423","https://upload.wikimedia.org/wikipedia/en/0/05/Casualties_of_Cool.jpg","https://images.unsplash.com/photo-1535498730771-e735b998cd64?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80"],T=function(e){for(var t=e,r=[];t>0;)r.push({id:"".concat(O()),artistName:"Artist name",title:"Album title",coverSrc:P[Math.floor(Math.random()*P.length)],saved:!0}),t-=1;return r},S=function(){var e=O();return{id:e,queryText:"cool ".concat(e),saved:!0,results:T(5)}},I=Object(m.a)(function(e){for(var t=e,r=[];t>0;)r.push(S()),t-=1;return r}(61)),C=function(e){var t=I.findIndex(function(t){return t.queryText===e});return-1===t&&(t=I.push({id:O(),queryText:e,saved:!1,results:[]})-1),{patch:function(e){(I=Object(m.a)(I))[t]=Object(f.a)({},I[t],e)},getCopy:function(){return Object(f.a)({},I[t])}}},k=function(e,t){C(e).patch({saved:t})},L=function(e){return C(e).getCopy()},R=function(){return Object(m.a)(I)},N=function(){var e=Object(d.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(400);case 2:return e.abrupt("return",L(t).results);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(_.a.mark(function e(t){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(400);case 2:return r=L(t),e.abrupt("return",{text:r.queryText,saved:r.saved,resultsCount:r.results.length});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(_.a.mark(function e(t){var r,a,n,c,l,o,i,s,d;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(400);case 2:return r=t.startPage,a=t.pagesCount,n=void 0===a?1:a,c=R(),o=(l=20*(r-1))+20*n,i=c.slice(l,o),s=i.map(function(e){return{text:e.queryText,saved:e.saved,resultsCount:e.results.length}}),d=o>=c.length,e.abrupt("return",{items:s,lastPageFlag:d});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(400);case 2:k(t,!0);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(400);case 2:k(t,!1);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),D=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},F=function(e){var t=e.title,r=e.artists,a=e.audio;return{title:t,artists:r.map(function(e){return e.name}),audioSrc:URL.createObjectURL(a)}},M=function(e){var t=e.title,r=e.cover,a=e.tracklist;if(null===r)throw new Error("Cover is required");return{id:D(),title:t,coverSrc:URL.createObjectURL(r),tracklist:a.map(F)}},U=function(){var e=Object(d.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(400);case 2:E(M(t));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Q=function(e){var t=e.title,r=e.artists,a=e.audioSrc;return{id:D(),title:t,artistName:r.join(", "),audioSrc:a}},V=function(){var e=Object(d.a)(_.a.mark(function e(t){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(400);case 2:return r=v(t),e.abrupt("return",r.tracklist.map(Q));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),G=r(61),W=["audio/flac","audio/wave","audio/wav","audio/mpeg","audio/mp3","audio/ogg"],H=["image/jpeg","image/png","image/webp"],Y=/(front|cover)/g,K=r(43),z=r(45),Z=r(33),q=r(44),J=r(57),X=function(e){function t(){var e,r;Object(K.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(z.a)(this,(e=Object(Z.a)(t)).call.apply(e,[this].concat(n)))).message="Expected data is not available yet.",r}return Object(q.a)(t,e),t}(Object(J.a)(Error)),$=function(e){function t(){var e,r;Object(K.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(z.a)(this,(e=Object(Z.a)(t)).call.apply(e,[this].concat(n)))).message="Unreachable type error.",r}return Object(q.a)(t,e),t}(Object(J.a)(TypeError)),ee=function(e){function t(){var e,r;Object(K.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(z.a)(this,(e=Object(Z.a)(t)).call.apply(e,[this].concat(n)))).message="No audio files selected.",r}return Object(q.a)(t,e),t}(Object(J.a)(Error)),te=function(e){function t(){var e,r;Object(K.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(z.a)(this,(e=Object(Z.a)(t)).call.apply(e,[this].concat(n)))).message="Unexpected error.",r}return Object(q.a)(t,e),t}(Object(J.a)(Error)),re=function(){var e=Object(d.a)(_.a.mark(function e(t){var r,a,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(G.parseBlob));case 2:return r=e.sent,a=r.map(function(e){return e.common.album}),n=r.map(function(e,r){var a=e.common,n=a.artists.map(function(e){return{name:e,id:D()}});return{id:D(),title:a.title,artists:n,audio:t[r]}}),e.abrupt("return",{title:a.find(function(e){return!!e})||"",tracklist:n});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(_.a.mark(function e(t){var r,a,n,c,l,o,u;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(m.a)(t),a=r.filter(function(e){var t=e.type;return W.includes(t)}),n=r.filter(function(e){var t=e.type;return H.includes(t)}),!(a.length>0)){e.next=11;break}return e.next=6,re(a);case 6:return c=e.sent,l=c.tracklist,o=c.title,u=n.find(function(e){return Y.test(e.name)}),e.abrupt("return",{tracklist:l,title:o,cover:u||null});case 11:throw new ee;case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ne=function(){return{id:D(),name:""}},ce=function(e){return G.parseBlob(e,{skipCovers:!0}).then(function(t){var r=t.common,a=r.title,n=r.artists.map(function(e){return{name:e,key:D()}});return n.push(ne()),{key:D(),audio:e,title:a,artists:n}})},le=function(e){return Promise.all(e.map(ce))},oe=new Map;oe.set("en",function(){return r.e(3).then(r.bind(null,194))}),oe.set("ru",function(){return r.e(4).then(r.bind(null,195))});var ue=function(){var e=Object(d.a)(_.a.mark(function e(t){var r,a,n,c,l;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=oe.has(t)?t:"en",a=oe.get(r),n=Object(m.a)(oe.keys()),!a){e.next=11;break}return e.next=6,a();case 6:return c=e.sent,l=c.dictionary,e.abrupt("return",{currentCode:r,availableCodes:n,dictionary:l});case 11:throw new te;case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(d.a)(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(400);case 2:return e.abrupt("return",ue("en"));case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),se={services:a},_e=n.createContext(a),de=r(29),me=r(193),fe=r(190),pe=c.a.createContext(null),Ee=Object(me.a)(function(e){var t=e.children,r=Object(de.a)(e,["children"]);return n.createElement(pe.Provider,{value:r},t)}),ve=function(e){var t=e.children;return n.createElement(fe.a,null,n.createElement(Ee,null,t))},be=r(6),he=r(96),ye=n.createContext(function(e){0}),Ae=Object(he.createEventBoundary)(ye),ge=n.createContext(null),Oe=function(e,t){switch(t.type){case"GET_INTL_SERVICE__RESOLVED":return{intl:t.payload,activeScreen:"PLAYER"};default:return e}},Pe={activeScreen:"LOADING",intl:null},Te=function(e){var t=e.children,r=c.a.useReducer(Oe,Pe),a=Object(be.a)(r,2),l=a[0],o=a[1];return n.createElement(Ae,{handler:o},n.createElement(ge.Provider,{value:l},t))},Se=n.createContext({screen:"OVERVIEW",playlist:[],playingTrackId:null,audioStatus:"PAUSED"}),Ie=function(e){var t=e.playlist.findIndex(function(t){return t.id===e.playingTrackId});if(t>-1){var r=e.playlist[t+1];return r?r.id:null}throw new TypeError},Ce={screen:"OVERVIEW",playlist:[],playingTrackId:null,audioStatus:"PAUSED"},ke=function(e,t){switch(t.type){case"FEED_ALBUM__ADD_TO_PLAYLIST":return 0===t.payload.length?e:Object(f.a)({},e,{playlist:[].concat(Object(m.a)(e.playlist),Object(m.a)(t.payload)),playingTrackId:null===e.playingTrackId?t.payload[0].id:e.playingTrackId});case"FEED_ALBUM__PLAY":return 0===t.payload.length?e:Object(f.a)({},e,{playlist:Object(m.a)(t.payload),playingTrackId:t.payload[0].id,audioStatus:"PLAYING"});case"AUDIO__WAITING":return Object(f.a)({},e,{audioStatus:"PENDING"});case"AUDIO__PLAYING":case"PLAYBACK_CONTROLS__PLAY":return Object(f.a)({},e,{audioStatus:"PLAYING"});case"AUDIO__PAUSED":case"PLAYBACK_CONTROLS__PAUSE":return Object(f.a)({},e,{audioStatus:"PAUSED"});case"AUDIO__ENDED":var r=Ie(e),a=e.playlist[0].id;return Object(f.a)({},e,{playingTrackId:null!==r?r:a,audioStatus:null!==r?"PLAYING":"PAUSED"});case"PLAYLIST_CONTROLS__PLAY_NEXT":var n=Ie(e),c=e.playlist[0].id;return Object(f.a)({},e,{playingTrackId:null!==n?n:c});case"PLAYLIST_CONTROLS__PLAY_PREVIOUS":var l=function(e){var t=e.playlist.findIndex(function(t){return t.id===e.playingTrackId});if(t>-1){var r=e.playlist[t-1];return r?r.id:null}throw new TypeError}(e),o=e.playlist[0].id;return Object(f.a)({},e,{playingTrackId:null!==l?l:o});case"PLAYLIST_TRACK__PLAY":return Object(f.a)({},e,{playingTrackId:t.payload,audioStatus:"PLAYING"});case"PLAYLIST_TRACK__REMOVE":var u=e.playlist.filter(function(e){return e.id!==t.payload});return 0===u.length?Object(f.a)({},Ce):e.playingTrackId===t.payload?Object(f.a)({},e,{playlist:u,playingTrackId:Ie(e)}):Object(f.a)({},e,{playlist:u});case"PLAYLIST_POPUP__CLEAR":return Object(f.a)({},Ce);case"OVERVIEW_CONTROLS__OPEN_SEARCH":return Object(f.a)({},e,{screen:"SEARCH"});case"SEARCH_CONTROLS__SUBMIT":case"SEARCH_CONTROLS__CANCEL":return Object(f.a)({},e,{screen:"OVERVIEW"});default:return e}},Le=function(e){var t=e.children,r=c.a.useReducer(ke,Ce),a=Object(be.a)(r,2),l=a[0],o=a[1];return n.createElement(Ae,{handler:o},n.createElement(Se.Provider,{value:l},t))},Re=function(){return c.a.useContext(_e)},Ne=r(97).usePromise,je=function(){return c.a.useContext(ye)},xe=function(){return c.a.useContext(Se)},we=function(){var e=function(){var e=xe(),t=e.playlist,r=e.playingTrackId,a=t.find(function(e){return e.id===r});if(!a)throw new TypeError;return a.audioSrc}(),t=je(),r="PAUSED"===xe().audioStatus,a=n.useRef(new Audio),c=n.useCallback(function(){var e=a.current;e.removeAttribute("src"),e.load()},[]);n.useEffect(function(){var t=a.current;e?t.src!==e&&(t.src=e,r||t.play()):c()},[r,c,e]),n.useEffect(function(){return c},[c]),n.useEffect(function(){var e=a.current;r&&!e.paused&&e.pause(),!r&&e.paused&&e.play()},[r]),n.useEffect(function(){var e=a.current,r=function(){t({type:"AUDIO__WAITING"})},n=function(){t({type:"AUDIO__PAUSED"})},c=function(){t({type:"AUDIO__PLAYING"})},l=function(){t({type:"AUDIO__ENDED"})},o=function(e){console.error(e)};return e.addEventListener("pause",n),e.addEventListener("waiting",r),e.addEventListener("playing",c),e.addEventListener("ended",l),e.addEventListener("error",o),function(){e.removeEventListener("pause",n),e.removeEventListener("waiting",r),e.removeEventListener("playing",c),e.removeEventListener("ended",l),e.removeEventListener("error",o)}},[t])};function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Fe=c.a.createElement("path",{d:"M8.12 9.29L12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7c-.39-.39-.39-1.02 0-1.41.39-.38 1.03-.39 1.42 0z"}),Me=function(e){var t=e.svgRef,r=De(e,["svgRef"]);return c.a.createElement("svg",Be({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),Fe)},Ue=c.a.forwardRef(function(e,t){return c.a.createElement(Me,Be({svgRef:t},e))}),Qe=(r.p,Ue);function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var We=c.a.createElement("path",{d:"M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1zm3.66 6.82l5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z"}),He=function(e){var t=e.svgRef,r=Ge(e,["svgRef"]);return c.a.createElement("svg",Ve({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),We)},Ye=c.a.forwardRef(function(e,t){return c.a.createElement(He,Ve({svgRef:t},e))}),Ke=(r.p,Ye);function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Ze(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var qe=c.a.createElement("path",{d:"M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z"}),Je=function(e){var t=e.svgRef,r=Ze(e,["svgRef"]);return c.a.createElement("svg",ze({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),qe)},Xe=c.a.forwardRef(function(e,t){return c.a.createElement(Je,ze({svgRef:t},e))}),$e=(r.p,Xe),et=r(78),tt=r.n(et),rt=function(e){var t=e.hasToggledOnIndicator,r=e.testId,a=Object(de.a)(e,["hasToggledOnIndicator","testId"]);return n.createElement("button",Object.assign({},a,{className:"".concat(tt.a.SquareButton__Button," ").concat(!0===t?tt.a.SquareButton__Button_toggledOn:""),"data-testid":r}))};function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function nt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ct=c.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),lt=c.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"}),ot=function(e){var t=e.svgRef,r=nt(e,["svgRef"]);return c.a.createElement("svg",at({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),ct,lt)},ut=c.a.forwardRef(function(e,t){return c.a.createElement(ot,at({svgRef:t},e))}),it=(r.p,ut),st=r(98),_t=r.n(st),dt=function(e){var t=e.testId,r=e.className,a=void 0===r?"":r,c=Object(de.a)(e,["testId","className"]);return n.createElement("button",Object.assign({},c,{className:"".concat(_t.a.RoundButton__Button," ").concat(a),"data-testid":t}))},mt=r(22),ft=r.n(mt),pt=function(e){var t=e.children,r=e.playing;return n.createElement("div",{className:"".concat(ft.a.PlaylistTrack__Wrapper," ").concat(r?ft.a.PlaylistTrack__Wrapper_playing:"")},t)},Et=function(e){var t=e.children,r=e.disabled,a=e.onClick;return n.createElement("button",{disabled:r,className:ft.a.PlaylistTrack__Button,type:"button",onClick:a},t)};function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function bt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ht=c.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),yt=c.a.createElement("path",{d:"M16.59 9H15V4c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v5H7.41c-.89 0-1.34 1.08-.71 1.71l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.63-.63.19-1.71-.7-1.71zM5 19c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1z"}),At=function(e){var t=e.svgRef,r=bt(e,["svgRef"]);return c.a.createElement("svg",vt({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),ht,yt)},gt=c.a.forwardRef(function(e,t){return c.a.createElement(At,vt({svgRef:t},e))}),Ot=(r.p,gt),Pt=function(){return c.a.createElement("div",{className:ft.a.PlaylistTrack__CachingIndicator},c.a.createElement(Ot,null))},Tt=function(e){var t=e.artistName,r=e.title;return c.a.createElement("div",{className:ft.a.PlaylistTrack__Info},c.a.createElement("div",{className:ft.a.PlaylistTrack__Title},r),c.a.createElement("div",{className:ft.a.PlaylistTrack__Artist},t))},St=function(e){var t=e.children;return n.createElement("div",{className:ft.a.PlaylistTrack__SecondaryAction},t)},It=function(e){var t=e.artistName,r=e.title,a=e.hasPlayingScreen,n=e.hasCachingScreen,l=e.onPlay,o=e.onRemove;return c.a.createElement(pt,{playing:a},c.a.createElement(Et,{disabled:n,onClick:l},n&&c.a.createElement(Pt,null),c.a.createElement(Tt,{title:r,artistName:t})),c.a.createElement(St,null,c.a.createElement(dt,{onClick:o},c.a.createElement(it,null))))},Ct=function(e){var t=e.track,r=t.id,a=t.artistName,c=t.title,l=xe().playingTrackId===r,o=je(),u=n.useCallback(function(){o({type:"PLAYLIST_TRACK__REMOVE",payload:r})},[o,r]),i=n.useCallback(function(){o({type:"PLAYLIST_TRACK__PLAY",payload:r})},[o,r]),s=l;return n.useMemo(function(){return n.createElement(It,{artistName:a,title:c,hasPlayingScreen:s,hasCachingScreen:!1,onRemove:u,onPlay:i})},[a,c,s,!1,u,i])},kt=r(34),Lt=r.n(kt),Rt=function(e){return n.createElement("div",Object.assign({className:Lt.a.PlaylistPopup__Wrapper},e))};function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function jt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var xt=c.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),wt=c.a.createElement("path",{d:"M6 13h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1s.45 1 1 1zm-2 4h12c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm3-9c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1z"}),Bt=function(e){var t=e.svgRef,r=jt(e,["svgRef"]);return c.a.createElement("svg",Nt({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),xt,wt)},Dt=c.a.forwardRef(function(e,t){return c.a.createElement(Bt,Nt({svgRef:t},e))}),Ft=(r.p,Dt),Mt=function(e){var t=e.tracksCount,r=e.onClearPlaylist;return n.createElement("div",{className:Lt.a.PlaylistPopup__Header},n.createElement("div",{className:Lt.a.PlaylistPopup__Count},t," tracks"),n.createElement("div",{className:Lt.a.PlaylistPopup__Button},n.createElement(rt,{onClick:r},n.createElement(Ft,null))))},Ut=function(e){return n.createElement("div",{className:Lt.a.PlaylistPopup__Body},n.createElement("div",Object.assign({className:Lt.a.PlaylistPopup__Content},e)))},Qt=function(e){var t=xe().playlist,r=je(),a=n.useCallback(function(){r({type:"PLAYLIST_POPUP__CLEAR"})},[r]),c=n.useMemo(function(){return t.map(function(e){return n.createElement(Ct,{track:e,key:e.id})})},[t]);return n.createElement(Rt,null,n.createElement(Mt,{tracksCount:t.length,onClearPlaylist:a}),n.createElement(Ut,null,c))},Vt=r(67),Gt=r.n(Vt),Wt=function(e){var t=e.children,r=e.position,a=e.testId,c=function(){var e=Gt.a.FixedPanel__Wrapper;if("top"===r)return"".concat(e," ").concat(Gt.a.FixedPanel__Wrapper_top);if("bottom"===r)return"".concat(e," ").concat(Gt.a.FixedPanel__Wrapper_bottom);throw new $}();return n.createElement("div",{className:c,"data-testid":a},t)},Ht=r(49),Yt=r.n(Ht),Kt=function(e){var t=e.children;return n.createElement(Wt,{position:"bottom"},n.createElement("div",{className:Yt.a.PlaylistControls__Wrapper},t),";")},zt=function(e){var t=e.mod,r=e.children,a=function(){var e="".concat(Yt.a.PlaylistControls__Group);return"skip"===t?"".concat(e," ").concat(Yt.a.PlaylistControls__Group_skip):"close"===t?"".concat(e," ").concat(Yt.a.PlaylistControls__Group_player):void 0}();return n.createElement("div",{className:a},r)},Zt=function(e){var t=je(),r=n.useCallback(function(){t({type:"PLAYLIST_CONTROLS__PLAY_NEXT"})},[t]),a=n.useCallback(function(){t({type:"PLAYLIST_CONTROLS__PLAY_PREVIOUS"})},[t]),c=n.useCallback(function(){t({type:"PLAYLIST_CONTROLS__CLOSE"})},[t]);return n.createElement(Kt,null,n.createElement(zt,{mod:"skip"},n.createElement(rt,{onClick:a},n.createElement(Ke,null)),n.createElement(rt,{onClick:r},n.createElement($e,null))),n.createElement(zt,{mod:"close"},n.createElement(rt,{onClick:c},n.createElement(Qe,null))),n.createElement(Qt,null))};function qt(){return(qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Jt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Xt=c.a.createElement("path",{d:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z"}),$t=function(e){var t=e.svgRef,r=Jt(e,["svgRef"]);return c.a.createElement("svg",qt({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),Xt)},er=c.a.forwardRef(function(e,t){return c.a.createElement($t,qt({svgRef:t},e))}),tr=(r.p,er);function rr(){return(rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ar(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var nr=c.a.createElement("path",{d:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z"}),cr=function(e){var t=e.svgRef,r=ar(e,["svgRef"]);return c.a.createElement("svg",rr({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),nr)},lr=c.a.forwardRef(function(e,t){return c.a.createElement(cr,rr({svgRef:t},e))}),or=(r.p,lr);function ur(){return(ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ir(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var sr=c.a.createElement("path",{d:"M14 6H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm0 4H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM4 16h6c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM19 6c-1.1 0-2 .9-2 2v6.18c-.31-.11-.65-.18-1-.18-1.84 0-3.28 1.64-2.95 3.54.21 1.21 1.2 2.2 2.41 2.41 1.9.33 3.54-1.11 3.54-2.95V8h2c.55 0 1-.45 1-1s-.45-1-1-1h-2z"}),_r=function(e){var t=e.svgRef,r=ir(e,["svgRef"]);return c.a.createElement("svg",ur({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),sr)},dr=c.a.forwardRef(function(e,t){return c.a.createElement(_r,ur({svgRef:t},e))}),mr=(r.p,dr);function fr(){return(fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function pr(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Er=c.a.createElement("path",{fill:"none",d:"M.01 0h24v24h-24V0z"}),vr=c.a.createElement("path",{d:"M12 4V2.21c0-.45-.54-.67-.85-.35l-2.8 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.32.31.86.09.86-.36V6c3.31 0 6 2.69 6 6 0 .79-.15 1.56-.44 2.25-.15.36-.04.77.23 1.04.51.51 1.37.33 1.64-.34.37-.91.57-1.91.57-2.95 0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-.79.15-1.56.44-2.25.15-.36.04-.77-.23-1.04-.51-.51-1.37-.33-1.64.34C4.2 9.96 4 10.96 4 12c0 4.42 3.58 8 8 8v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79c-.31-.31-.85-.09-.85.36V18z"}),br=function(e){var t=e.svgRef,r=pr(e,["svgRef"]);return c.a.createElement("svg",fr({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),Er,vr)},hr=c.a.forwardRef(function(e,t){return c.a.createElement(br,fr({svgRef:t},e))}),yr=(r.p,hr),Ar=r(99),gr=r.n(Ar),Or=function(){return c.a.createElement(yr,{className:gr.a.Spinner})},Pr=r(30),Tr=r.n(Pr),Sr=function(e){var t=e.title,r=e.artistName;return n.createElement("div",{className:Tr.a.PlaybackControls__Info},n.createElement("span",{className:Tr.a.PlaybackControls__Title},t),n.createElement("span",{className:Tr.a.PlaybackControls__Artist},r))},Ir=function(e){var t=e.children,r=e.mod,a=function(){var e="".concat(Tr.a.PlaybackControls__Group);return"player"===r?"".concat(e," ").concat(Tr.a.PlaybackControls__Group_player):"playlist"===r?"".concat(e," ").concat(Tr.a.PlaybackControls__Group_playlist):void 0}();return n.createElement("div",{className:a},t)},Cr=function(e){var t=e.children;e.toRight;return n.createElement(Wt,{position:"bottom"},n.createElement("div",{className:Tr.a.PlaybackControls__Wrapper},t))},kr=function(e){var t=je(),r=function(){var e=xe(),t=e.playlist,r=e.playingTrackId,a=t.find(function(e){return e.id===r});if(!a)throw new TypeError;return a}(),a=r.title,c=r.artistName,l=xe().audioStatus,o=n.useCallback(function(){t({type:"PLAYBACK_CONTROLS__PAUSE"})},[t]),u=n.useCallback(function(){t({type:"PLAYBACK_CONTROLS__PLAY"})},[t]),i=n.useCallback(function(){t({type:"PLAYBACK_CONTROLS__OPEN_PLAYLIST"})},[t]),s="PLAYING"===l,_="PAUSED"===l,d="WAITING"===l;return n.createElement(Cr,null,n.createElement(Ir,{mod:"player"},s&&n.createElement(rt,{onClick:o},n.createElement(tr,null)),_&&n.createElement(rt,{onClick:u},n.createElement(or,null)),d&&n.createElement(Or,null)),n.createElement(Sr,{title:a,artistName:c}),n.createElement(Ir,{mod:"playlist"},n.createElement(rt,{onClick:i},n.createElement(mr,null))))},Lr=function(e,t){switch(t.type){case"PLAYLIST_POPUP__CLEAR":case"PLAYLIST_CONTROLS__CLOSE":return{hasPlaylistMode:!1};case"PLAYBACK_CONTROLS__OPEN_PLAYLIST":return{hasPlaylistMode:!0};default:return e}},Rr={hasPlaylistMode:!1},Nr=function(e){var t=n.useReducer(Lr,Rr),r=Object(be.a)(t,2),a=r[0],c=r[1];return we(),n.createElement(Ae,{handler:c},a.hasPlaylistMode?n.createElement(Zt,null):n.createElement(kr,null))},jr=r(192),xr=r(101),wr=r(191),Br="/latest",Dr=function(){return"/latest"},Fr="/search",Mr=function(){return"/search"},Ur="/search/:query",Qr=function(e){return"/search/".concat(e)},Vr="/share",Gr=function(){return"/share"},Wr="APP__WRAPPER",Hr="APP__LOADER",Yr="PAGE_WRAPPER",Kr="PAGE_LOADER",zr="HEADER__PANEL",Zr="HEADER__SEARCH_BUTTON",qr="HEADER__NAVIGATION_BUTTON",Jr="PLAYER_NAVIGATION__POPUP",Xr="PLAYER_NAVIGATION__LATEST_ALBUMS_LINK",$r="PLAYER_NAVIGATION__SEARCH_ALBUMS_LINK",ea="PLAYER_NAVIGATION__SHARE_ALBUM_LINK",ta="SEARCH_BAR__INPUT",ra="SEARCH_BAR__FORM",aa="SEARCH_BAR__CLEAR_BUTTON",na="LATEST_LABUMS_PAGE__FALLBACK",ca="LATEST_LABUMS_PAGE__FEED",la="LATEST_LABUMS_PAGE__LOAD_MORE_BUTTON",oa="LATEST_LABUMS_PAGE__FEED_LOADER",ua="SEARCH_QUERY_PAGE__TITLE",ia="SEARCH_QUERY_PAGE__LOADER",sa="SEARCH_QUERY_PAGE__FALLBACK",_a="SEARCH_QUERY_PAGE__FEED",da="SEARCH_QUERY_PAGE__SAVE_SEARCH_BUTTON",ma="SEARCH_QUERY_PAGE__DELETE_SEARCH_BUTTON",fa="SEARCH_QUERY_PAGE__NEW_RESULTS_BUTTON",pa="SEARCH_QUERIES_PAGE__LOAD_MORE_BUTTON",Ea="SEARCH_QUERIES_PAGE__LOADER",va="SEARCH_QUERIES_PAGE__FALLBACK",ba="SEARCH_QUERIES_PAGE__FEED",ha="SEARCH_QUERY_ITEM__WRAPPER",ya="SEARCH_QUERY_ITEM__LINK",Aa="SEARCH_QUERY_ITEM__BUTTON",ga="FEED_ALBUM_WRAPPER",Oa="SEARCH_QUERY_ALBUM__ROOT_WRAPPER",Pa="SHARE_ALBUM_PAGE__LOADER",Ta="SHARE_ALBUM_PAGE__DROP_ZONE_INPUT",Sa="SHARE_ALBUM_PAGE__DROP_ZONE_TEXT",Ia="SHARE_ALBUM_PAGE__ALBUM_EDITOR",Ca="ALBUM_EDITOR__TITLE_INPUT",ka="ALBUM_TRACK_EDITOR__WRAPPER",La="ALBUM_TRACK_EDITOR__TITLE_INPUT",Ra="ALBUM_TRACK_EDITOR__TITLE_VALIDATION",Na="ALBUM_TRACK_EDITOR__REMOVE_BUTTON",ja="ALBUM_ARTIST_EDITOR__ARTIST_NAME_INPUT",xa="ALBUM_ARTIST_EDITOR__ARTIST_NAME_VALIDATION",wa="ALBUM_TRACKLIST__VALIDATION",Ba="ALBUM_TRACKLIST__TRACK_INPUT",Da=r(50),Fa=r.n(Da),Ma=function(e){var t=e.children,r=e.centered,a=e.hasCompactView;return n.createElement("main",{className:"".concat(Fa.a.Page__Wrapper," ").concat(!0===r?Fa.a.Page__Wrapper_centered:""," ").concat(!0===a?Fa.a.Page__Wrapper_compact:""),"data-testid":Yr},t)},Ua=function(){return c.a.createElement("div",{className:Fa.a.Page__Loader,"data-testid":Kr},c.a.createElement(Or,null))},Qa=function(e){var t=e.children,r=e.centered,a=e.hasLoader,c=null!==xe().playingTrackId;return n.createElement(Ma,{hasCompactView:c,centered:!0===r||!0===a},!0===a?n.createElement(Ua,null):t)},Va=r(100),Ga=r.n(Va),Wa=function(e){var t=e.onClick,r=e.disabled,a=e.hasLoader,c=e.text,l=e.buttonTestId,o=e.loaderTestId;return n.createElement("button",{className:Ga.a.LoadMoreButton,"data-testid":l,onClick:t,disabled:r},!0===a?n.createElement("div",{"data-testid":o},n.createElement(Or,null)):c)};function Ha(){return(Ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Ya(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Ka=c.a.createElement("path",{d:"M13 10H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm0-4H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm5 8v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-3c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3zM3 16h6c.55 0 1-.45 1-1s-.45-1-1-1H3c-.55 0-1 .45-1 1s.45 1 1 1z"}),za=function(e){var t=e.svgRef,r=Ya(e,["svgRef"]);return c.a.createElement("svg",Ha({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),Ka)},Za=c.a.forwardRef(function(e,t){return c.a.createElement(za,Ha({svgRef:t},e))}),qa=(r.p,Za),Ja=r(37),Xa=r.n(Ja),$a=function(e){var t=e.children;return n.createElement("div",{className:Xa.a.AlbumCover__Wrapper},t)},en=function(e){var t=e.src;return n.createElement("img",{alt:"TODO",src:t,className:Xa.a.AlbumCover__Image})},tn=function(e){var t=e.children;return n.createElement("div",{className:Xa.a.AlbumCover__Actions},t)},rn=function(e){var t=e.children,r=e.onClick;return n.createElement("button",{className:Xa.a.AlbumCover__Button,onClick:r},t)},an=function(e){var t=e.imageSrc,r=e.onAddToPlaylist,a=e.onPlay;return c.a.createElement($a,null,c.a.createElement(en,{src:t}),c.a.createElement(tn,null,c.a.createElement(rn,{onClick:r},c.a.createElement(qa,null)),c.a.createElement(rn,{onClick:a},c.a.createElement(or,null))))},nn=r(38),cn=r.n(nn),ln=function(e){return n.createElement("div",Object.assign({className:cn.a.FeedAlbum__Wrapper},e,{"data-testid":ga}))},on=function(e){return n.createElement("div",{className:cn.a.FeedAlbum__Info},e.children)},un=function(e){return n.createElement("div",{className:cn.a.FeedAlbum__Title},e.children)},sn=function(e){return n.createElement("div",{className:cn.a.FeedAlbum__Artist},e.children)},_n=function(e){var t=e.data,r=je(),a=Re().getPlaylistTracksByAlbumId,c=t.title,l=t.artistName,o=t.coverSrc,u=t.id,i=n.useCallback(function(){a(u).then(function(e){r({type:"FEED_ALBUM__ADD_TO_PLAYLIST",payload:e})})},[r,a,u]),s=n.useCallback(function(){a(u).then(function(e){r({type:"FEED_ALBUM__PLAY",payload:e})})},[r,a,u]);return n.createElement(ln,null,n.createElement(an,{imageSrc:o,onAddToPlaylist:i,onPlay:s}),n.createElement(on,null,n.createElement(un,null,c),n.createElement(sn,null,l)))},dn=r(51),mn=r.n(dn),fn=function(e){var t=e.children,r=e.mod,a=n.useMemo(function(){switch(r){case"feed":return ca;default:return null}},[r]),c=n.useMemo(function(){switch(r){case"feed":return mn.a.LatestAlbumsPage__Wrapper_feed;default:return""}},[r]),l="".concat(mn.a.LatestAlbumsPage__Wrapper," ").concat(c);return n.createElement("div",{className:l,"data-testid":a},t)},pn=function(e){var t=e.text,r=e.mod,a=n.useMemo(function(){switch(r){case"fallback":return na;default:return null}},[r]),c=n.useMemo(function(){switch(r){case"fallback":return mn.a.LatestAlbumsPage__Text_fallback;default:return""}},[r]),l="".concat(mn.a.LatestAlbumsPage__Text," ").concat(c);return n.createElement("div",{className:l,"data-testid":a},t)},En=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=c.a.useState(e),r=Object(be.a)(t,2),a=r[0],n=r[1];return{value:a,increment:c.a.useCallback(function(){n(function(e){return e+1})},[]),reset:c.a.useCallback(function(){n(e)},[e])}};function vn(e){var t=n.useContext(e);if(null===t)throw new X;return t}var bn=function(){return vn(ge)},hn=function(){var e=bn().intl;if(e)return e;throw new X},yn=function(){return hn().dictionary},An=function(e){var t=yn().latestAlbumsPage,r=t.fallbackText,a=t.loadMoreButtonText,c=n.useState(!0),l=Object(be.a)(c,2),o=l[0],u=l[1],i=function(){var e=n.useState(null),t=Object(be.a)(e,2),r=t[0],a=t[1],c=En(1),l=c.value,o=c.increment,u=Re().getLatestAlbums,i=Ne({errorsToKeep:[]}),s=Object(be.a)(i,2),_=s[0],d=s[1],f=n.useCallback(function(){a(null),d(u({startPage:1,pagesCount:l}))},[u,d,l]);return n.useEffect(function(){d(u({startPage:l}))},[u,d,l]),n.useEffect(function(){if(_&&_.value){var e=_.value.items;a(function(t){return t?[].concat(Object(m.a)(t),Object(m.a)(e)):e})}},[_]),{pending:!_||_.pending,list:r,loadNextPage:o,reload:f,lastPageFlag:!!_&&!!_.value&&_.value.lastPageFlag}}(),s=i.list,_=i.lastPageFlag,d=i.pending,f=i.loadNextPage;n.useEffect(function(){!s&&d&&u(!0)},[s,d]),n.useEffect(function(){d||u(!1)},[d]);var p=f,E=!!s&&s.length>0,v=!!s&&s.length>0&&d,b=!!s&&0===s.length,h=!!s&&s.length>0&&!_,y=s||[],A=n.useMemo(function(){return y.map(function(e){return n.createElement(_n,{data:e,key:e.id})})},[y]);return n.createElement(Qa,{hasLoader:o,centered:b},E&&n.createElement(fn,{mod:"feed"},A),b&&n.createElement(pn,{mod:"fallback",text:r}),h&&n.createElement(Wa,{text:a,hasLoader:v,onClick:p,buttonTestId:la,loaderTestId:oa}))},gn=r(65),On=r.n(gn),Pn=function(e){var t=e.children;return n.createElement("div",{className:On.a.SearchQueriesPage__Feed,"data-testid":ba},t)},Tn=function(e){var t=e.text;return n.createElement("div",{className:On.a.SearchQueriesPage__Fallback,"data-testid":va},t)},Sn=r(25),In=r.n(Sn),Cn=function(e){var t=e.children;return n.createElement("div",{className:In.a.SearchQueryItem__Wrapper,"data-testid":ha},t)},kn=function(e){var t=e.children;return n.createElement("div",{className:In.a.SearchQueryItem__Info},t)},Ln=r(79),Rn=function(e){var t=e.text,r=e.url;return n.createElement(Ln.a,{to:r,"data-testid":ya,className:In.a.SearchQueryItem__Link},t)};function Nn(){return(Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function jn(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var xn=c.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),wn=c.a.createElement("path",{d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}),Bn=function(e){var t=e.svgRef,r=jn(e,["svgRef"]);return c.a.createElement("svg",Nn({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),xn,wn)},Dn=c.a.forwardRef(function(e,t){return c.a.createElement(Bn,Nn({svgRef:t},e))}),Fn=(r.p,Dn),Mn=function(e){var t=e.onClick;return n.createElement(dt,{className:In.a.SearchQueryItem__Button,onClick:t,testId:Aa},n.createElement(Fn,null))},Un=function(e){var t=e.text,r=e.hasAccent,a="".concat(In.a.SearchQueryItem__Text," ").concat(r?In.a.SearchQueryItem__Text_accent:"");return n.createElement("span",{className:a},t)},Qn=function(e){var t=e.url,r=e.linkText,a=e.countText,n=e.hasResultsAccent,l=e.onDeleteButtonClick;return c.a.createElement(Cn,null,c.a.createElement(kn,null,c.a.createElement(Rn,{text:r,url:t}),c.a.createElement(Un,{text:a,hasAccent:n})),c.a.createElement(Mn,{onClick:l}))},Vn=function(e){var t=e.item,r=t.text,a=t.resultsCount,n=e.onDelete,l=yn().searchQueryItem,o=l.resultsCountText,u=l.noResultsText,i=c.a.useCallback(function(){n(r)},[n,r]),s=r,_=0===a?u:"".concat(a," ").concat(o),d=a>0,m=Qr(r),f=c.a.useMemo(function(){return{hasResultsAccent:d,countText:_,linkText:s,url:m,onDeleteButtonClick:i}},[d,_,s,m,i]);return c.a.useMemo(function(){return c.a.createElement(Qn,f)},[f])},Gn=function(e){var t=e.hasPageLoader,r=e.hasFallback,a=e.hasFeed,n=e.hasFeedLoader,l=e.hasLoadMoreButton,o=e.loadMoreButtonText,u=e.fallbackText,i=e.queriesList,s=e.onDeleteQuery,_=e.onLoadMore,d=c.a.useMemo(function(){return i.map(function(e){return c.a.createElement(Vn,{key:e.text,item:e,onDelete:s})})},[s,i]);return c.a.createElement(Qa,{hasLoader:t},r&&c.a.createElement(Tn,{text:u}),a&&c.a.createElement(Pn,null,d),l&&c.a.createElement(Wa,{buttonTestId:pa,loaderTestId:Ea,text:o,hasLoader:n,disabled:n,onClick:_}))},Wn=function(){var e=yn().searchQueriesPage,t=e.loadMoreButtonText,r=e.fallbackText,a=c.a.useState(!0),n=Object(be.a)(a,2),l=n[0],o=n[1],u=function(){var e=c.a.useState(null),t=Object(be.a)(e,2),r=t[0],a=t[1],n=En(1),l=n.value,o=n.increment,u=Re().getSearchQueries,i=Ne(),s=Object(be.a)(i,2),_=s[0],d=s[1],f=c.a.useCallback(function(){a(null),d(u({startPage:1,pagesCount:l}))},[u,d,l]);return c.a.useEffect(function(){d(u({startPage:l}))},[u,d,l]),c.a.useEffect(function(){if(_&&_.value){var e=_.value.items;a(function(t){return t?[].concat(Object(m.a)(t),Object(m.a)(e)):e})}},[_]),{pending:!_||_.pending,list:r,loadNextPage:o,reload:f,lastPageFlag:!!_&&!!_.value&&_.value.lastPageFlag}}(),i=u.list,s=u.pending,_=u.lastPageFlag,d=u.loadNextPage,f=u.reload;c.a.useEffect(function(){!i&&s&&o(!0)},[i,s]),c.a.useEffect(function(){s||o(!1)},[s]);var p=function(){var e=Re().deleteSearch,t=Ne(),r=Object(be.a)(t,2),a=r[0],n=r[1];return[a,c.a.useCallback(function(t){n(e(t))},[e,n])]}(),E=Object(be.a)(p,2),v=E[0],b=E[1];c.a.useEffect(function(){v&&v.pending&&o(!0)},[v]),c.a.useEffect(function(){v&&v.resolved&&l&&f()},[l,v,f]);var h=d,y=b,A=!!i&&i.length>0,g=!!i&&i.length>0&&s,O={hasFeed:A,hasFallback:!!i&&0===i.length&&!s,hasFeedLoader:g,hasPageLoader:l,hasLoadMoreButton:!!i&&!1===_,loadMoreButtonText:t,fallbackText:r,queriesList:i||[],onLoadMore:h,onDeleteQuery:y};return c.a.createElement(Gn,O)},Hn=r(15),Yn=r.n(Hn),Kn=function(e){var t=e.children,r=e.title;return n.createElement("div",{className:Yn.a.SearchQueryPage__Hero},n.createElement("h1",{className:Yn.a.SearchQueryPage__Title,"data-testid":ua},r),n.createElement("div",{className:Yn.a.SearchQueryPage__Action},t))},zn=function(e){var t=e.text,r=e.mod,a=e.onClick,c=n.useMemo(function(){switch(r){case"save":return da;case"delete":return ma;case"new-results":return fa;default:throw new TypeError}},[r]),l=n.useMemo(function(){switch(r){case"save":return Yn.a.SearchQueryPage__Button_save;case"delete":return Yn.a.SearchQueryPage__Button_delete;case"new-results":return Yn.a.SearchQueryPage__Button_newResults;default:throw new TypeError}},[r]),o="".concat(Yn.a.SearchQueryPage__Button," ").concat(l);return n.createElement("button",{className:o,"data-testid":c,onClick:a},t)},Zn=function(e){var t=e.children;return n.createElement("div",{className:Yn.a.SearchQueryPage__Feed,"data-testid":_a},t)},qn=function(e){var t=e.text;return n.createElement("div",{className:Yn.a.SearchQueryPage__Fallback,"data-testid":sa},t)},Jn=function(){return n.createElement("div",{className:Yn.a.SearchQueryPage__Loader,"data-testid":ia},n.createElement(Or,null))},Xn=function(e){var t=e.children;return n.createElement(Qa,null,n.createElement("div",{className:Yn.a.SearchQueryPage__Content},t))},$n=function(e){var t=e.children;return n.createElement("div",{className:Yn.a.SearchQueryPage__Results},t)},ec=r(21),tc=r.n(ec),rc=function(e){var t=e.title,r=e.artist;return n.createElement("div",{className:tc.a.SearchQueryAlbum__Info},n.createElement("div",{className:tc.a.SearchQueryAlbum__Title},t),n.createElement("div",{className:tc.a.SearchQueryAlbum__Artist},r))},ac=function(e){var t=e.children,r="".concat(tc.a.SearchQueryAlbum__Root);return n.createElement("div",{className:r,"data-testid":Oa},t)},nc=function(e){var t=e.children,r="".concat(tc.a.SearchQueryAlbum__Group);return n.createElement("div",{className:r},t)},cc=function(e){var t=e.onClick,r="".concat(tc.a.SearchQueryAlbum__Button," ").concat(tc.a.SearchQueryAlbum__Button_delete);return n.createElement("button",{className:r,onClick:t},n.createElement(Fn,null))},lc=function(e){var t=e.text,r=e.hidden,a=e.onClick,c="".concat(tc.a.SearchQueryAlbum__Button," ").concat(tc.a.SearchQueryAlbum__Button_save," ").concat(r?tc.a.SearchQueryAlbum__Button_hidden:"");return n.createElement("button",{className:c,disabled:r,onClick:a},t)},oc=function(e){var t=e.info,r=t.coverSrc,a=t.title,n=t.artistName,l=!t.saved,o=(t.id,c.a.useCallback(function(){},[])),u=(t.id,c.a.useCallback(function(){},[])),i=(t.id,c.a.useCallback(function(){},[])),s=(t.id,c.a.useCallback(function(){},[]));return c.a.createElement(ac,null,c.a.createElement(an,{imageSrc:r,onAddToPlaylist:o,onPlay:u}),c.a.createElement(nc,null,c.a.createElement(cc,{onClick:i}),c.a.createElement(rc,{title:a,artist:n}),c.a.createElement(lc,{hidden:!l,text:"save to library",onClick:s})))},uc=function(e){var t=e.hasLoader,r=e.hasSaveSearchButton,a=e.hasDeleteSearchButton,c=e.hasShowNewResultsButton,l=e.hasFallback,o=e.hasFeed,u=e.titleText,i=e.fallbackText,s=e.saveSearchButtonText,_=e.deleteSearchButtonText,d=e.showNewResultsButtonText,m=e.feedItems,f=e.onSaveSearch,p=e.onDeleteSearch,E=e.onShowNewResults,v=n.useMemo(function(){return m.map(function(e){return n.createElement(oc,{info:e})})},[m]);return n.createElement(Xn,null,n.createElement(Kn,{title:u},r&&n.createElement(zn,{mod:"save",text:s,onClick:f}),a&&n.createElement(zn,{mod:"delete",text:_,onClick:p}),t&&n.createElement(Jn,null)),n.createElement($n,null,c&&n.createElement(zn,{mod:"new-results",text:d,onClick:E}),l&&n.createElement(qn,{text:i}),o&&n.createElement(Zn,null,v)))},ic=function(){return vn(pe)},sc=function(e){var t=e.match.params.query;if("string"!==typeof t)throw new TypeError;var r=yn().searchQueryPage,a=r.fallbackText,n=r.saveSearchButtonText,l=r.deleteSearchButtonText,o=r.showNewResultsButtonText,u=function(e){var t=Re(),r=t.getSearchInfo,a=t.deleteSearch,n=t.saveSearch,l=c.a.useState(!0),o=Object(be.a)(l,2),u=o[0],i=o[1],s=Ne(),_=Object(be.a)(s,2),d=_[0],m=_[1],f=Ne(),p=Object(be.a)(f,2),E=p[0],v=p[1],b=Ne(),h=Object(be.a)(b,2),y=h[0],A=h[1],g=c.a.useCallback(function(){return m(r(e))},[r,m,e]);c.a.useEffect(function(){g()},[g]),c.a.useEffect(function(){d&&!d.pending||i(!0)},[d]),c.a.useEffect(function(){E&&E.resolved&&g()},[E,y,g]),c.a.useEffect(function(){(y&&y.pending||E&&E.pending)&&i(!0)},[y,E]);var O=ic().history;c.a.useEffect(function(){y&&y.resolved&&O.push(Mr())},[O,y]),c.a.useEffect(function(){d&&d.resolved&&i(!1)},[d]);var P=c.a.useMemo(function(){return d&&d.value?d.value.saved:null},[d]),T=c.a.useCallback(function(){!0===P?A(a(e)):v(n(e))},[P,A,a,e,v,n]);return{saved:P,pending:u,toggleStatus:T}}(t),i=u.saved,s=u.pending,_=u.toggleStatus,d=function(e){var t=c.a.useState([]),r=Object(be.a)(t,2),a=r[0],n=r[1],l=c.a.useState([]),o=Object(be.a)(l,2),u=o[0],i=o[1];c.a.useEffect(function(){n([]),i([])},[e]);var s=Re().getSearchResults,_=Ne(),d=Object(be.a)(_,2),f=d[0],p=d[1],E=c.a.useCallback(function(){return p(s(e))},[s,p,e]);c.a.useEffect(function(){if(f&&f.value){var e=f.value;if(0===a.length)n(e);else{var t=e.filter(function(e){var t=e.id;return!a.some(function(e){return e.id===t})});t.length>0&&i(t)}}},[f,a]),c.a.useEffect(function(){var e=window.setInterval(E,5e3);return function(){window.clearInterval(e)}},[E]),c.a.useEffect(function(){E()},[E]);var v=c.a.useCallback(function(){u.length>0&&(n(function(e){return[].concat(Object(m.a)(u),Object(m.a)(e))}),i([]))},[u]);return{results:a,hasNewResults:u.length>0,mergeResults:v}}(t),f=d.results,p=d.hasNewResults,E=d.mergeResults,v={hasLoader:s,hasSaveSearchButton:!s&&!1===i,hasDeleteSearchButton:!s&&!0===i,hasShowNewResultsButton:p,hasFallback:0===f.length,hasFeed:f.length>0,titleText:t,fallbackText:a,saveSearchButtonText:n,deleteSearchButtonText:l,showNewResultsButtonText:o,feedItems:f,onSaveSearch:_,onDeleteSearch:_,onShowNewResults:E};return c.a.createElement(uc,v)},_c=n.createContext(null),dc=function(e){var t=e.title,r=e.cover,a=e.tracklist,n=[];return t||n.push({type:"TITLE_REQUIRED"}),r||n.push({type:"COVER_REQUIRED"}),0===a.length&&n.push({type:"EMPTY_TRACKLIST"}),a.forEach(function(e){e.title||n.push({type:"EMPTY_TRACK_TITLE",payload:e.id}),1!==e.artists.length||e.artists[0].name||n.push({type:"EMPTY_TRACK_ARTISTS",payload:e.id})}),n},mc=function e(t){return{done:function(){return t},addTracks:function(r){var a=Object(f.a)({},t,{tracklist:[].concat(Object(m.a)(t.tracklist),Object(m.a)(r))});return e(a)},removeTrack:function(r){var a=t.tracklist.filter(function(e){return e.id!==r}),n=Object(f.a)({},t,{tracklist:a});return e(n)},setTrackTitle:function(r){var a=r.trackId,n=r.value,c=t.tracklist.reduce(function(e,t){if(t.id===a){var r=Object(f.a)({},t,{title:n});return[].concat(Object(m.a)(e),[r])}return[].concat(Object(m.a)(e),[t])},[]),l=Object(f.a)({},t,{tracklist:c});return e(l)},addRawArtists:function(){var r=t.tracklist.map(function(e){var t=e.artists,r=t[t.length-1];return!r||r.name?Object(f.a)({},e,{artists:[].concat(Object(m.a)(t),[ne()])}):e}),a=Object(f.a)({},t,{tracklist:r});return e(a)},removeArtist:function(r){var a=r.trackId,n=r.artistId,c=t.tracklist.reduce(function(e,t){if(t.id===a){var r=t.artists.filter(function(e){return e.id!==n}),c=Object(f.a)({},t,{artists:r});return[].concat(Object(m.a)(e),[c])}return[].concat(Object(m.a)(e),[t])},[]),l=Object(f.a)({},t,{tracklist:c});return e(l)},setArtistName:function(r){var a=r.trackId,n=r.artistId,c=r.value,l=t.tracklist.reduce(function(e,t){if(t.id===a){var r=t.artists.reduce(function(e,t){if(t.id===n){var r=Object(f.a)({},t,{name:c});return[].concat(Object(m.a)(e),[r])}return[].concat(Object(m.a)(e),[t])},[]),l=Object(f.a)({},t,{artists:r});return[].concat(Object(m.a)(e),[l])}return[].concat(Object(m.a)(e),[t])},[]),o=Object(f.a)({},t,{tracklist:l});return e(o)},moveTrack:function(r){var a=r.trackId,n=r.direction,c=t.tracklist,l=c.findIndex(function(e){return e.id===a}),o=Object(m.a)(c),u="DOWN"===n?l+1:l-1,i=[o[u],o[l]];o[l]=i[0],o[u]=i[1];var s=Object(f.a)({},t,{tracklist:o});return e(s)}}},fc=function(e,t){switch(t.type){case"ALBUM_EDITOR__TITLE_CHANGE":if(e.albumFormData){var r=Object(f.a)({},e.albumFormData,{title:t.payload}),a=dc(r);return Object(f.a)({},e,{albumFormData:r,albumFormValidation:a})}return e;case"ALBUM_COVER_EDITOR__FILE_RECIEVED":if(e.albumFormData){var n=Object(f.a)({},e.albumFormData,{cover:t.payload}),c=dc(n);return Object(f.a)({},e,{albumFormData:n,albumFormValidation:c})}return e;case"ALBUM_TRACK_EDITOR__MOVE_UP":if(e.albumFormData){var l=mc(e.albumFormData).moveTrack({trackId:t.payload,direction:"UP"}).done(),o=dc(l);return Object(f.a)({},e,{albumFormData:l,albumFormValidation:o})}return e;case"ALBUM_TRACK_EDITOR__MOVE_DOWN":if(e.albumFormData){var u=mc(e.albumFormData).moveTrack({trackId:t.payload,direction:"DOWN"}).done(),i=dc(u);return Object(f.a)({},e,{albumFormData:u,albumFormValidation:i})}return e;case"ALBUM_TRACK_EDITOR__TITLE_CHANGE":if(e.albumFormData){var s=t.payload,_=s.trackId,d=s.value,m=mc(e.albumFormData).setTrackTitle({trackId:_,value:d}).done(),p=dc(m);return Object(f.a)({},e,{albumFormData:m,albumFormValidation:p})}return e;case"ALBUM_TRACK_EDITOR__ARTIST_CHANGE":if(e.albumFormData){var E=t.payload,v=E.trackId,b=E.artistId,h=E.value,y=e.albumFormData;y=h?mc(y).setArtistName({trackId:v,artistId:b,value:h}).addRawArtists().done():mc(y).removeArtist({trackId:v,artistId:b}).addRawArtists().done();var A=dc(y);return Object(f.a)({},e,{albumFormData:y,albumFormValidation:A})}return e;case"ALBUM_TRACK_EDITOR__REMOVE":if(e.albumFormData){var g=mc(e.albumFormData).removeTrack(t.payload).done(),O=dc(g);return Object(f.a)({},e,{albumFormData:g,albumFormValidation:O})}return e;case"ALBUM_EDITOR__CANCEL":return Object(f.a)({},e,{screenMap:{EDITING_ALBUM:!1,SELECTING_FILES:!0,LOADING:!1},albumFormData:null,albumFormValidation:[]});case"PROCESS_FILES_SERVICE__PENDING":return e.screenMap.SELECTING_FILES?Object(f.a)({},e,{screenMap:{EDITING_ALBUM:!1,SELECTING_FILES:!1,LOADING:!0}}):e;case"SUBMIT_ALBUM_SERVICE__PENDING":return Object(f.a)({},e,{screenMap:{EDITING_ALBUM:!1,SELECTING_FILES:!1,LOADING:!0}});case"PROCESS_FILES_SERVICE__RESOLVED":if(e.albumFormData){var P=e.albumFormData,T=mc(P).addTracks(t.payload.tracklist).addRawArtists().done(),S=dc(T);return Object(f.a)({},e,{albumFormData:T,albumFormValidation:S})}var I=mc(t.payload).addRawArtists().done(),C=dc(I);return Object(f.a)({},e,{screenMap:{EDITING_ALBUM:!0,SELECTING_FILES:!1,LOADING:!1},albumFormData:I,albumFormValidation:C,didSucceed:!1,error:null});case"SUBMIT_ALBUM_SERVICE__RESOLVED":return Object(f.a)({},e,{screenMap:{EDITING_ALBUM:!1,SELECTING_FILES:!0,LOADING:!1},albumFormData:null,albumFormValidation:[],didSucceed:!0});case"SUBMIT_ALBUM_SERVICE__REJECTED":case"PROCESS_FILES_SERVICE__REJECTED":return Object(f.a)({},e,{screenMap:{EDITING_ALBUM:!1,SELECTING_FILES:!0,LOADING:!1},albumFormData:null,albumFormValidation:[],didSucceed:!1,error:t.payload});default:return e}},pc={screenMap:{SELECTING_FILES:!0,EDITING_ALBUM:!1,LOADING:!1},albumFormData:null,albumFormValidation:[],didSucceed:!1,error:null},Ec=function(e){var t=e.children,r=c.a.useReducer(fc,pc),a=Object(be.a)(r,2),l=a[0],o=a[1];return n.createElement(Ae,{handler:o},n.createElement(_c.Provider,{value:l},t))},vc=function(){return vn(_c)},bc=function(e){var t=e.children,r=vc().albumFormData,a=function(){var e=Ne(),t=Object(be.a)(e,2),r=t[0],a=t[1],n=je();c.a.useLayoutEffect(function(){if(r){var e=r.pending,t=r.resolved,a=r.error;e&&n({type:"SUBMIT_ALBUM_SERVICE__PENDING"}),t&&n({type:"SUBMIT_ALBUM_SERVICE__RESOLVED"}),a&&n({type:"SUBMIT_ALBUM_SERVICE__REJECTED",payload:a})}},[n,r]);var l=Re().submitAlbum;return c.a.useCallback(function(e){e&&a(l(e))},[a,l])}(),l=function(){var e=Re().getAlbumFormDataFromFiles,t=Ne({errorsToKeep:[ee]}),r=Object(be.a)(t,2),a=r[0],n=r[1],l=je();return c.a.useLayoutEffect(function(){if(a){var e=a.pending,t=a.value,r=a.error;e&&l({type:"PROCESS_FILES_SERVICE__PENDING"}),t&&l({type:"PROCESS_FILES_SERVICE__RESOLVED",payload:t}),r&&l({type:"PROCESS_FILES_SERVICE__REJECTED",payload:r})}},[l,a]),c.a.useCallback(function(t){n(e(t))},[n,e])}(),o=n.useCallback(function(e){"ALBUM_EDITOR__SUBMIT"===e.type&&r&&a(r),"DROP_ZONE__FILES_RECIEVED"!==e.type&&"ALBUM_AUDIO_EDITOR__TRACKS_RECIEVED"!==e.type||l(e.payload)},[r,l,a]);return n.createElement(Ae,{handler:o},t)},hc=r(19),yc=r.n(hc),Ac=function(e){var t=e.children,r=e.onSubmit,a=n.useCallback(function(e){e.preventDefault(),r()},[r]);return n.createElement("form",{className:yc.a.AlbumEditor__Wrapper,"data-testid":Ia,onSubmit:a},t)},gc=function(e){var t=e.children;return n.createElement("div",{className:yc.a.AlbumEditor__Footer},t)},Oc=function(e){var t=e.children,r=e.submit,a=e.onClick;return n.createElement("button",{onClick:a,className:"".concat(yc.a.AlbumEditor__Button," ").concat(!0===r?yc.a.AlbumEditor__Button_primary:yc.a.AlbumEditor__Button_secondary),type:!0===r?"submit":"button"},t)},Pc=function(){var e=vc().albumFormData;if(!e)throw new X;return e},Tc=function(){return vc().albumFormValidation};function Sc(){return(Sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Ic(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Cc=c.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"}),kc=function(e){var t=e.svgRef,r=Ic(e,["svgRef"]);return c.a.createElement("svg",Sc({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),Cc)},Lc=c.a.forwardRef(function(e,t){return c.a.createElement(kc,Sc({svgRef:t},e))}),Rc=(r.p,Lc),Nc=r(28),jc=r.n(Nc),xc=function(e){var t=e.children;return n.createElement("label",{className:jc.a.AlbumCoverEditor__Wrapper},t)},wc=function(e){var t=e.onFileChange,r=e.errorMessage,a=void 0===r?"":r,c=n.useRef(null),l=n.useCallback(function(e){t(e.currentTarget.files[0]),e.currentTarget.value=""},[t]);return n.useEffect(function(){var e=c.current;e&&e.setCustomValidity(a)},[a]),n.createElement("input",{ref:c,className:jc.a.AlbumCoverEditor__Input,type:"file",name:"cover",onChange:l})},Bc=function(e){return n.createElement("div",Object.assign({className:jc.a.AlbumCoverEditor__Preview},e))},Dc=function(e){var t=e.src;return n.createElement("img",{src:t,className:jc.a.AlbumCoverEditor__Image,alt:"cover"})},Fc=function(e){var t=e.text;return n.createElement("div",{className:jc.a.AlbumCoverEditor__Error},t)},Mc=function(){var e=je(),t=function(){var e=Pc(),t=Tc(),r=yn().albumCoverEditor.missingCoverValidationText;return{value:e.cover,errorMessage:t.reduce(function(e,t){switch(t.type){case"COVER_REQUIRED":return r;default:return e}},void 0)}}(),r=t.value,a=t.errorMessage,l=n.useCallback(function(t){e({type:"ALBUM_COVER_EDITOR__FILE_RECIEVED",payload:t})},[e]),o=function(e){var t=c.a.useMemo(function(){return e?URL.createObjectURL(e):null},[e]);return c.a.useEffect(function(){if(null!==t)return function(){URL.revokeObjectURL(t)}},[t]),t}(r);return n.createElement(xc,null,n.createElement(wc,{errorMessage:a,onFileChange:l}),n.createElement(Bc,null,null!==o&&void 0===a?n.createElement(Dc,{src:o}):n.createElement(Rc,null)),void 0!==a&&n.createElement(Fc,{text:a}))},Uc=function(e){var t=e.children;return n.createElement("div",{className:yc.a.AlbumEditor__Fieldset},t)},Qc=function(e){var t=e.text;return n.createElement("div",{className:yc.a.AlbumEditor__FieldsetTitle},t)},Vc=function(e){var t=e.children,r=e.withPadding;return n.createElement("div",{className:"".concat(yc.a.AlbumEditor__FieldsetBody," ").concat(!0===r?yc.a.AlbumEditor__FieldsetBody_padding:"")},t)};function Gc(){return(Gc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Wc(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Hc=c.a.createElement("path",{d:"M8.12 14.71L12 10.83l3.88 3.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41 0L6.7 13.3c-.39.39-.39 1.02 0 1.41.39.38 1.03.39 1.42 0z"}),Yc=function(e){var t=e.svgRef,r=Wc(e,["svgRef"]);return c.a.createElement("svg",Gc({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),Hc)},Kc=c.a.forwardRef(function(e,t){return c.a.createElement(Yc,Gc({svgRef:t},e))}),zc=(r.p,Kc),Zc=r(23),qc=r.n(Zc),Jc=function(e){return n.createElement("div",Object.assign({},e,{className:qc.a.AlbumTrackEditor__Wrapper,"data-testid":ka}))},Xc=function(e){var t=e.isDisabled,r=e.testId,a=Object(de.a)(e,["isDisabled","testId"]);return n.createElement("button",Object.assign({},a,{type:"button",disabled:t,className:qc.a.AlbumTrackEditor__Button,"data-testid":r}))},$c=function(e){return n.createElement("div",Object.assign({},e,{className:qc.a.AlbumTrackEditor__Controls}))},el=function(e){return n.createElement("div",Object.assign({},e,{className:qc.a.AlbumTrackEditor__Common}))},tl=r(56),rl=r.n(tl),al=function(e){var t=e.validationMessage,r=void 0===t?"":t,a=e.inputTestId,c=e.validationTestId,l=Object(de.a)(e,["validationMessage","inputTestId","validationTestId"]),o=n.useRef();return n.useEffect(function(){var e=o.current;e&&e.setCustomValidity(r)},[r]),n.createElement("label",{className:rl.a.FloatingLabelInput__Wrapper},n.createElement("input",Object.assign({},l,{ref:o,className:rl.a.FloatingLabelInput__Input,"data-testid":a})),n.createElement("span",{className:rl.a.FloatingLabelInput__Placeholder},l.placeholder),n.createElement("small",{className:rl.a.FloatingLabelInput__ValidationMessage,"data-testid":c},r))},nl=function(e){var t=e.trackId,r=yn().albumTrackEditor.titleInputPlaceholderText,a=function(e){var t=Pc().tracklist,r=yn().albumTrackEditor.missingTitleValidationText,a=Tc(),n=t.find(function(t){return t.id===e});if(!n)throw new TypeError;return{value:n.title,validationMessage:a.reduce(function(t,a){return"EMPTY_TRACK_TITLE"===a.type&&a.payload===e?r:t},void 0)}}(t),c=a.value,l=a.validationMessage,o=je(),u=n.useCallback(function(e){var r=e.currentTarget.value;o({type:"ALBUM_TRACK_EDITOR__TITLE_CHANGE",payload:{value:r,trackId:t}})},[o,t]);return n.createElement(al,{inputTestId:La,validationTestId:Ra,name:"title",value:c,validationMessage:l,placeholder:r,onChange:u})},cl=function(e){var t,r=e.trackId,a=e.artist,c=e.artistIndex,l=yn().albumTrackEditor,o=l.missingArtistNameValidationText,u=l.artistNameInputPlaceholderText,i=je(),s=(t={trackId:r,artistId:a.id},!Tc().some(function(e){return"EMPTY_TRACK_ARTISTS"===e.type&&e.payload===t.trackId})),_=n.useCallback(function(e){var t=e.currentTarget.value;i({type:"ALBUM_TRACK_EDITOR__ARTIST_CHANGE",payload:{trackId:r,artistId:a.id,value:t}})},[a.id,i,r]),d=s?void 0:o;return n.createElement(al,{inputTestId:ja,validationTestId:xa,key:a.id,name:"name",value:a.name,validationMessage:d,placeholder:u(c+1),onChange:_})};function ll(){return(ll=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ol(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ul=c.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),il=c.a.createElement("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.41l-4.83-4.83c-.37-.38-.88-.59-1.41-.59H6zm7 6V3.5L18.5 9H14c-.55 0-1-.45-1-1z"}),sl=function(e){var t=e.svgRef,r=ol(e,["svgRef"]);return c.a.createElement("svg",ll({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),ul,il)},_l=c.a.forwardRef(function(e,t){return c.a.createElement(sl,ll({svgRef:t},e))}),dl=(r.p,_l),ml=function(e){var t=e.text;return n.createElement("div",{className:qc.a.AlbumTrackEditor__FileInfo},n.createElement(dl,{className:qc.a.AlbumTrackEditor__FileIcon}),n.createElement("span",{className:qc.a.AlbumTrackEditor__FileName},t))},fl=function(e){var t=e.trackId,r=function(e){var t=Pc().tracklist.find(function(t){return t.id===e});if(!t)throw new X;return t}(t),a=n.useMemo(function(){return r.artists.map(function(e,r){return n.createElement(cl,{key:e.id,trackId:t,artist:e,artistIndex:r})})},[r.artists,t]);return n.createElement(el,null,n.createElement(ml,{text:r.audio.name}),n.createElement(nl,{trackId:t}),a)},pl=function(e){var t=e.trackId,r=e.moveDownDisabled,a=e.moveUpDisabled,c=je(),l=n.useCallback(function(){c({type:"ALBUM_TRACK_EDITOR__REMOVE",payload:t})},[c,t]),o=n.useCallback(function(){c({type:"ALBUM_TRACK_EDITOR__MOVE_UP",payload:t})},[c,t]),u=n.useCallback(function(){c({type:"ALBUM_TRACK_EDITOR__MOVE_DOWN",payload:t})},[c,t]);return n.createElement(Jc,null,n.createElement(fl,{trackId:t}),n.createElement($c,null,n.createElement(Xc,{isDisabled:a,onClick:o},n.createElement(zc,null)),n.createElement(Xc,{isDisabled:r,onClick:u},n.createElement(Qe,null)),n.createElement(Xc,{onClick:l,testId:Na},n.createElement(it,null))))},El=r(39),vl=r.n(El),bl=function(e){var t=e.onFilesChange,r=e.validationMessage,a=void 0===r?"":r,c=n.useRef(null),l=n.useCallback(function(e){t(e.currentTarget.files)},[t]);return n.useEffect(function(){var e=c.current;e&&e.setCustomValidity(a)},[a]),n.createElement("input",{ref:c,className:vl.a.AlbumAudioEditor__Input,type:"file",name:"tracks",onChange:l})},hl=function(e){var t=e.children;return n.createElement("label",{className:vl.a.AlbumAudioEditor__Wrapper},t)},yl=function(e){var t=e.text,r=e.validationMessage,a=e.validationTestId;return n.createElement("div",{className:vl.a.AlbumAudioEditor__Label},n.createElement("div",{className:vl.a.AlbumAudioEditor__Text},t),n.createElement("small",{className:vl.a.AlbumAudioEditor__Error,"data-testid":a},r))},Al=function(){var e=yn().albumAudioEditor,t=e.missingAudioValidationText,r=e.labelText,a=je(),c=!Tc().some(function(e){return"EMPTY_TRACKLIST"===e.type}),l=n.useMemo(function(){if(!c)return t},[t,c]),o=n.useCallback(function(e){a({type:"ALBUM_AUDIO_EDITOR__TRACKS_RECIEVED",payload:e})},[a]);return n.createElement(hl,null,n.createElement(bl,{validationMessage:l,onFilesChange:o,testId:Ba}),n.createElement(yl,{text:r,validationMessage:l,validationTestId:wa}))},gl=function(){var e=yn().albumEditor.tracklistFieldsetTitleText,t=Pc().tracklist,r=n.useMemo(function(){return t.map(function(e,t,r){return n.createElement(pl,{key:e.id,trackId:e.id,moveUpDisabled:0===t,moveDownDisabled:t===r.length-1})})},[t]);return n.createElement(Uc,null,n.createElement(Qc,{text:e}),n.createElement(Vc,null,r),n.createElement(Al,null))},Ol=function(){var e=yn().albumEditor,t=e.aboutFieldsetTitleText,r=e.albumTitleInputPlaceholderText,a=je(),c=function(){var e=Pc(),t=Tc();return{value:e.title,errorMessage:t.reduce(function(e,t){return"TITLE_REQUIRED"===t.type?"Title is required":e},void 0)}}(),l=c.value,o=c.errorMessage,u=n.useCallback(function(e){a({type:"ALBUM_EDITOR__TITLE_CHANGE",payload:e.currentTarget.value})},[a]);return n.createElement(Uc,null,n.createElement(Qc,{text:t}),n.createElement(Vc,{withPadding:!0},n.createElement(al,{name:"title",placeholder:r,value:l,validationMessage:o,onChange:u,inputTestId:Ca})))},Pl=function(){var e=yn().albumEditor,t=e.submitButtonText,r=e.cancelButtonText,a=je(),c=n.useCallback(function(){a({type:"ALBUM_EDITOR__SUBMIT"})},[a]),l=n.useCallback(function(){a({type:"ALBUM_EDITOR__CANCEL"})},[a]);return n.createElement(Ac,{onSubmit:c},n.createElement(Mc,null),n.createElement(Ol,null),n.createElement(gl,null),n.createElement(gc,null,n.createElement(Oc,{submit:!0},t),n.createElement(Oc,{onClick:l},r)))},Tl=r(26),Sl=r.n(Tl),Il=function(e){var t=e.children;return n.createElement("div",{className:Sl.a.DropZone__Wrapper},t)},Cl=function(e){var t=e.children;return n.createElement("label",{className:Sl.a.DropZone__Label},t)},kl=function(e){var t=e.onFilesChange,r=n.useCallback(function(e){t(e.currentTarget.files),e.currentTarget.value=""},[t]);return n.createElement("input",{type:"file",multiple:!0,className:Sl.a.DropZone__Input,onChange:r,"data-testid":Ta})},Ll=function(e){var t=e.mainText,r=e.errorText,a=e.successText;return n.createElement("div",{className:Sl.a.DropZone__Text,"data-testid":Sa},void 0!==r&&n.createElement("div",{className:Sl.a.DropZone__ErrorText},r),void 0!==a&&n.createElement("div",{className:Sl.a.DropZone__SuccessText},a),n.createElement("div",{className:Sl.a.DropZone__MainText},t))},Rl=function(e){var t=e.errorText,r=e.successText,a=yn().dropZone.mainText,c=je(),l=n.useCallback(function(e){c({type:"DROP_ZONE__FILES_RECIEVED",payload:e})},[c]);return n.createElement(Il,null,n.createElement(Cl,null,n.createElement(kl,{onFilesChange:l}),n.createElement(Ll,{mainText:a,errorText:t,successText:r})))},Nl=r(80),jl=r.n(Nl),xl=function(){return c.a.createElement("div",{className:jl.a.ShareAlbumPage__Loader,"data-testid":Pa},c.a.createElement(yr,{className:jl.a.ShareAlbumPage__Spinner}))},wl=function(){var e=vc(),t=e.screenMap,r=e.error,a=e.didSucceed,c=r?r.message:void 0,l=a?"Album successfully shared":void 0;return n.createElement(Qa,{centered:t.LOADING||t.SELECTING_FILES},t.LOADING&&n.createElement(xl,null),t.EDITING_ALBUM&&n.createElement(Pl,null),t.SELECTING_FILES&&n.createElement(Rl,{errorText:c,successText:l}))},Bl=function(){return c.a.createElement(Ec,null,c.a.createElement(bc,null,c.a.createElement(wl,null)))},Dl=function(){return n.createElement(jr.a,null,n.createElement(xr.a,{exact:!0,path:Br,component:An}),n.createElement(xr.a,{exact:!0,path:Fr,component:Wn}),n.createElement(xr.a,{exact:!0,path:Ur,component:sc}),n.createElement(xr.a,{exact:!0,path:Vr,component:Bl}),n.createElement(xr.a,{exact:!0,path:"/",render:function(){return n.createElement(wr.a,{to:Br})}}))},Fl=r(48),Ml=r.n(Fl);function Ul(e,t){n.useEffect(function(){var r=function(r){var a=e.current,n=r.target;n instanceof HTMLElement&&a instanceof HTMLElement&&!a.contains(n)&&t()};return window.addEventListener("click",r),function(){window.removeEventListener("click",r)}},[e,t])}var Ql=function(e){var t=e.onOutsideClick,r=e.children,a=n.useRef();return Ul(a,t),n.createElement(Wt,{position:"top"},n.createElement("div",{ref:a,className:Ml.a.SearchControls__Wrapper},r))},Vl=function(e){return n.createElement("form",Object.assign({},e,{className:Ml.a.SearchControls__Form,"data-testid":ra}))},Gl=function(e){return n.createElement("input",Object.assign({},e,{type:"text",autoFocus:!0,className:Ml.a.SearchControls__Input,"data-testid":ta}))},Wl=function(e){var t,r=n.useState(""),a=Object(be.a)(r,2),c=a[0],l=a[1],o=je(),u=ic().history,i=n.useCallback(function(e){var t=e.currentTarget.value;l(t)},[]),s=n.useCallback(function(e){e.preventDefault(),u.push(Qr(c)),o({type:"SEARCH_CONTROLS__SUBMIT",payload:c})},[o,u,c]),_=n.useCallback(function(){o({type:"SEARCH_CONTROLS__CANCEL"})},[o]);return t={Escape:_},n.useEffect(function(){var e=function(e){var r=t[e.key];r&&r(e)};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),n.createElement(Ql,{onOutsideClick:_},n.createElement(Vl,{onSubmit:s},n.createElement(Gl,{onChange:i,value:c})),n.createElement(rt,{testId:aa,onClick:_},n.createElement(Fn,null)))};function Hl(){return(Hl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Yl(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Kl=c.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),zl=c.a.createElement("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"}),Zl=function(e){var t=e.svgRef,r=Yl(e,["svgRef"]);return c.a.createElement("svg",Hl({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),Kl,zl)},ql=c.a.forwardRef(function(e,t){return c.a.createElement(Zl,Hl({svgRef:t},e))}),Jl=(r.p,ql);function Xl(){return(Xl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function $l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var eo=c.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),to=c.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),ro=function(e){var t=e.svgRef,r=$l(e,["svgRef"]);return c.a.createElement("svg",Xl({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),eo,to)},ao=c.a.forwardRef(function(e,t){return c.a.createElement(ro,Xl({svgRef:t},e))}),no=(r.p,ao),co=r(54),lo=r.n(co),oo=function(e){var t=e.children,r=e.onOutsideClick,a=n.useRef(null);return Ul(a,r),n.createElement("nav",{ref:a,"data-testid":Jr,className:lo.a.PlayerNavigation__Popup},t)},uo=r(189),io=function(e){var t=e.text,r=e.to,a=e.testId,c=e.onClick;return n.createElement(uo.a,{to:r,onClick:c,className:lo.a.PlayerNavigation__Link,activeClassName:lo.a.PlayerNavigation__Link_current,"data-testid":a},t)},so=function(e){var t=e.onClose,r=yn().playerNavigation,a=r.latestAlbumsLinkText,c=r.searchAlbumsLinkText,l=r.shareAlbumLinkText;return n.createElement(oo,{onOutsideClick:t},n.createElement(io,{text:a,onClick:t,to:Dr(),testId:Xr}),n.createElement(io,{text:c,onClick:t,to:Mr(),testId:$r}),n.createElement(io,{text:l,onClick:t,to:Gr(),testId:ea}))},_o=r(55),mo=r.n(_o),fo=function(e){var t=e.children;return n.createElement(Wt,{position:"top",testId:zr},n.createElement("div",{className:mo.a.OverviewControls__Wrapper},t))},po=function(e){var t,r=e.children,a=e.mod;return"nav"===a&&(t=mo.a.OverviewControls__Group_nav),"search"===a&&(t=mo.a.OverviewControls__Group_search),n.createElement("div",{className:t},r)},Eo=function(e){var t=n.useState(!1),r=Object(be.a)(t,2),a=r[0],c=r[1],l=je(),o=n.useCallback(function(){c(!0)},[]),u=n.useCallback(function(){c(!1)},[]),i=n.useCallback(function(){l({type:"OVERVIEW_CONTROLS__OPEN_SEARCH"})},[l]);return n.createElement(fo,null,n.createElement(po,{mod:"nav"},n.createElement(rt,{testId:qr,onClick:o},n.createElement(Jl,null)),a&&n.createElement(so,{onClose:u})),n.createElement(po,{mod:"search"},n.createElement(rt,{testId:Zr,onClick:i},n.createElement(no,null))))},vo=function(e){var t=xe().screen,r=null!==xe().playingTrackId,a="SEARCH"===t,c="OVERVIEW"===t;return n.createElement(n.Fragment,null,n.createElement(Dl,null),a&&n.createElement(Wl,null),c&&n.createElement(Eo,null),r&&n.createElement(Nr,null))},bo=r(66),ho=r.n(bo),yo=function(e){var t=e.children;return n.createElement("div",{className:ho.a.App__Wrapper,"data-testid":Wr},t)},Ao=function(){return n.createElement("div",{"data-testid":Hr,className:ho.a.App__Loader},n.createElement(Or,null))},go=function(e){!function(){var e=Re().getIntl,t=Ne(),r=Object(be.a)(t,2),a=r[0],c=r[1],l=je();n.useEffect(function(){c(e())},[e,c]),n.useEffect(function(){if(a){var e=a.pending,t=a.value;e&&l({type:"GET_INTL_SERVICE__PENDING"}),t&&l({type:"GET_INTL_SERVICE__RESOLVED",payload:t})}},[l,c,a])}();var t=bn().activeScreen;return n.createElement(yo,null,"LOADING"===t&&n.createElement(Ao,null),"PLAYER"===t&&n.createElement(Le,null,n.createElement(vo,null)))},Oo=r(102),Po=r.n(Oo),To=function(e){var t=e.children;return n.createElement("div",{className:Po.a.ThemeProvider__Wrapper},t)},So=function(e){var t=e.children;return n.createElement(To,null,t)},Io=r(103),Co=function(e){function t(){var e,r;Object(K.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(z.a)(this,(e=Object(Z.a)(t)).call.apply(e,[this].concat(n)))).state={error:null},r}return Object(q.a)(t,e),Object(Io.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.fallbackView,a=e.constructors,n=this.state.error;if(null!==n){if(a.some(function(e){return n instanceof e}))return r(n);throw n}return t}}],[{key:"getDerivedStateFromError",value:function(e){if(e instanceof Error)return{error:e};throw new TypeError("ErrorBoundary accepts only instances of Error.")}}]),t}(n.Component),ko=r(81),Lo=r.n(ko),Ro=function(e){var t=e.message;return n.createElement("div",{className:Lo.a.RootFallback__Wrapper},n.createElement("p",{className:Lo.a.RootFallback__Text},t))},No=function(e){var t=e.children;return n.createElement(Co,{constructors:[TypeError],fallbackView:Ro},t)},jo=document.getElementById("root");jo&&o.a.render(c.a.createElement(function(e){var t=e.services;return n.createElement(ve,null,n.createElement(_e.Provider,{value:t},n.createElement(So,null,n.createElement(No,null,n.createElement(Te,null,n.createElement(go,null))))))},se),jo)},19:function(e,t,r){e.exports={AlbumEditor__Wrapper:"AlbumEditor_AlbumEditor__Wrapper__ADYH6",AlbumEditor__Footer:"AlbumEditor_AlbumEditor__Footer__2i-I5",AlbumEditor__FieldsetTitle:"AlbumEditor_AlbumEditor__FieldsetTitle__3hrzi",AlbumEditor__FieldsetBody_padding:"AlbumEditor_AlbumEditor__FieldsetBody_padding__3PRVV",AlbumEditor__Fieldset:"AlbumEditor_AlbumEditor__Fieldset__M_4gt",AlbumEditor__Button:"AlbumEditor_AlbumEditor__Button__1jy8-",AlbumEditor__Button_primary:"AlbumEditor_AlbumEditor__Button_primary__1hWIX",AlbumEditor__Button_secondary:"AlbumEditor_AlbumEditor__Button_secondary__3mdNm"}},21:function(e,t,r){e.exports={SearchQueryAlbum__Root:"SearchQueryAlbum_SearchQueryAlbum__Root__2OUTO",SearchQueryAlbum__Group:"SearchQueryAlbum_SearchQueryAlbum__Group__3K9eD",SearchQueryAlbum__Info:"SearchQueryAlbum_SearchQueryAlbum__Info__h2QFi",SearchQueryAlbum__Button:"SearchQueryAlbum_SearchQueryAlbum__Button__2okNr",SearchQueryAlbum__Button_hidden:"SearchQueryAlbum_SearchQueryAlbum__Button_hidden__14cLo",SearchQueryAlbum__Button_delete:"SearchQueryAlbum_SearchQueryAlbum__Button_delete__3ZFpV",SearchQueryAlbum__Button_save:"SearchQueryAlbum_SearchQueryAlbum__Button_save__3kim1",SearchQueryAlbum__Title:"SearchQueryAlbum_SearchQueryAlbum__Title__3Hs2h",SearchQueryAlbum__Artist:"SearchQueryAlbum_SearchQueryAlbum__Artist__2tfCh"}},22:function(e,t,r){e.exports={PlaylistTrack__Wrapper:"Playlist_PlaylistTrack__Wrapper__1zJjr",PlaylistTrack__Wrapper_playing:"Playlist_PlaylistTrack__Wrapper_playing__2jCbv",PlaylistTrack__Button:"Playlist_PlaylistTrack__Button__2gg-Y",PlaylistTrack__Info:"Playlist_PlaylistTrack__Info__1q57z",PlaylistTrack__CachingIndicator:"Playlist_PlaylistTrack__CachingIndicator__3fOsu",PlaylistTrack__Title:"Playlist_PlaylistTrack__Title__3dawb",PlaylistTrack__Artist:"Playlist_PlaylistTrack__Artist__UofmN",cachingIndicatorAnimation:"Playlist_cachingIndicatorAnimation__1jBBT",PlaylistTrack__SecondaryAction:"Playlist_PlaylistTrack__SecondaryAction__1ngSI"}},23:function(e,t,r){e.exports={AlbumTrackEditor__Wrapper:"AlbumTrackEditor_AlbumTrackEditor__Wrapper__DLyH6",AlbumTrackEditor__Common:"AlbumTrackEditor_AlbumTrackEditor__Common__2M2Or",AlbumTrackEditor__Button:"AlbumTrackEditor_AlbumTrackEditor__Button__3ibWF",AlbumTrackEditor__FileInfo:"AlbumTrackEditor_AlbumTrackEditor__FileInfo__1viyj",AlbumTrackEditor__FileIcon:"AlbumTrackEditor_AlbumTrackEditor__FileIcon__1xAuo",AlbumTrackEditor__FileName:"AlbumTrackEditor_AlbumTrackEditor__FileName__2vHCu"}},25:function(e,t,r){e.exports={SearchQueryItem__Wrapper:"SearchQueryItem_SearchQueryItem__Wrapper__3q_ts",SearchQueryItem__Info:"SearchQueryItem_SearchQueryItem__Info__Rbbig",SearchQueryItem__Row:"SearchQueryItem_SearchQueryItem__Row__19Jy9",SearchQueryItem__Link:"SearchQueryItem_SearchQueryItem__Link__15UEx",SearchQueryItem__Text:"SearchQueryItem_SearchQueryItem__Text__lbgoI",SearchQueryItem__Text_accent:"SearchQueryItem_SearchQueryItem__Text_accent__1rXWG",SearchQueryItem__Button:"SearchQueryItem_SearchQueryItem__Button__yAteG"}},26:function(e,t,r){e.exports={DropZone__Wrapper:"DropZone_DropZone__Wrapper__LlF3c",DropZone__Label:"DropZone_DropZone__Label__34_3P",DropZone__Input:"DropZone_DropZone__Input__31V8D",DropZone__Text:"DropZone_DropZone__Text__X-u8O",DropZone__MainText:"DropZone_DropZone__MainText__czecf",DropZone__ErrorText:"DropZone_DropZone__ErrorText__35N6i",DropZone__SuccessText:"DropZone_DropZone__SuccessText__3xEg6"}},28:function(e,t,r){e.exports={AlbumCoverEditor__Wrapper:"AlbumCoverEditor_AlbumCoverEditor__Wrapper__1j2iF",AlbumCoverEditor__Input:"AlbumCoverEditor_AlbumCoverEditor__Input__PTHXQ",AlbumCoverEditor__Image:"AlbumCoverEditor_AlbumCoverEditor__Image__vDa8f",AlbumCoverEditor__Error:"AlbumCoverEditor_AlbumCoverEditor__Error__1YQEV",AlbumCoverEditor__Preview:"AlbumCoverEditor_AlbumCoverEditor__Preview__3fLqj"}},30:function(e,t,r){e.exports={PlaybackControls__Wrapper:"PlaybackControls_PlaybackControls__Wrapper__uqsMw",PlaybackControls__Group:"PlaybackControls_PlaybackControls__Group__CrCFJ",PlaybackControls__Group_player:"PlaybackControls_PlaybackControls__Group_player__1jxdf",PlaybackControls__Group_playlist:"PlaybackControls_PlaybackControls__Group_playlist__3B_Ga",PlaybackControls__Info:"PlaybackControls_PlaybackControls__Info__1J9DF",PlaybackControls__Title:"PlaybackControls_PlaybackControls__Title__2-VoI",PlaybackControls__Artist:"PlaybackControls_PlaybackControls__Artist__33GwN"}},34:function(e,t,r){e.exports={PlaylistPopup__Wrapper:"Playlist_PlaylistPopup__Wrapper__N4Juk",PlaylistPopup__Header:"Playlist_PlaylistPopup__Header__C18hX",PlaylistPopup__Count:"Playlist_PlaylistPopup__Count__17vL6",PlaylistPopup__Button:"Playlist_PlaylistPopup__Button__1I2b2",PlaylistPopup__Body:"Playlist_PlaylistPopup__Body__1A7QI",PlaylistPopup__Content:"Playlist_PlaylistPopup__Content__4th04"}},37:function(e,t,r){e.exports={AlbumCover__Wrapper:"AlbumCover_AlbumCover__Wrapper__3-amr",AlbumCover__Image:"AlbumCover_AlbumCover__Image__1eLaB",AlbumCover__Actions:"AlbumCover_AlbumCover__Actions__1NmOz",AlbumCover__Button:"AlbumCover_AlbumCover__Button__2soeO"}},38:function(e,t,r){e.exports={FeedAlbum__Wrapper:"FeedAlbum_FeedAlbum__Wrapper__2POTP",FeedAlbum__Info:"FeedAlbum_FeedAlbum__Info__1dUNT",FeedAlbum__Title:"FeedAlbum_FeedAlbum__Title__94AKh",FeedAlbum__Artist:"FeedAlbum_FeedAlbum__Artist__3M4VM"}},39:function(e,t,r){e.exports={AlbumAudioEditor__Wrapper:"AlbumAudioEditor_AlbumAudioEditor__Wrapper__21cLn",AlbumAudioEditor__Input:"AlbumAudioEditor_AlbumAudioEditor__Input__2CMrQ",AlbumAudioEditor__Label:"AlbumAudioEditor_AlbumAudioEditor__Label__1v4fy",AlbumAudioEditor__Text:"AlbumAudioEditor_AlbumAudioEditor__Text__PLrwU",AlbumAudioEditor__Error:"AlbumAudioEditor_AlbumAudioEditor__Error__2JRnv"}},48:function(e,t,r){e.exports={SearchControls__Wrapper:"SearchControls_SearchControls__Wrapper__1RbG9",SearchControls__Form:"SearchControls_SearchControls__Form__-oPH9",SearchControls__Input:"SearchControls_SearchControls__Input__2o8V_",SearchControls__Button:"SearchControls_SearchControls__Button__23uQE"}},49:function(e,t,r){e.exports={PlaylistControls__Wrapper:"PlaylistControls_PlaylistControls__Wrapper__tY8tO",PlaylistControls__Group:"PlaylistControls_PlaylistControls__Group__13-eW",PlaylistControls__Group_skip:"PlaylistControls_PlaylistControls__Group_skip__2f8Ou",PlaylistControls__Group_close:"PlaylistControls_PlaylistControls__Group_close__aXDke"}},50:function(e,t,r){e.exports={Page__Wrapper:"Page_Page__Wrapper__3SneV",Page__Wrapper_centered:"Page_Page__Wrapper_centered__9VuAe",Page__Wrapper_compact:"Page_Page__Wrapper_compact__1T512",Page__Loader:"Page_Page__Loader__1X0ow"}},51:function(e,t,r){e.exports={LatestAlbumsPage__Wrapper_feed:"LatestAlbumsPage_LatestAlbumsPage__Wrapper_feed__eKUUU"}},54:function(e,t,r){e.exports={PlayerNavigation__Popup:"PlayerNavigation_PlayerNavigation__Popup__1XPS5",PlayerNavigation__Link:"PlayerNavigation_PlayerNavigation__Link__30M7a",PlayerNavigation__Link_current:"PlayerNavigation_PlayerNavigation__Link_current__VYjuH",PlayerNavigation__CloseButton:"PlayerNavigation_PlayerNavigation__CloseButton__2KfUw"}},55:function(e,t,r){e.exports={OverviewControls__Wrapper:"OverviewControls_OverviewControls__Wrapper__lPQoo",OverviewControls__Group_nav:"OverviewControls_OverviewControls__Group_nav__10Kw9",OverviewControls__Group_search:"OverviewControls_OverviewControls__Group_search__1eEWS"}},56:function(e,t,r){e.exports={FloatingLabelInput__Wrapper:"FloatingLabelInput_FloatingLabelInput__Wrapper__3mQI0",FloatingLabelInput__Input:"FloatingLabelInput_FloatingLabelInput__Input__12xv7",FloatingLabelInput__Placeholder:"FloatingLabelInput_FloatingLabelInput__Placeholder__1BHiP",FloatingLabelInput__ValidationMessage:"FloatingLabelInput_FloatingLabelInput__ValidationMessage__SW7xA"}},65:function(e,t,r){e.exports={SearchQueriesPage__Feed:"SearchQueriesPage_SearchQueriesPage__Feed__21aS4",SearchQueriesPage__Fallback:"SearchQueriesPage_SearchQueriesPage__Fallback__2Gq8n"}},66:function(e,t,r){e.exports={App__Wrapper:"App_App__Wrapper__1P7Rc",App__Loader:"App_App__Loader__23G3J"}},67:function(e,t,r){e.exports={FixedPanel__Wrapper:"FixedPanel_FixedPanel__Wrapper__K5mus",FixedPanel__Wrapper_top:"FixedPanel_FixedPanel__Wrapper_top__3KIKw",FixedPanel__Wrapper_bottom:"FixedPanel_FixedPanel__Wrapper_bottom__2Tcdj"}},78:function(e,t,r){e.exports={SquareButton__Button:"SquareButton_SquareButton__Button__3F8Da",SquareButton__Button_toggledOn:"SquareButton_SquareButton__Button_toggledOn__KB_UX"}},80:function(e,t,r){e.exports={ShareAlbumPage__Loader:"ShareAlbumPage_ShareAlbumPage__Loader__2r56x",ShareAlbumPage__Spinner:"ShareAlbumPage_ShareAlbumPage__Spinner__2N786",rotate:"ShareAlbumPage_rotate__1VMId"}},81:function(e,t,r){e.exports={RootFallback__Wrapper:"App_RootFallback__Wrapper__-dTIf",RootFallback__Text:"App_RootFallback__Text__1MhGU"}},98:function(e,t,r){e.exports={RoundButton__Button:"RoundButton_RoundButton__Button__3KBPI"}},99:function(e,t,r){e.exports={Spinner:"Spinner_Spinner__11xn4",rotate:"Spinner_rotate__w5Gb0"}}},[[104,1,2]]]);
//# sourceMappingURL=main.4aa7a5d1.chunk.js.map