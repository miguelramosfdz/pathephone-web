(this["webpackJsonppathephone-web"]=this["webpackJsonppathephone-web"]||[]).push([[0],[,,,,,function(e,t,r){e.exports={SearchAlbumsPage__Wrapper:"SearchAlbumsPage_SearchAlbumsPage__Wrapper__2JlHn",SearchAlbumsPage__Wrapper_loading:"SearchAlbumsPage_SearchAlbumsPage__Wrapper_loading__uMidr",SearchAlbumsPage__Wrapper_fallback:"SearchAlbumsPage_SearchAlbumsPage__Wrapper_fallback__3Kuyo",SearchAlbumsPage__Wrapper_hasResults:"SearchAlbumsPage_SearchAlbumsPage__Wrapper_hasResults__1mnOH",SearchAlbumsPage__Wrapper_hasNewResults:"SearchAlbumsPage_SearchAlbumsPage__Wrapper_hasNewResults__1DuRU",SearchAlbumsPage__Body:"SearchAlbumsPage_SearchAlbumsPage__Body__2qKu3",SearchAlbumsPage__Loader:"SearchAlbumsPage_SearchAlbumsPage__Loader__2uh6T",SearchAlbumsPage__Hero:"SearchAlbumsPage_SearchAlbumsPage__Hero__PjGBh",SearchAlbumsPage__Title:"SearchAlbumsPage_SearchAlbumsPage__Title__kE6fn",SearchAlbumsPage__SubTitle:"SearchAlbumsPage_SearchAlbumsPage__SubTitle__bHVL2",SearchAlbumsPage__Button:"SearchAlbumsPage_SearchAlbumsPage__Button__1qs0Q"}},function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return _})),r.d(t,"d",(function(){return m}));var a=r(27),n=r(29),l=r(18),o=r(28),c=r(36),u=function(e){function t(){var e,r;Object(a.a)(this,t);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).message="Strict hook error.",r}return Object(o.a)(t,e),t}(Object(c.a)(TypeError)),i=function(e){function t(){var e,r;Object(a.a)(this,t);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).message="Unreachable error.",r}return Object(o.a)(t,e),t}(Object(c.a)(TypeError)),s=function(e){function t(){var e,r;Object(a.a)(this,t);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).message="Router params error.",r}return Object(o.a)(t,e),t}(Object(c.a)(TypeError)),_=function(e){function t(){var e,r;Object(a.a)(this,t);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).message="No audio files selected.",r}return Object(o.a)(t,e),t}(Object(c.a)(Error)),m=function(e){function t(){var e,r;Object(a.a)(this,t);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).message="Unexpected error.",r}return Object(o.a)(t,e),t}(Object(c.a)(Error))},,function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return n}));var a=400,n=5e3},function(e,t,r){e.exports={AlbumEditor__Wrapper:"AlbumEditor_AlbumEditor__Wrapper__mAm6n",AlbumEditor__Footer:"AlbumEditor_AlbumEditor__Footer__ZcBn8",AlbumEditor__FieldsetTitle:"AlbumEditor_AlbumEditor__FieldsetTitle__SECkl",AlbumEditor__FieldsetBody_padding:"AlbumEditor_AlbumEditor__FieldsetBody_padding__2QZy-",AlbumEditor__Fieldset:"AlbumEditor_AlbumEditor__Fieldset__V103W",AlbumEditor__Button:"AlbumEditor_AlbumEditor__Button__3koDq",AlbumEditor__Button_primary:"AlbumEditor_AlbumEditor__Button_primary__12z23",AlbumEditor__Button_secondary:"AlbumEditor_AlbumEditor__Button_secondary__3dm5e"}},,function(e,t,r){e.exports={AlbumTrackEditor__Wrapper:"AlbumTrackEditor_AlbumTrackEditor__Wrapper__AqPrR",AlbumTrackEditor__Common:"AlbumTrackEditor_AlbumTrackEditor__Common__3G4iR",AlbumTrackEditor__Button:"AlbumTrackEditor_AlbumTrackEditor__Button__3bfiD",AlbumTrackEditor__FileInfo:"AlbumTrackEditor_AlbumTrackEditor__FileInfo__QNcRj",AlbumTrackEditor__FileIcon:"AlbumTrackEditor_AlbumTrackEditor__FileIcon__m6Q-l",AlbumTrackEditor__FileName:"AlbumTrackEditor_AlbumTrackEditor__FileName__RuKmG"}},,,function(e,t,r){e.exports={DropZone__Wrapper:"DropZone_DropZone__Wrapper__1pqI8",DropZone__Label:"DropZone_DropZone__Label__156RJ",DropZone__Input:"DropZone_DropZone__Input__215m4",DropZone__Text:"DropZone_DropZone__Text__3m5qb",DropZone__MainText:"DropZone_DropZone__MainText__hhaAS",DropZone__ErrorText:"DropZone_DropZone__ErrorText__1sa0i",DropZone__SuccessText:"DropZone_DropZone__SuccessText__WlB2W"}},function(e,t,r){e.exports={PlaylistTrack__Wrapper:"Playlist_PlaylistTrack__Wrapper__3ujOz",PlaylistTrack__Wrapper_playing:"Playlist_PlaylistTrack__Wrapper_playing__3qup0",PlaylistTrack__Button:"Playlist_PlaylistTrack__Button__8Cy7D",PlaylistTrack__Info:"Playlist_PlaylistTrack__Info__192Bd",PlaylistTrack__Title:"Playlist_PlaylistTrack__Title__2ynps",PlaylistTrack__Artist:"Playlist_PlaylistTrack__Artist__wl8FQ",PlaylistTrack__SecondaryAction:"Playlist_PlaylistTrack__SecondaryAction__6_OqH"}},,function(e,t,r){e.exports={AlbumCoverEditor__Wrapper:"AlbumCoverEditor_AlbumCoverEditor__Wrapper__1kjwi",AlbumCoverEditor__Input:"AlbumCoverEditor_AlbumCoverEditor__Input__14bSW",AlbumCoverEditor__Image:"AlbumCoverEditor_AlbumCoverEditor__Image__9mH4k",AlbumCoverEditor__Error:"AlbumCoverEditor_AlbumCoverEditor__Error__kCRMp",AlbumCoverEditor__Preview:"AlbumCoverEditor_AlbumCoverEditor__Preview__-u3ie"}},,function(e,t,r){e.exports={PlaybackControls__Wrapper:"PlaybackControls_PlaybackControls__Wrapper__1FXHs",PlaybackControls__Group:"PlaybackControls_PlaybackControls__Group__1BefT",PlaybackControls__Group_player:"PlaybackControls_PlaybackControls__Group_player__3H7aN",PlaybackControls__Group_playlist:"PlaybackControls_PlaybackControls__Group_playlist__3cfcD",PlaybackControls__Info:"PlaybackControls_PlaybackControls__Info__2crwY",PlaybackControls__Title:"PlaybackControls_PlaybackControls__Title__2VEX9",PlaybackControls__Artist:"PlaybackControls_PlaybackControls__Artist__1AwdQ"}},,,function(e,t,r){e.exports={PlaylistPopup__Wrapper:"Playlist_PlaylistPopup__Wrapper__gSS19",PlaylistPopup__Header:"Playlist_PlaylistPopup__Header__1T3mG",PlaylistPopup__Count:"Playlist_PlaylistPopup__Count__16tTF",PlaylistPopup__Button:"Playlist_PlaylistPopup__Button__2XWUd",PlaylistPopup__Body:"Playlist_PlaylistPopup__Body__34T9-",PlaylistPopup__Content:"Playlist_PlaylistPopup__Content__1mpS-"}},,function(e,t,r){e.exports={AlbumCover__Wrapper:"AlbumCover_AlbumCover__Wrapper__3vfax",AlbumCover__Image:"AlbumCover_AlbumCover__Image__yMhaP",AlbumCover__Actions:"AlbumCover_AlbumCover__Actions__2RlPN",AlbumCover__Button:"AlbumCover_AlbumCover__Button__3T4Av"}},function(e,t,r){e.exports={FeedAlbum__Wrapper:"FeedAlbum_FeedAlbum__Wrapper__l-o-U",FeedAlbum__Info:"FeedAlbum_FeedAlbum__Info__1B89V",FeedAlbum__Title:"FeedAlbum_FeedAlbum__Title__1Bqqf",FeedAlbum__Artist:"FeedAlbum_FeedAlbum__Artist__224zw"}},function(e,t,r){e.exports={AlbumAudioEditor__Wrapper:"AlbumAudioEditor_AlbumAudioEditor__Wrapper__r5bbO",AlbumAudioEditor__Input:"AlbumAudioEditor_AlbumAudioEditor__Input__15uyM",AlbumAudioEditor__Label:"AlbumAudioEditor_AlbumAudioEditor__Label__1soUd",AlbumAudioEditor__Text:"AlbumAudioEditor_AlbumAudioEditor__Text__22Jkp",AlbumAudioEditor__Error:"AlbumAudioEditor_AlbumAudioEditor__Error__1jvVu"}},,,,,function(e,t,r){e.exports={SearchControls__Wrapper:"SearchControls_SearchControls__Wrapper__2F4dR",SearchControls__Form:"SearchControls_SearchControls__Form__1d3Ne",SearchControls__Input:"SearchControls_SearchControls__Input__7iFL-",SearchControls__Button:"SearchControls_SearchControls__Button__2G9H6"}},function(e,t,r){e.exports={AlbumsFeed__Wrapper:"AlbumsFeed_AlbumsFeed__Wrapper__3_OLy",AlbumsFeed__Content:"AlbumsFeed_AlbumsFeed__Content__3AUS-",AlbumsFeed__Button:"AlbumsFeed_AlbumsFeed__Button__1srD4"}},function(e,t,r){e.exports={Page__Wrapper:"Page_Page__Wrapper__UyWg9",Page__Wrapper_centered:"Page_Page__Wrapper_centered__11xTF",Page__Wrapper_compact:"Page_Page__Wrapper_compact__3Sczl",Page__Loader:"Page_Page__Loader__23DRs"}},function(e,t,r){e.exports={LatestAlbumsPage__Wrapper_feed:"LatestAlbumsPage_LatestAlbumsPage__Wrapper_feed__3QnLr",LatestAlbumsPage__Text_fallback:"LatestAlbumsPage_LatestAlbumsPage__Text_fallback__3scz-"}},function(e,t,r){e.exports={PlaylistControls__Wrapper:"PlaylistControls_PlaylistControls__Wrapper__1e_Df",PlaylistControls__Group:"PlaylistControls_PlaylistControls__Group__1Nm5R",PlaylistControls__Group_skip:"PlaylistControls_PlaylistControls__Group_skip__2Jizf",PlaylistControls__Group_close:"PlaylistControls_PlaylistControls__Group_close__29sFR"}},,,,function(e,t,r){e.exports={PlayerNavigation__Popup:"PlayerNavigation_PlayerNavigation__Popup__zMj3L",PlayerNavigation__Link:"PlayerNavigation_PlayerNavigation__Link__2xJNX",PlayerNavigation__Link_current:"PlayerNavigation_PlayerNavigation__Link_current__2RhCJ",PlayerNavigation__CloseButton:"PlayerNavigation_PlayerNavigation__CloseButton__3dlLU"}},function(e,t,r){e.exports={OverviewControls__Wrapper:"OverviewControls_OverviewControls__Wrapper__2i7JL",OverviewControls__Group_nav:"OverviewControls_OverviewControls__Group_nav__3Lx1y",OverviewControls__Group_search:"OverviewControls_OverviewControls__Group_search__3JsoJ"}},function(e,t,r){e.exports={FloatingLabelInput__Wrapper:"FloatingLabelInput_FloatingLabelInput__Wrapper__Dzxo5",FloatingLabelInput__Input:"FloatingLabelInput_FloatingLabelInput__Input__vSYyS",FloatingLabelInput__Placeholder:"FloatingLabelInput_FloatingLabelInput__Placeholder__DdDAO",FloatingLabelInput__ValidationMessage:"FloatingLabelInput_FloatingLabelInput__ValidationMessage__1spcs"}},function(e,t,r){"use strict";r.r(t);var a=r(3),n=r.n(a),l=r(7),o=function(e){return new Promise((function(t){return setTimeout(t,e)}))},c=r(8),u=0,i=function(){return"".concat(u+=1)},s=function(e){return function(t){for(var r=t,a=[];r>0;)a.push(e()),r-=1;return a}},_=s((function(){return{id:i(),artistName:"Artist name",title:"Album title",coverSrc:"https://images-na.ssl-images-amazon.com/images/I/51dmdN8ejoL.jpg",saved:!0}})),m=function(){var e=Object(l.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c.b);case 2:return r=_(10),e.abrupt("return",{items:r,lastPageFlag:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(l.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c.b);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){for(var t=e,r=[];t>0;)r.push({id:i(),artistName:"Artist name",title:"Track title",audioSrc:"https://upload.wikimedia.org/wikipedia/commons/9/99/Wolfgang_Amadeus_Mozart_-_Symphony_40_g-moll_-_1._Molto_allegro.ogg"}),t-=1;return r},f=function(){var e=Object(l.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c.b);case 2:return e.abrupt("return",p(10));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=s((function(){return{id:i(),name:"artist name"}})),b=function(){return new File(["(\u2310\u25a1_\u25a1)"],"track.ogg",{type:"audio/ogg"})},v=(s(b),function(){return{id:i(),title:"Album title",artists:E(5),audio:b()}}),A=s(v),y=function(){return{title:"Album title",cover:null,tracklist:A(5)}},O=(s(y),function(){var e=Object(l.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c.b);case 2:return e.abrupt("return",y());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=function(){var e=Object(l.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c.b);case 2:return e.abrupt("return",v());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=r(1),h=r(6),T=new Map;T.set("en",(function(){return r.e(3).then(r.bind(null,77))})),T.set("ru",(function(){return r.e(4).then(r.bind(null,78))}));var I=function(){var e=Object(l.a)(n.a.mark((function e(t){var r,a,l,o,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.find((function(e){return T.has(e)})),a=void 0!==r?r:"en",l=T.get(a),o=Object(P.a)(T.keys()),!l){e.next=12;break}return e.next=7,l();case 7:return c=e.sent,u=c.dictionary,e.abrupt("return",{currentCode:a,availableCodes:o,dictionary:u});case 12:throw new h.d;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c.b);case 2:return e.abrupt("return",I(["en"]));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c.b);case 2:return e.abrupt("return",_(5));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r.d(t,"getAlbumPreviewsFeed",(function(){return m})),r.d(t,"submitAlbumCandidate",(function(){return d})),r.d(t,"getTrackPreviewsByAlbumIds",(function(){return f})),r.d(t,"getAlbumCandidateFromFiles",(function(){return O})),r.d(t,"getTrackCandidateFromFile",(function(){return g})),r.d(t,"getIntl",(function(){return C})),r.d(t,"getAlbumPreviewsByQuery",(function(){return L}))},,function(e,t,r){e.exports={App__Wrapper:"App_App__Wrapper__ASYXS",App__Loader:"App_App__Loader__1IMm1"}},function(e,t,r){e.exports={FixedPanel__Wrapper:"FixedPanel_FixedPanel__Wrapper__3plmL",FixedPanel__Wrapper_top:"FixedPanel_FixedPanel__Wrapper_top__3XQan",FixedPanel__Wrapper_bottom:"FixedPanel_FixedPanel__Wrapper_bottom__6x-OT"}},,function(e,t,r){e.exports={SquareButton__Button:"SquareButton_SquareButton__Button__3HxaT",SquareButton__Button_toggledOn:"SquareButton_SquareButton__Button_toggledOn__3Q3xt"}},,,function(e,t,r){e.exports={ShareAlbumPage__Loader:"ShareAlbumPage_ShareAlbumPage__Loader__kpuK-",ShareAlbumPage__Spinner:"ShareAlbumPage_ShareAlbumPage__Spinner__1xDtI",rotate:"ShareAlbumPage_rotate__cz8GV"}},function(e,t,r){e.exports={RootFallback__Wrapper:"App_RootFallback__Wrapper__1Qq9-",RootFallback__Text:"App_RootFallback__Text__1LOAG"}},,,,,,,function(e,t,r){e.exports={Spinner:"Spinner_Spinner__1Ixeu",rotate:"Spinner_rotate__2rLdB"}},function(e,t,r){e.exports={LoadMoreButton:"LoadMoreButton_LoadMoreButton__3lXrb"}},function(e,t,r){e.exports={RoundButton__Button:"RoundButton_RoundButton__Button__1bepb"}},function(e,t,r){e.exports={ThemeProvider__Wrapper:"ThemeProvider_ThemeProvider__Wrapper__2aOTm"}},,function(e,t,r){e.exports=r(76)},function(e,t,r){},,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var a=r(42);r.d(t,"productionService",(function(){return a}))},function(e,t,r){"use strict";r.r(t);r(64);var a=r(0),n=r.n(a),l=r(54),o=r.n(l),c=r(38),u=r(42),i=a.createContext(u),s=r(2),_=r(55),m=a.createContext((function(e){0})),d=Object(_.createEventBoundary)(m),p=a.createContext(null),f={activeScreen:"LOADING",intl:null},E=function(e,t){switch(t.type){case"GET_INTL":return"RESOLVED"===t.status?{intl:t.payload,activeScreen:"PLAYER"}:e;default:return e}},b=function(e){var t=e.children,r=a.useReducer(E,f),n=Object(s.a)(r,2),l=n[0],o=n[1];return a.createElement(d,{handler:o},a.createElement(p.Provider,{value:l},t))},v=a.createContext({primaryControls:"OVERVIEW",secondaryControls:"PLAYBACK",wantedTracksAlbumIds:[],playlist:[],playingTrackId:null,audioStatus:"PAUSED"}),A=r(1),y=r(16),O=function(e){var t=e.playlist.findIndex((function(t){return t.id===e.playingTrackId}));if(t>-1){var r=e.playlist[t+1];return r?r.id:null}throw new TypeError};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={primaryControls:"OVERVIEW",secondaryControls:"PLAYBACK",wantedTracksAlbumIds:[],playlist:[],playingTrackId:null,audioStatus:"PAUSED"},T=function(e,t){switch(t.type){case"GET_TRACK_PREVIEWS_BY_ALBUM_IDS":if("RESOLVED"===t.status){if(0===t.payload.length)return e;var r=null===e.playingTrackId?t.payload[0].id:e.playingTrackId;return P({},e,{playlist:[].concat(Object(A.a)(e.playlist),Object(A.a)(t.payload)),playingTrackId:r})}return e;case"FEED_ALBUM__PLAY":return P({},e,{wantedTracksAlbumIds:[].concat(Object(A.a)(e.wantedTracksAlbumIds),[t.payload]),playlist:[],playingTrackId:null,audioStatus:"PLAYING"});case"FEED_ALBUM__ADD_TO_PLAYLIST":return P({},e,{wantedTracksAlbumIds:[].concat(Object(A.a)(e.wantedTracksAlbumIds),[t.payload])});case"AUDIO__WAITING":return P({},e,{audioStatus:"PENDING"});case"AUDIO__PLAYING":case"PLAYBACK_CONTROLS__PLAY":return P({},e,{audioStatus:"PLAYING"});case"AUDIO__PAUSED":case"PLAYBACK_CONTROLS__PAUSE":return P({},e,{audioStatus:"PAUSED"});case"AUDIO__ENDED":var a=O(e),n=e.playlist[0].id;return P({},e,{playingTrackId:null!==a?a:n,audioStatus:null!==a?"PLAYING":"PAUSED"});case"AUDIO__FAILED":return P({},e,{audioStatus:"FAILED"});case"PLAYLIST_CONTROLS__PLAY_NEXT":var l=O(e);return l?P({},e,{playingTrackId:l}):e;case"PLAYLIST_CONTROLS__PLAY_PREVIOUS":var o=function(e){var t=e.playlist.findIndex((function(t){return t.id===e.playingTrackId}));if(t>-1){var r=e.playlist[t-1];return r?r.id:null}throw new TypeError}(e),c=e.playlist[0].id;return P({},e,{playingTrackId:null!==o?o:c});case"PLAYLIST_TRACK__PLAY":return P({},e,{playingTrackId:t.payload,audioStatus:"PENDING"});case"PLAYLIST_TRACK__REMOVE":var u=e.playlist.filter((function(e){return e.id!==t.payload}));return 0===u.length?P({},h):e.playingTrackId===t.payload?P({},e,{playlist:u,playingTrackId:O(e)}):P({},e,{playlist:u});case"PLAYLIST_POPUP__CLEAR":return P({},h);case"OVERVIEW_CONTROLS__OPEN_SEARCH":return P({},e,{primaryControls:"SEARCH"});case"SEARCH_CONTROLS__SUBMIT":case"SEARCH_CONTROLS__CANCEL":return P({},e,{primaryControls:"OVERVIEW"});case"PLAYLIST_CONTROLS__CLOSE":return P({},e,{secondaryControls:"PLAYBACK"});case"PLAYBACK_CONTROLS__OPEN_PLAYLIST":return P({},e,{secondaryControls:"PLAYLIST"});default:return e}},I=function(e){var t=e.children,r=a.useReducer(T,h),n=Object(s.a)(r,2),l=n[0],o=n[1];return a.createElement(d,{handler:o},a.createElement(v.Provider,{value:l},t))},C=function(){return n.a.useContext(i)},L=r(43),S=L.usePromise,R=function(){return n.a.useContext(m)};function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var D=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),w=n.a.createElement("path",{d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}),j=function(e){var t=e.svgRef,r=e.title,a=N(e,["svgRef","title"]);return n.a.createElement("svg",k({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,D,w)},B=n.a.forwardRef((function(e,t){return n.a.createElement(j,k({svgRef:t},e))})),x=(r.p,B),F="APP__WRAPPER",M="APP__LOADER",U="PAGE_WRAPPER",W="PAGE_LOADER",G="HEADER__PANEL",V="HEADER__SEARCH_BUTTON",H="HEADER__NAVIGATION_BUTTON",Y="PLAYER_NAVIGATION__POPUP",K="PLAYER_NAVIGATION__LATEST_ALBUMS_LINK",z="PLAYER_NAVIGATION__SHARE_ALBUM_LINK",Z="SEARCH_BAR__INPUT",q="SEARCH_BAR__FORM",Q="SEARCH_BAR__CLEAR_BUTTON",J="LATEST_LABUMS_PAGE__FALLBACK",X="LATEST_LABUMS_PAGE__FEED",$="LATEST_LABUMS_PAGE__LOAD_MORE_BUTTON",ee="LATEST_LABUMS_PAGE__FEED_LOADER",te="SEARCH_ALBUMS_PAGE__TITLE",re="SEARCH_ALBUMS_PAGE__SUB_TITLE",ae="SEARCH_ALBUMS_PAGE__LOADER",ne="SEARCH_ALBUMS_PAGE__FEED",le="SEARCH_ALBUMS_PAGE__NEW_RESULTS_BUTTON",oe="SEARCH_ALBUMS_PAGE__FALLBACK_BUTTON",ce="FEED_ALBUM_WRAPPER",ue="SHARE_ALBUM_PAGE__LOADER",ie="SHARE_ALBUM_PAGE__DROP_ZONE_INPUT",se="SHARE_ALBUM_PAGE__DROP_ZONE_TEXT",_e="SHARE_ALBUM_PAGE__ALBUM_EDITOR",me="ALBUM_EDITOR__TITLE_INPUT",de="ALBUM_EDITOR__SUBMIT_BUTTON",pe="ALBUM_EDITOR__CANCEL_BUTTON",fe="ALBUM_TRACK_EDITOR__WRAPPER",Ee="ALBUM_TRACK_EDITOR__TITLE_INPUT",be="ALBUM_TRACK_EDITOR__TITLE_VALIDATION",ve="ALBUM_TRACK_EDITOR__REMOVE_BUTTON",Ae="ALBUM_ARTIST_EDITOR__ARTIST_NAME_INPUT",ye="ALBUM_ARTIST_EDITOR__ARTIST_NAME_VALIDATION",Oe="ALBUM_TRACKLIST__VALIDATION",ge="ALBUM_TRACKLIST__TRACK_INPUT",Pe=r(23),he=r(47),Te=r.n(he),Ie=function(e){var t=e.hasToggledOnIndicator,r=e.testId,n=Object(Pe.a)(e,["hasToggledOnIndicator","testId"]);return a.createElement("button",Object.assign({},n,{className:"".concat(Te.a.SquareButton__Button," ").concat(!0===t?Te.a.SquareButton__Button_toggledOn:""),"data-testid":r}))},Ce=r(12),Le="/latest",Se=function(){return"/latest"},Re="/search/:query",ke=function(e){return"/search/".concat(e)},Ne="/share",De=function(){return"/share"};function we(e,t){a.useEffect((function(){var r=function(r){var a=e.current,n=r.target;n instanceof HTMLElement&&a instanceof HTMLElement&&!a.contains(n)&&t()};return window.addEventListener("click",r),function(){window.removeEventListener("click",r)}}),[e,t])}var je=r(6),Be=r(45),xe=r.n(Be),Fe=function(e){var t=e.children,r=e.position,n=e.testId,l=function(){var e=xe.a.FixedPanel__Wrapper;if("top"===r)return"".concat(e," ").concat(xe.a.FixedPanel__Wrapper_top);if("bottom"===r)return"".concat(e," ").concat(xe.a.FixedPanel__Wrapper_bottom);throw new je.e}();return a.createElement("div",{className:l,"data-testid":n},t)},Me=r(31),Ue=r.n(Me),We=function(e){var t=e.onOutsideClick,r=e.children,n=a.useRef(null);return we(n,t),a.createElement(Fe,{position:"top"},a.createElement("div",{ref:n,className:Ue.a.SearchControls__Wrapper},r))},Ge=function(e){return a.createElement("form",Object.assign({},e,{className:Ue.a.SearchControls__Form,"data-testid":q}))},Ve=function(e){return a.createElement("input",Object.assign({},e,{type:"text",autoFocus:!0,className:Ue.a.SearchControls__Input,"data-testid":Z}))},He=function(e){var t,r=a.useState(""),n=Object(s.a)(r,2),l=n[0],o=n[1],c=R(),u=Object(Ce.g)(),i=a.useCallback((function(e){var t=e.currentTarget.value;o(t)}),[]),_=a.useCallback((function(e){e.preventDefault(),u.push(ke(l)),c({type:"SEARCH_CONTROLS__SUBMIT",payload:l})}),[c,u,l]),m=a.useCallback((function(){c({type:"SEARCH_CONTROLS__CANCEL"})}),[c]);return t={Escape:m},a.useEffect((function(){var e=function(e){var r=t[e.key];r&&r(e)};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}})),a.createElement(We,{onOutsideClick:m},a.createElement(Ge,{onSubmit:_},a.createElement(Ve,{onChange:i,value:l})),a.createElement(Ie,{testId:Q,onClick:m},a.createElement(x,null)))};function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Ke(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ze=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Ze=n.a.createElement("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"}),qe=function(e){var t=e.svgRef,r=e.title,a=Ke(e,["svgRef","title"]);return n.a.createElement("svg",Ye({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,ze,Ze)},Qe=n.a.forwardRef((function(e,t){return n.a.createElement(qe,Ye({svgRef:t},e))})),Je=(r.p,Qe);function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function $e(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var et=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),tt=n.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),rt=function(e){var t=e.svgRef,r=e.title,a=$e(e,["svgRef","title"]);return n.a.createElement("svg",Xe({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,et,tt)},at=n.a.forwardRef((function(e,t){return n.a.createElement(rt,Xe({svgRef:t},e))})),nt=(r.p,at);function lt(e){var t=a.useContext(e);if(null===t)throw new je.c;return t}var ot=function(){return lt(p)},ct=function(){var e=ot().intl;if(e)return e;throw new je.c},ut=function(){return ct().dictionary},it=r(39),st=r.n(it),_t=function(e){var t=e.children,r=e.onOutsideClick,n=a.useRef(null);return we(n,r),a.createElement("nav",{ref:n,"data-testid":Y,className:st.a.PlayerNavigation__Popup},t)},mt=function(e){var t=e.text,r=e.to,n=e.testId,l=e.onClick;return a.createElement(c.b,{to:r,onClick:l,className:st.a.PlayerNavigation__Link,activeClassName:st.a.PlayerNavigation__Link_current,"data-testid":n},t)},dt=function(e){var t=e.onClose,r=ut().playerNavigation,n=r.latestAlbumsLinkText,l=r.shareAlbumLinkText;return a.createElement(_t,{onOutsideClick:t},a.createElement(mt,{text:n,onClick:t,to:Se(),testId:K}),a.createElement(mt,{text:l,onClick:t,to:De(),testId:z}))},pt=r(40),ft=r.n(pt),Et=function(e){var t=e.children;return a.createElement(Fe,{position:"top",testId:G},a.createElement("div",{className:ft.a.OverviewControls__Wrapper},t))},bt=function(e){var t,r=e.children,n=e.mod;return"nav"===n&&(t=ft.a.OverviewControls__Group_nav),"search"===n&&(t=ft.a.OverviewControls__Group_search),a.createElement("div",{className:t},r)},vt=function(e){var t=a.useState(!1),r=Object(s.a)(t,2),n=r[0],l=r[1],o=R(),c=a.useCallback((function(){l(!0)}),[]),u=a.useCallback((function(){l(!1)}),[]),i=a.useCallback((function(){o({type:"OVERVIEW_CONTROLS__OPEN_SEARCH"})}),[o]);return a.createElement(Et,null,a.createElement(bt,{mod:"nav"},a.createElement(Ie,{testId:H,onClick:c},a.createElement(Je,null)),n&&a.createElement(dt,{onClose:u})),a.createElement(bt,{mod:"search"},a.createElement(Ie,{testId:V,onClick:i},a.createElement(nt,null))))},At=n.a.createContext(null);function yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yt(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gt={latestPage:1,loading:!1,albums:[],noMoreAlbums:!1},Pt=function(e,t){switch(t.type){case"LATEST_ALBUMS_PAGE__LOAD_MORE":return Ot({},e,{latestPage:e.latestPage+1});case"GET_ALBUM_PREVIEWS_FEED":return"PENDING"===t.status?Ot({},e,{loading:!0}):"RESOLVED"===t.status?Ot({},e,{loading:!1,albums:[].concat(Object(A.a)(e.albums),Object(A.a)(t.payload.items)),noMoreAlbums:t.payload.lastPageFlag}):"REJECTED"===t.status?Ot({},e,{loading:!1}):e;default:return e}},ht=function(e){var t=e.children,r=a.useReducer(Pt,gt),n=Object(s.a)(r,2),l=n[0],o=n[1];return a.createElement(d,{handler:o},a.createElement(At.Provider,{value:l},t))},Tt=r(33),It=r.n(Tt),Ct=function(e){var t=e.children,r=e.centered,n=e.hasCompactView;return a.createElement("main",{className:"".concat(It.a.Page__Wrapper," ").concat(!0===r?It.a.Page__Wrapper_centered:""," ").concat(!0===n?It.a.Page__Wrapper_compact:""),"data-testid":U},t)};function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function St(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Rt=n.a.createElement("path",{fill:"none",d:"M.01 0h24v24h-24V0z"}),kt=n.a.createElement("path",{d:"M12 4V2.21c0-.45-.54-.67-.85-.35l-2.8 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.32.31.86.09.86-.36V6c3.31 0 6 2.69 6 6 0 .79-.15 1.56-.44 2.25-.15.36-.04.77.23 1.04.51.51 1.37.33 1.64-.34.37-.91.57-1.91.57-2.95 0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-.79.15-1.56.44-2.25.15-.36.04-.77-.23-1.04-.51-.51-1.37-.33-1.64.34C4.2 9.96 4 10.96 4 12c0 4.42 3.58 8 8 8v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79c-.31-.31-.85-.09-.85.36V18z"}),Nt=function(e){var t=e.svgRef,r=e.title,a=St(e,["svgRef","title"]);return n.a.createElement("svg",Lt({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Rt,kt)},Dt=n.a.forwardRef((function(e,t){return n.a.createElement(Nt,Lt({svgRef:t},e))})),wt=(r.p,Dt),jt=r(58),Bt=r.n(jt),xt=function(){return n.a.createElement(wt,{className:Bt.a.Spinner})},Ft=function(){return n.a.createElement("div",{className:It.a.Page__Loader,"data-testid":W},n.a.createElement(xt,null))},Mt=function(){return n.a.useContext(v)},Ut=function(e){var t=e.children,r=e.centered,n=e.hasLoader,l=null!==Mt().playingTrackId;return a.createElement(Ct,{hasCompactView:l,centered:!0===r||!0===n},!0===n?a.createElement(Ft,null):t)},Wt=r(59),Gt=r.n(Wt),Vt=function(e){var t=e.onClick,r=e.disabled,n=e.hasLoader,l=e.text,o=e.buttonTestId,c=e.loaderTestId;return a.createElement("button",{className:Gt.a.LoadMoreButton,"data-testid":o,onClick:t,disabled:r},!0===n?a.createElement("div",{"data-testid":c},a.createElement(xt,null)):l)};function Ht(){return(Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Yt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Kt=n.a.createElement("path",{d:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z"}),zt=function(e){var t=e.svgRef,r=e.title,a=Yt(e,["svgRef","title"]);return n.a.createElement("svg",Ht({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Kt)},Zt=n.a.forwardRef((function(e,t){return n.a.createElement(zt,Ht({svgRef:t},e))})),qt=(r.p,Zt);function Qt(){return(Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Jt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Xt=n.a.createElement("path",{d:"M13 10H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm0-4H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm5 8v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-3c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3zM3 16h6c.55 0 1-.45 1-1s-.45-1-1-1H3c-.55 0-1 .45-1 1s.45 1 1 1z"}),$t=function(e){var t=e.svgRef,r=e.title,a=Jt(e,["svgRef","title"]);return n.a.createElement("svg",Qt({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Xt)},er=n.a.forwardRef((function(e,t){return n.a.createElement($t,Qt({svgRef:t},e))})),tr=(r.p,er),rr=r(24),ar=r.n(rr),nr=function(e){var t=e.children;return a.createElement("div",{className:ar.a.AlbumCover__Wrapper},t)},lr=function(e){var t=e.src;return a.createElement("img",{alt:"TODO",src:t,className:ar.a.AlbumCover__Image})},or=function(e){var t=e.children;return a.createElement("div",{className:ar.a.AlbumCover__Actions},t)},cr=function(e){var t=e.children,r=e.onClick;return a.createElement("button",{className:ar.a.AlbumCover__Button,onClick:r},t)},ur=function(e){var t=e.imageSrc,r=e.onAddToPlaylist,a=e.onPlay;return n.a.createElement(nr,null,n.a.createElement(lr,{src:t}),n.a.createElement(or,null,n.a.createElement(cr,{onClick:r},n.a.createElement(tr,null)),n.a.createElement(cr,{onClick:a},n.a.createElement(qt,null))))},ir=r(25),sr=r.n(ir),_r=function(e){return a.createElement("div",Object.assign({className:sr.a.FeedAlbum__Wrapper},e,{"data-testid":ce}))},mr=function(e){return a.createElement("div",{className:sr.a.FeedAlbum__Info},e.children)},dr=function(e){return a.createElement("div",{className:sr.a.FeedAlbum__Title},e.children)},pr=function(e){return a.createElement("div",{className:sr.a.FeedAlbum__Artist},e.children)},fr=function(e){var t=e.data,r=R(),n=t.title,l=t.artistName,o=t.coverSrc,c=t.id,u=a.useCallback((function(){r({type:"FEED_ALBUM__ADD_TO_PLAYLIST",payload:c})}),[r,c]),i=a.useCallback((function(){r({type:"FEED_ALBUM__PLAY",payload:c})}),[r,c]);return a.createElement(_r,null,a.createElement(ur,{imageSrc:o,onAddToPlaylist:u,onPlay:i}),a.createElement(mr,null,a.createElement(dr,null,n),a.createElement(pr,null,l)))},Er=r(34),br=r.n(Er),vr=function(e){var t=e.children,r=e.mod,n=a.useMemo((function(){switch(r){case"feed":return X;default:return null}}),[r]),l=a.useMemo((function(){switch(r){case"feed":return br.a.LatestAlbumsPage__Wrapper_feed;default:return""}}),[r]),o="".concat(br.a.LatestAlbumsPage__Wrapper," ").concat(l);return a.createElement("div",{className:o,"data-testid":n},t)},Ar=function(e){var t=e.text,r=e.mod,n=a.useMemo((function(){switch(r){case"fallback":return J;default:return null}}),[r]),l=a.useMemo((function(){switch(r){case"fallback":return br.a.LatestAlbumsPage__Text_fallback;default:return""}}),[r]),o="".concat(br.a.LatestAlbumsPage__Text," ").concat(l);return a.createElement("div",{className:o,"data-testid":n},t)},yr=function(e){var t=e.hasLoadMoreButton,r=e.hasPageLoader,n=e.hasFeed,l=e.hasFeedLoader,o=e.hasFallback,c=e.albums,u=e.fallbackText,i=e.loadMoreButtonText,s=e.onLoadMoreButtonClick,_=a.useMemo((function(){return c.map((function(e){return a.createElement(fr,{data:e,key:e.id})}))}),[c]);return a.createElement(Ut,{hasLoader:r,centered:o},n&&a.createElement(vr,{mod:"feed"},_),o&&a.createElement(Ar,{mod:"fallback",text:u}),t&&a.createElement(Vt,{text:i,hasLoader:l,onClick:s,buttonTestId:$,loaderTestId:ee}))},Or=function(e){var t=function(){var e=C().getAlbumPreviewsFeed,t=S(),r=Object(s.a)(t,2),n=r[0],l=r[1],o=R();return a.useEffect((function(){n&&n.pending&&o({type:"GET_ALBUM_PREVIEWS_FEED",status:"PENDING"})}),[o,n]),a.useEffect((function(){if(n&&n.value){var e=n.value,t=e.items,r=e.lastPageFlag;o({type:"GET_ALBUM_PREVIEWS_FEED",status:"RESOLVED",payload:{items:t,lastPageFlag:r}})}}),[o,n]),a.useEffect((function(){n&&n.error&&o({type:"GET_ALBUM_PREVIEWS_FEED",status:"REJECTED",payload:n.error})}),[o,n]),a.useCallback((function(t){l(e({startPage:t}))}),[e,l])}(),r=ut().latestAlbumsPage,n=r.fallbackText,l=r.loadMoreButtonText,o=R(),c=lt(At),u=c.albums,i=c.loading,_=c.latestPage,m=c.noMoreAlbums;a.useEffect((function(){null!==_&&t(_)}),[t,_]);var d=1===_&&i,p=u.length>0,f=u.length>0&&i,E=0===u.length&&m,b={hasLoadMoreButton:u.length>0&&!m,hasPageLoader:d,hasFeed:p,hasFeedLoader:f,hasFallback:E,albums:u,fallbackText:n,loadMoreButtonText:l,onLoadMoreButtonClick:a.useCallback((function(){i||o({type:"LATEST_ALBUMS_PAGE__LOAD_MORE"})}),[o,i])};return a.createElement(yr,b)},gr=function(){return n.a.createElement(ht,null,n.a.createElement(Or,null))},Pr=a.createContext(null),hr=function(e){var t=e.title,r=e.cover,a=e.tracklist,n=[];return t||n.push({type:"TITLE_REQUIRED"}),r||n.push({type:"COVER_REQUIRED"}),0===a.length&&n.push({type:"EMPTY_TRACKLIST"}),a.forEach((function(e){e.title||n.push({type:"EMPTY_TRACK_TITLE",payload:e.id}),1!==e.artists.length||e.artists[0].name||n.push({type:"EMPTY_TRACK_ARTISTS",payload:e.id})})),n};function Tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tr(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Cr=function e(t){return{done:function(){return t},addTracks:function(r){var a=Ir({},t,{tracklist:[].concat(Object(A.a)(t.tracklist),Object(A.a)(r))});return e(a)},removeTrack:function(r){var a=t.tracklist.filter((function(e){return e.id!==r})),n=Ir({},t,{tracklist:a});return e(n)},setTrackTitle:function(r){var a=r.trackId,n=r.value,l=t.tracklist.reduce((function(e,t){if(t.id===a){var r=Ir({},t,{title:n});return[].concat(Object(A.a)(e),[r])}return[].concat(Object(A.a)(e),[t])}),[]),o=Ir({},t,{tracklist:l});return e(o)},addRawArtists:function(){var r=t.tracklist.map((function(e){var t=e.artists,r=t[t.length-1];return!r||r.name?Ir({},e,{artists:[].concat(Object(A.a)(t),[{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),name:""}])}):e})),a=Ir({},t,{tracklist:r});return e(a)},removeArtist:function(r){var a=r.trackId,n=r.artistId,l=t.tracklist.reduce((function(e,t){if(t.id===a){var r=t.artists.filter((function(e){return e.id!==n})),l=Ir({},t,{artists:r});return[].concat(Object(A.a)(e),[l])}return[].concat(Object(A.a)(e),[t])}),[]),o=Ir({},t,{tracklist:l});return e(o)},setArtistName:function(r){var a=r.trackId,n=r.artistId,l=r.value,o=t.tracklist.reduce((function(e,t){if(t.id===a){var r=t.artists.reduce((function(e,t){if(t.id===n){var r=Ir({},t,{name:l});return[].concat(Object(A.a)(e),[r])}return[].concat(Object(A.a)(e),[t])}),[]),o=Ir({},t,{artists:r});return[].concat(Object(A.a)(e),[o])}return[].concat(Object(A.a)(e),[t])}),[]),c=Ir({},t,{tracklist:o});return e(c)},moveTrack:function(r){var a=r.trackId,n=r.direction,l=t.tracklist,o=l.findIndex((function(e){return e.id===a})),c=Object(A.a)(l),u="DOWN"===n?o+1:o-1,i=[c[u],c[o]];c[o]=i[0],c[u]=i[1];var s=Ir({},t,{tracklist:c});return e(s)}}};function Lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lr(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Rr={screen:"SELECTING_FILES",files:null,albumFormData:null,albumFormValidation:[],didSucceed:!1,submited:!1,error:null},kr=function(e,t){switch(t.type){case"ALBUM_EDITOR__TITLE_CHANGE":if(e.albumFormData){var r=Sr({},e.albumFormData,{title:t.payload});return Sr({},e,{albumFormData:r,albumFormValidation:hr(r)})}return e;case"ALBUM_COVER_EDITOR__FILE_RECIEVED":if(e.albumFormData){var a=Sr({},e.albumFormData,{cover:t.payload});return Sr({},e,{albumFormData:a,albumFormValidation:hr(a)})}return e;case"ALBUM_TRACK_EDITOR__MOVE_UP":if(e.albumFormData){var n=Cr(e.albumFormData).moveTrack({trackId:t.payload,direction:"UP"}).done();return Sr({},e,{albumFormData:n,albumFormValidation:hr(n)})}return e;case"ALBUM_TRACK_EDITOR__MOVE_DOWN":if(e.albumFormData){var l=Cr(e.albumFormData).moveTrack({trackId:t.payload,direction:"DOWN"}).done();return Sr({},e,{albumFormData:l,albumFormValidation:hr(l)})}return e;case"ALBUM_TRACK_EDITOR__TITLE_CHANGE":if(e.albumFormData){var o=t.payload,c=o.trackId,u=o.value,i=Cr(e.albumFormData).setTrackTitle({trackId:c,value:u}).done();return Sr({},e,{albumFormData:i,albumFormValidation:hr(i)})}return e;case"ALBUM_TRACK_EDITOR__ARTIST_CHANGE":if(e.albumFormData){var s=t.payload,_=s.trackId,m=s.artistId,d=s.value,p=e.albumFormData;return Sr({},e,{albumFormData:p=d?Cr(p).setArtistName({trackId:_,artistId:m,value:d}).addRawArtists().done():Cr(p).removeArtist({trackId:_,artistId:m}).addRawArtists().done(),albumFormValidation:hr(p)})}return e;case"ALBUM_TRACK_EDITOR__REMOVE":if(e.albumFormData){var f=Cr(e.albumFormData).removeTrack(t.payload).done();return Sr({},e,{albumFormData:f,albumFormValidation:hr(f)})}return e;case"ALBUM_EDITOR__CANCEL":return Sr({},e,{screen:"SELECTING_FILES",albumFormData:null,albumFormValidation:[]});case"GET_ALBUM_CANDIDATE_FROM_FILES":if("PENDING"===t.status)return"SELECTING_FILES"===e.screen?Sr({},e,{screen:"LOADING"}):e;if("RESOLVED"===t.status){if(e.albumFormData){var E=e.albumFormData,b=Cr(E).addTracks(t.payload.tracklist).addRawArtists().done();return Sr({},e,{files:null,albumFormData:b,albumFormValidation:hr(b)})}var v=Cr(t.payload).addRawArtists().done();return Sr({},e,{files:null,screen:"EDITING_ALBUM",albumFormData:v,albumFormValidation:hr(v),didSucceed:!1,error:null})}return"REJECTED"===t.status?Sr({},e,{screen:"SELECTING_FILES",albumFormData:null,albumFormValidation:[],didSucceed:!1,submited:!1,error:t.payload}):e;case"SUBMIT_ALBUM_CANDIDATE":return"PENDING"===t.status?Sr({},e,{screen:"LOADING"}):"RESOLVED"===t.status?Sr({},e,{screen:"SELECTING_FILES",albumFormData:null,albumFormValidation:[],didSucceed:!0,submited:!1}):"REJECTED"===t.status?Sr({},e,{screen:"SELECTING_FILES",albumFormData:null,albumFormValidation:[],didSucceed:!1,submited:!1,error:t.payload}):e;case"ALBUM_EDITOR__SUBMIT":return Sr({},e,{submited:!0});case"DROP_ZONE__FILES_RECIEVED":case"ALBUM_AUDIO_EDITOR__TRACKS_RECIEVED":return Sr({},e,{files:t.payload});default:return e}},Nr=function(e){var t=e.children,r=a.useReducer(kr,Rr),n=Object(s.a)(r,2),l=n[0],o=n[1];return a.createElement(d,{handler:o},a.createElement(Pr.Provider,{value:l},t))},Dr=function(){return lt(Pr)},wr=function(){var e=Dr().albumFormData;if(!e)throw new je.c;return e},jr=function(){return Dr().albumFormValidation};function Br(){return(Br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function xr(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Fr=n.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"}),Mr=function(e){var t=e.svgRef,r=e.title,a=xr(e,["svgRef","title"]);return n.a.createElement("svg",Br({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Fr)},Ur=n.a.forwardRef((function(e,t){return n.a.createElement(Mr,Br({svgRef:t},e))})),Wr=(r.p,Ur),Gr=r(17),Vr=r.n(Gr),Hr=function(e){var t=e.children;return a.createElement("label",{className:Vr.a.AlbumCoverEditor__Wrapper},t)},Yr=function(e){var t=e.onFileChange,r=e.errorMessage,n=void 0===r?"":r,l=a.useRef(null),o=a.useCallback((function(e){var r=e.currentTarget.files;r instanceof FileList&&(t(r[0]),e.currentTarget.value="")}),[t]);return a.useEffect((function(){var e=l.current;e&&e.setCustomValidity(n)}),[n]),a.createElement("input",{ref:l,className:Vr.a.AlbumCoverEditor__Input,type:"file",name:"cover",onChange:o})},Kr=function(e){return a.createElement("div",Object.assign({className:Vr.a.AlbumCoverEditor__Preview},e))},zr=function(e){var t=e.src;return a.createElement("img",{src:t,className:Vr.a.AlbumCoverEditor__Image,alt:"cover"})},Zr=function(e){var t=e.text;return a.createElement("div",{className:Vr.a.AlbumCoverEditor__Error},t)},qr=function(){var e=R(),t=function(){var e=wr(),t=jr(),r=ut().albumCoverEditor.missingCoverValidationText;return{value:e.cover,errorMessage:t.reduce((function(e,t){switch(t.type){case"COVER_REQUIRED":return r;default:return e}}),void 0)}}(),r=t.value,l=t.errorMessage,o=a.useCallback((function(t){e({type:"ALBUM_COVER_EDITOR__FILE_RECIEVED",payload:t})}),[e]),c=function(e){var t=n.a.useMemo((function(){return e?URL.createObjectURL(e):null}),[e]);return n.a.useEffect((function(){if(null!==t)return function(){URL.revokeObjectURL(t)}}),[t]),t}(r);return a.createElement(Hr,null,a.createElement(Yr,{errorMessage:l,onFileChange:o}),a.createElement(Kr,null,null!==c&&void 0===l?a.createElement(zr,{src:c}):a.createElement(Wr,null)),void 0!==l&&a.createElement(Zr,{text:l}))},Qr=r(9),Jr=r.n(Qr),Xr=function(e){var t=e.children,r=e.onSubmit,n=a.useCallback((function(e){e.preventDefault(),r()}),[r]);return a.createElement("form",{className:Jr.a.AlbumEditor__Wrapper,"data-testid":_e,onSubmit:n},t)},$r=function(e){var t=e.children;return a.createElement("div",{className:Jr.a.AlbumEditor__Footer},t)},ea=function(e){var t=e.children,r=e.submit,n=e.testId,l=e.onClick;return a.createElement("button",{onClick:l,className:"".concat(Jr.a.AlbumEditor__Button," ").concat(!0===r?Jr.a.AlbumEditor__Button_primary:Jr.a.AlbumEditor__Button_secondary),type:!0===r?"submit":"button","data-testid":n},t)},ta=function(e){var t=e.children;return a.createElement("div",{className:Jr.a.AlbumEditor__Fieldset},t)},ra=function(e){var t=e.text;return a.createElement("div",{className:Jr.a.AlbumEditor__FieldsetTitle},t)},aa=function(e){var t=e.children,r=e.withPadding;return a.createElement("div",{className:"".concat(Jr.a.AlbumEditor__FieldsetBody," ").concat(!0===r?Jr.a.AlbumEditor__FieldsetBody_padding:"")},t)};function na(){return(na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function la(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var oa=n.a.createElement("path",{d:"M8.12 14.71L12 10.83l3.88 3.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41 0L6.7 13.3c-.39.39-.39 1.02 0 1.41.39.38 1.03.39 1.42 0z"}),ca=function(e){var t=e.svgRef,r=e.title,a=la(e,["svgRef","title"]);return n.a.createElement("svg",na({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,oa)},ua=n.a.forwardRef((function(e,t){return n.a.createElement(ca,na({svgRef:t},e))})),ia=(r.p,ua);function sa(){return(sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function _a(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ma=n.a.createElement("path",{d:"M8.12 9.29L12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7c-.39-.39-.39-1.02 0-1.41.39-.38 1.03-.39 1.42 0z"}),da=function(e){var t=e.svgRef,r=e.title,a=_a(e,["svgRef","title"]);return n.a.createElement("svg",sa({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,ma)},pa=n.a.forwardRef((function(e,t){return n.a.createElement(da,sa({svgRef:t},e))})),fa=(r.p,pa);function Ea(){return(Ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ba(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var va=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Aa=n.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"}),ya=function(e){var t=e.svgRef,r=e.title,a=ba(e,["svgRef","title"]);return n.a.createElement("svg",Ea({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,va,Aa)},Oa=n.a.forwardRef((function(e,t){return n.a.createElement(ya,Ea({svgRef:t},e))})),ga=(r.p,Oa),Pa=r(11),ha=r.n(Pa),Ta=function(e){return a.createElement("div",Object.assign({},e,{className:ha.a.AlbumTrackEditor__Wrapper,"data-testid":fe}))},Ia=function(e){var t=e.isDisabled,r=e.testId,n=Object(Pe.a)(e,["isDisabled","testId"]);return a.createElement("button",Object.assign({},n,{type:"button",disabled:t,className:ha.a.AlbumTrackEditor__Button,"data-testid":r}))},Ca=function(e){return a.createElement("div",Object.assign({},e,{className:ha.a.AlbumTrackEditor__Controls}))},La=function(e){return a.createElement("div",Object.assign({},e,{className:ha.a.AlbumTrackEditor__Common}))},Sa=r(41),Ra=r.n(Sa),ka=function(e){var t=e.validationMessage,r=void 0===t?"":t,n=e.inputTestId,l=e.validationTestId,o=Object(Pe.a)(e,["validationMessage","inputTestId","validationTestId"]),c=a.useRef(null);return a.useEffect((function(){var e=c.current;e&&e.setCustomValidity(r)}),[r]),a.createElement("label",{className:Ra.a.FloatingLabelInput__Wrapper},a.createElement("input",Object.assign({},o,{ref:c,className:Ra.a.FloatingLabelInput__Input,"data-testid":n})),a.createElement("span",{className:Ra.a.FloatingLabelInput__Placeholder},o.placeholder),a.createElement("small",{className:Ra.a.FloatingLabelInput__ValidationMessage,"data-testid":l},r))},Na=function(e){var t=e.trackId,r=ut().albumTrackEditor.titleInputPlaceholderText,n=function(e){var t=wr().tracklist,r=ut().albumTrackEditor.missingTitleValidationText,a=jr(),n=t.find((function(t){return t.id===e}));if(!n)throw new TypeError;return{value:n.title,validationMessage:a.reduce((function(t,a){return"EMPTY_TRACK_TITLE"===a.type&&a.payload===e?r:t}),void 0)}}(t),l=n.value,o=n.validationMessage,c=R(),u=a.useCallback((function(e){var r=e.currentTarget.value;c({type:"ALBUM_TRACK_EDITOR__TITLE_CHANGE",payload:{value:r,trackId:t}})}),[c,t]);return a.createElement(ka,{inputTestId:Ee,validationTestId:be,name:"title",value:l,validationMessage:o,placeholder:r,onChange:u})},Da=function(e){var t,r=e.trackId,n=e.artist,l=e.artistIndex,o=ut().albumTrackEditor,c=o.missingArtistNameValidationText,u=o.artistNameInputPlaceholderText,i=R(),s=(t={trackId:r,artistId:n.id},!jr().some((function(e){return"EMPTY_TRACK_ARTISTS"===e.type&&e.payload===t.trackId}))),_=a.useCallback((function(e){var t=e.currentTarget.value;i({type:"ALBUM_TRACK_EDITOR__ARTIST_CHANGE",payload:{trackId:r,artistId:n.id,value:t}})}),[n.id,i,r]),m=s?void 0:c;return a.createElement(ka,{inputTestId:Ae,validationTestId:ye,key:n.id,name:"name",value:n.name,validationMessage:m,placeholder:u(l+1),onChange:_})};function wa(){return(wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ja(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Ba=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),xa=n.a.createElement("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.41l-4.83-4.83c-.37-.38-.88-.59-1.41-.59H6zm7 6V3.5L18.5 9H14c-.55 0-1-.45-1-1z"}),Fa=function(e){var t=e.svgRef,r=e.title,a=ja(e,["svgRef","title"]);return n.a.createElement("svg",wa({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Ba,xa)},Ma=n.a.forwardRef((function(e,t){return n.a.createElement(Fa,wa({svgRef:t},e))})),Ua=(r.p,Ma),Wa=function(e){var t=e.text;return a.createElement("div",{className:ha.a.AlbumTrackEditor__FileInfo},a.createElement(Ua,{className:ha.a.AlbumTrackEditor__FileIcon}),a.createElement("span",{className:ha.a.AlbumTrackEditor__FileName},t))},Ga=function(e){var t=e.trackId,r=function(e){var t=wr().tracklist.find((function(t){return t.id===e}));if(!t)throw new je.c;return t}(t),n=a.useMemo((function(){return r.artists.map((function(e,r){return a.createElement(Da,{key:e.id,trackId:t,artist:e,artistIndex:r})}))}),[r.artists,t]);return a.createElement(La,null,a.createElement(Wa,{text:r.audio.name}),a.createElement(Na,{trackId:t}),n)},Va=function(e){var t=e.trackId,r=e.moveDownDisabled,n=e.moveUpDisabled,l=R(),o=a.useCallback((function(){l({type:"ALBUM_TRACK_EDITOR__REMOVE",payload:t})}),[l,t]),c=a.useCallback((function(){l({type:"ALBUM_TRACK_EDITOR__MOVE_UP",payload:t})}),[l,t]),u=a.useCallback((function(){l({type:"ALBUM_TRACK_EDITOR__MOVE_DOWN",payload:t})}),[l,t]);return a.createElement(Ta,null,a.createElement(Ga,{trackId:t}),a.createElement(Ca,null,a.createElement(Ia,{isDisabled:n,onClick:c},a.createElement(ia,null)),a.createElement(Ia,{isDisabled:r,onClick:u},a.createElement(fa,null)),a.createElement(Ia,{onClick:o,testId:ve},a.createElement(ga,null))))},Ha=r(26),Ya=r.n(Ha),Ka=function(e){var t=e.onFilesChange,r=e.validationMessage,n=void 0===r?"":r,l=a.useRef(null),o=a.useCallback((function(e){var r=e.currentTarget.files;r&&t(r)}),[t]);return a.useEffect((function(){var e=l.current;e&&e.setCustomValidity(n)}),[n]),a.createElement("input",{ref:l,className:Ya.a.AlbumAudioEditor__Input,type:"file",name:"tracks",onChange:o})},za=function(e){var t=e.children;return a.createElement("label",{className:Ya.a.AlbumAudioEditor__Wrapper},t)},Za=function(e){var t=e.text,r=e.validationMessage,n=e.validationTestId;return a.createElement("div",{className:Ya.a.AlbumAudioEditor__Label},a.createElement("div",{className:Ya.a.AlbumAudioEditor__Text},t),a.createElement("small",{className:Ya.a.AlbumAudioEditor__Error,"data-testid":n},r))},qa=function(){var e=ut().albumAudioEditor,t=e.missingAudioValidationText,r=e.labelText,n=R(),l=!jr().some((function(e){return"EMPTY_TRACKLIST"===e.type})),o=a.useMemo((function(){if(!l)return t}),[t,l]),c=a.useCallback((function(e){var t=Object(A.a)(e);n({type:"ALBUM_AUDIO_EDITOR__TRACKS_RECIEVED",payload:t})}),[n]);return a.createElement(za,null,a.createElement(Ka,{validationMessage:o,onFilesChange:c,testId:ge}),a.createElement(Za,{text:r,validationMessage:o,validationTestId:Oe}))},Qa=function(){var e=ut().albumEditor.tracklistFieldsetTitleText,t=wr().tracklist,r=a.useMemo((function(){return t.map((function(e,t,r){return a.createElement(Va,{key:e.id,trackId:e.id,moveUpDisabled:0===t,moveDownDisabled:t===r.length-1})}))}),[t]);return a.createElement(ta,null,a.createElement(ra,{text:e}),a.createElement(aa,null,r),a.createElement(qa,null))},Ja=function(){var e=ut().albumEditor,t=e.aboutFieldsetTitleText,r=e.albumTitleInputPlaceholderText,n=R(),l=function(){var e=wr(),t=jr();return{value:e.title,errorMessage:t.reduce((function(e,t){return"TITLE_REQUIRED"===t.type?"Title is required":e}),void 0)}}(),o=l.value,c=l.errorMessage,u=a.useCallback((function(e){n({type:"ALBUM_EDITOR__TITLE_CHANGE",payload:e.currentTarget.value})}),[n]);return a.createElement(ta,null,a.createElement(ra,{text:t}),a.createElement(aa,{withPadding:!0},a.createElement(ka,{name:"title",placeholder:r,value:o,validationMessage:c,onChange:u,inputTestId:me})))},Xa=function(){var e=ut().albumEditor,t=e.submitButtonText,r=e.cancelButtonText,n=R(),l=a.useCallback((function(){n({type:"ALBUM_EDITOR__SUBMIT"})}),[n]),o=a.useCallback((function(){n({type:"ALBUM_EDITOR__CANCEL"})}),[n]);return a.createElement(Xr,{onSubmit:l},a.createElement(qr,null),a.createElement(Ja,null),a.createElement(Qa,null),a.createElement($r,null,a.createElement(ea,{submit:!0,testId:de},t),a.createElement(ea,{onClick:o,testId:pe},r)))},$a=r(14),en=r.n($a),tn=function(e){var t=e.children;return a.createElement("div",{className:en.a.DropZone__Wrapper},t)},rn=function(e){var t=e.children;return a.createElement("label",{className:en.a.DropZone__Label},t)},an=function(e){var t=e.onFilesChange,r=a.useCallback((function(e){var r=e.currentTarget.files;r&&(t(r),e.currentTarget.value="")}),[t]);return a.createElement("input",{type:"file",multiple:!0,className:en.a.DropZone__Input,onChange:r,"data-testid":ie})},nn=function(e){var t=e.mainText,r=e.errorText,n=e.successText;return a.createElement("div",{className:en.a.DropZone__Text,"data-testid":se},void 0!==r&&a.createElement("div",{className:en.a.DropZone__ErrorText},r),void 0!==n&&a.createElement("div",{className:en.a.DropZone__SuccessText},n),a.createElement("div",{className:en.a.DropZone__MainText},t))},ln=function(e){var t=e.errorText,r=e.successText,n=ut().dropZone.mainText,l=R(),o=a.useCallback((function(e){var t=Object(A.a)(e);l({type:"DROP_ZONE__FILES_RECIEVED",payload:t})}),[l]);return a.createElement(tn,null,a.createElement(rn,null,a.createElement(an,{onFilesChange:o}),a.createElement(nn,{mainText:n,errorText:t,successText:r})))},on=r(50),cn=r.n(on),un=function(){return n.a.createElement("div",{className:cn.a.ShareAlbumPage__Loader,"data-testid":ue},n.a.createElement(wt,{className:cn.a.ShareAlbumPage__Spinner}))},sn=function(){var e=Dr(),t=e.screen,r=e.error,l=e.files,o=e.albumFormData,c=e.didSucceed,u=e.submited,i=function(){var e=S(),t=Object(s.a)(e,2),r=t[0],a=t[1],l=R();n.a.useLayoutEffect((function(){if(r){var e=r.pending,t=r.resolved,a=r.error;e&&l({type:"SUBMIT_ALBUM_CANDIDATE",status:"PENDING"}),t&&l({type:"SUBMIT_ALBUM_CANDIDATE",status:"RESOLVED",payload:null}),a&&l({type:"SUBMIT_ALBUM_CANDIDATE",status:"REJECTED",payload:a})}}),[l,r]);var o=C().submitAlbumCandidate;return n.a.useCallback((function(e){e&&a(o(e))}),[a,o])}();a.useEffect((function(){u&&o&&i(o)}),[o,i,u]);var _=function(){var e=C().getAlbumCandidateFromFiles,t=S({errorsToKeep:[je.a]}),r=Object(s.a)(t,2),a=r[0],l=r[1],o=R();return n.a.useLayoutEffect((function(){if(a){var e=a.pending,t=a.value,r=a.error;e&&o({type:"GET_ALBUM_CANDIDATE_FROM_FILES",status:"PENDING"}),t&&o({type:"GET_ALBUM_CANDIDATE_FROM_FILES",status:"RESOLVED",payload:t}),r&&o({type:"GET_ALBUM_CANDIDATE_FROM_FILES",status:"REJECTED",payload:r})}}),[o,a]),n.a.useCallback((function(t){l(e(t))}),[l,e])}();a.useEffect((function(){l&&_(l)}),[l,_]);var m=ut().shareAlbumPage.didSucceedText,d=r?r.message:void 0,p=c?m:void 0,f="LOADING"===t,E="SELECTING_FILES"===t,b="EDITING_ALBUM"===t;return a.createElement(Ut,{centered:f||E},f&&a.createElement(un,null),b&&a.createElement(Xa,null),E&&a.createElement(ln,{errorText:d,successText:p}))},_n=function(){return n.a.createElement(Nr,null,n.a.createElement(sn,null))},mn=n.a.createContext(null);function dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dn(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fn={failed:!1,albums:[],newAlbums:[]},En=function(e,t){switch(t.type){case"GET_ALBUM_PREVIEWS_BY_QUERY":if("RESOLVED"===t.status){if(0===e.albums.length)return pn({},e,{albums:t.payload});var r=t.payload.filter((function(t){var r=t.id;return e.albums.some((function(e){return e.id!==r}))}));return pn({},e,{newAlbums:[].concat(Object(A.a)(e.newAlbums),Object(A.a)(r))})}return"REJECTED"===t.status?pn({},fn,{failed:!0}):e;case"SEARCH_ALBUMS_PAGE__RETRY":return pn({},e,{failed:!1});case"SEARCH_ALBUMS_PAGE__SHOW_NEW_RESULTS":return pn({},e,{albums:[].concat(Object(A.a)(e.newAlbums),Object(A.a)(e.albums)),newAlbums:[]});case"SEARCH_ALBUMS_PAGE__NEW_QUERY":return pn({},fn);default:return e}},bn=function(e){var t=e.children,r=a.useReducer(En,fn),n=Object(s.a)(r,2),l=n[0],o=n[1];return a.createElement(d,{handler:o},a.createElement(mn.Provider,{value:l},t))},vn=r(8),An=r(5),yn=r.n(An),On=function(e){var t=e.children;return a.createElement("div",{className:yn.a.SearchAlbumsPage__Hero},t)},gn=function(e){var t=e.text,r=e.testId,n=e.onClick;return a.createElement("button",{className:yn.a.SearchAlbumsPage__Button,"data-testid":r,onClick:n},t)},Pn=function(e){var t=e.children,r=e.screen,n=function(){var e=yn.a.SearchAlbumsPage__Wrapper;switch(r){case"LOADING":return yn.a.SearchAlbumsPage__Wrapper_loading;case"FALLBACK":return yn.a.SearchAlbumsPage__Wrapper_fallback;case"HAS_RESULTS":return yn.a.SearchAlbumsPage__Wrapper_hasResults;case"HAS_NEW_RESULTS":return yn.a.SearchAlbumsPage__Wrapper_hasNewResults;default:return e}}();return a.createElement(Ut,null,a.createElement("div",{className:n},t))},hn=function(e){var t=e.testId;return a.createElement("span",{className:yn.a.SearchAlbumsPage__Loader,"data-testid":t},a.createElement(xt,null))},Tn=r(32),In=r.n(Tn),Cn=function(e){var t=e.children,r=e.testId;return a.createElement("div",{className:In.a.AlbumsFeed__Wrapper,"data-testid":r},t)},Ln=function(e){var t=e.onClick,r=e.text;return a.createElement("button",{className:In.a.AlbumsFeed__Button,onClick:t},r)},Sn=function(e){var t=e.children;return a.createElement("div",{className:In.a.AlbumsFeed__Content},t)},Rn=function(e){var t=e.children,r=e.testId,n=e.onLoadMore;return a.createElement(Cn,{testId:r},a.createElement(Sn,null,t),n&&a.createElement(Ln,{onClick:n,text:"load more"}))},kn=function(e){var t=e.children,r=e.testId;return a.createElement(Rn,{testId:r},t)},Nn=function(e){var t=e.children;return a.createElement("div",{className:yn.a.SearchAlbumsPage__Body},t)},Dn=function(e){var t=e.text,r=e.testId;return a.createElement("h1",{className:yn.a.SearchAlbumsPage__Title,"data-testid":r},t)},wn=function(e){var t=e.text,r=e.testId;return a.createElement("div",{className:yn.a.SearchAlbumsPage__SubTitle,"data-testid":r},t)},jn=function(e){var t=e.screen,r=e.titleText,n=e.subTitleText,l=e.fallbackSubTitleText,o=e.newResultsButtonText,c=e.fallbackButtonText,u=e.feedItems,i=e.onNewResultsButtonClick,s=e.onFallbackButtonClick,_=a.useMemo((function(){return u.map((function(e){return a.createElement(fr,{data:e,key:e.id})}))}),[u]);return a.createElement(Pn,{screen:t},a.createElement(On,null,a.createElement(Dn,{text:r,testId:te}),a.createElement(wn,{text:"FALLBACK"===t?l:n,testId:re})),a.createElement(Nn,null,"LOADING"===t&&a.createElement(hn,{testId:ae}),"FALLBACK"===t&&a.createElement(gn,{testId:oe,text:c,onClick:s}),"HAS_NEW_RESULTS"===t&&a.createElement(gn,{testId:le,text:o,onClick:i}),("HAS_RESULTS"===t||"HAS_NEW_RESULTS"===t)&&a.createElement(kn,{testId:ne},_)))},Bn=function(e){var t=e.searchInterval,r=ut().searchAlbumsPage,a=r.subTitleText,l=r.fallbackSubTitleText,o=r.newResultsButtonText,c=r.fallbackButtonText,u=function(){var e=Object(Ce.h)();if("string"===typeof e.query)return e.query;throw new je.b}(),i=R(),_=function(){var e=C().getAlbumPreviewsByQuery,t=S({errorsToKeep:[Error]}),r=Object(s.a)(t,2),a=r[0],l=r[1],o=R();return n.a.useEffect((function(){if(a){var e=a.pending,t=a.value,r=a.error;e&&o({type:"GET_ALBUM_PREVIEWS_BY_QUERY",status:"PENDING"}),t&&o({type:"GET_ALBUM_PREVIEWS_BY_QUERY",status:"RESOLVED",payload:t}),r&&o({type:"GET_ALBUM_PREVIEWS_BY_QUERY",status:"REJECTED",payload:r})}}),[o,a]),n.a.useCallback((function(t){return l(e(t))}),[l,e])}(),m=lt(mn),d=m.failed,p=m.albums,f=m.newAlbums;n.a.useEffect((function(){i({type:"SEARCH_ALBUMS_PAGE__NEW_QUERY",payload:u})}),[i,u]),n.a.useEffect((function(){if(!d)return _(u),function(e,t){var r=window.setInterval(e,t);return function(){window.clearInterval(r)}}((function(){return _(u)}),t)}),[d,_,t,u]);var E=n.a.useCallback((function(){i({type:"SEARCH_ALBUMS_PAGE__SHOW_NEW_RESULTS"})}),[i]),b=n.a.useCallback((function(){i({type:"SEARCH_ALBUMS_PAGE__RETRY"})}),[i]),v=u,A=p,y={screen:n.a.useMemo((function(){if(!d&&p.length>0)return f.length>0?"HAS_NEW_RESULTS":"HAS_RESULTS";if(!d&&0===p.length)return"LOADING";if(d&&0===p.length)return"FALLBACK";throw new TypeError}),[p.length,d,f.length]),titleText:v,subTitleText:a,fallbackSubTitleText:l,newResultsButtonText:o,fallbackButtonText:c,feedItems:A,onNewResultsButtonClick:E,onFallbackButtonClick:b};return n.a.createElement(jn,y)},xn=function(e){var t=e.searchInterval,r=void 0===t?vn.a:t;return n.a.createElement(bn,null,n.a.createElement(Bn,{searchInterval:r}))},Fn=function(){return a.createElement(Ce.d,null,a.createElement(Ce.b,{exact:!0,path:Le},a.createElement(gr,null)),a.createElement(Ce.b,{exact:!0,path:Re},a.createElement(xn,null)),a.createElement(Ce.b,{exact:!0,path:Ne},a.createElement(_n,null)),a.createElement(Ce.b,{path:"/"},a.createElement(Ce.a,{to:Le}),"}"))};function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Un(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Wn=n.a.createElement("path",{d:"M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1zm3.66 6.82l5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z"}),Gn=function(e){var t=e.svgRef,r=e.title,a=Un(e,["svgRef","title"]);return n.a.createElement("svg",Mn({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Wn)},Vn=n.a.forwardRef((function(e,t){return n.a.createElement(Gn,Mn({svgRef:t},e))})),Hn=(r.p,Vn);function Yn(){return(Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Kn(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var zn=n.a.createElement("path",{d:"M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z"}),Zn=function(e){var t=e.svgRef,r=e.title,a=Kn(e,["svgRef","title"]);return n.a.createElement("svg",Yn({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,zn)},qn=n.a.forwardRef((function(e,t){return n.a.createElement(Zn,Yn({svgRef:t},e))})),Qn=(r.p,qn),Jn=r(60),Xn=r.n(Jn),$n=function(e){var t=e.testId,r=e.className,n=void 0===r?"":r,l=Object(Pe.a)(e,["testId","className"]);return a.createElement("button",Object.assign({},l,{className:"".concat(Xn.a.RoundButton__Button," ").concat(n),"data-testid":t}))},el=r(15),tl=r.n(el),rl=function(e){var t=e.children,r=e.playing;return a.createElement("div",{className:"".concat(tl.a.PlaylistTrack__Wrapper," ").concat(r?tl.a.PlaylistTrack__Wrapper_playing:"")},t)},al=function(e){var t=e.children,r=e.disabled,n=e.onClick;return a.createElement("button",{disabled:r,className:tl.a.PlaylistTrack__Button,type:"button",onClick:n},t)},nl=function(e){var t=e.artistName,r=e.title;return n.a.createElement("div",{className:tl.a.PlaylistTrack__Info},n.a.createElement("div",{className:tl.a.PlaylistTrack__Title},r),n.a.createElement("div",{className:tl.a.PlaylistTrack__Artist},t))},ll=function(e){var t=e.children;return a.createElement("div",{className:tl.a.PlaylistTrack__SecondaryAction},t)},ol=function(e){var t=e.screen,r=e.artistName,a=e.title,l=e.onPlay,o=e.onRemove;return n.a.createElement(rl,{playing:"PLAYING"===t},n.a.createElement(al,{onClick:l},n.a.createElement(nl,{title:a,artistName:r})),n.a.createElement(ll,null,n.a.createElement($n,{onClick:o},n.a.createElement(ga,null))))},cl=function(e){var t=e.track,r=t.id,n=t.artistName,l=t.title,o=Mt().playingTrackId===r,c=R(),u=a.useCallback((function(){c({type:"PLAYLIST_TRACK__REMOVE",payload:r})}),[c,r]),i=a.useCallback((function(){c({type:"PLAYLIST_TRACK__PLAY",payload:r})}),[c,r]),s=o?"PLAYING":"DEFAULT";return a.useMemo((function(){return a.createElement(ol,{screen:s,artistName:n,title:l,onRemove:u,onPlay:i})}),[s,n,l,u,i])},ul=r(22),il=r.n(ul),sl=function(e){return a.createElement("div",Object.assign({className:il.a.PlaylistPopup__Wrapper},e))};function _l(){return(_l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ml(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var dl=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),pl=n.a.createElement("path",{d:"M6 13h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1s.45 1 1 1zm-2 4h12c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm3-9c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1z"}),fl=function(e){var t=e.svgRef,r=e.title,a=ml(e,["svgRef","title"]);return n.a.createElement("svg",_l({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,dl,pl)},El=n.a.forwardRef((function(e,t){return n.a.createElement(fl,_l({svgRef:t},e))})),bl=(r.p,El),vl=function(e){var t=e.tracksCount,r=e.onClearPlaylist;return a.createElement("div",{className:il.a.PlaylistPopup__Header},a.createElement("div",{className:il.a.PlaylistPopup__Count},t," tracks"),a.createElement("div",{className:il.a.PlaylistPopup__Button},a.createElement(Ie,{onClick:r},a.createElement(bl,null))))},Al=function(e){return a.createElement("div",{className:il.a.PlaylistPopup__Body},a.createElement("div",Object.assign({className:il.a.PlaylistPopup__Content},e)))},yl=function(e){var t=Mt().playlist,r=R(),n=a.useCallback((function(){r({type:"PLAYLIST_POPUP__CLEAR"})}),[r]),l=a.useMemo((function(){return t.map((function(e){return a.createElement(cl,{track:e,key:e.id})}))}),[t]);return a.createElement(sl,null,a.createElement(vl,{tracksCount:t.length,onClearPlaylist:n}),a.createElement(Al,null,l))},Ol=r(35),gl=r.n(Ol),Pl=function(e){var t=e.children;return a.createElement(Fe,{position:"bottom"},a.createElement("div",{className:gl.a.PlaylistControls__Wrapper},t),";")},hl=function(e){var t=e.mod,r=e.children,n=function(){var e="".concat(gl.a.PlaylistControls__Group);return"skip"===t?"".concat(e," ").concat(gl.a.PlaylistControls__Group_skip):"close"===t?"".concat(e," ").concat(gl.a.PlaylistControls__Group_player):void 0}();return a.createElement("div",{className:n},r)},Tl=function(e){var t=R(),r=a.useCallback((function(){t({type:"PLAYLIST_CONTROLS__PLAY_NEXT"})}),[t]),n=a.useCallback((function(){t({type:"PLAYLIST_CONTROLS__PLAY_PREVIOUS"})}),[t]),l=a.useCallback((function(){t({type:"PLAYLIST_CONTROLS__CLOSE"})}),[t]);return a.createElement(Pl,null,a.createElement(hl,{mod:"skip"},a.createElement(Ie,{onClick:n},a.createElement(Hn,null)),a.createElement(Ie,{onClick:r},a.createElement(Qn,null))),a.createElement(hl,{mod:"close"},a.createElement(Ie,{onClick:l},a.createElement(fa,null))),a.createElement(yl,null))};function Il(){return(Il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Cl(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Ll=n.a.createElement("path",{d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"}),Sl=function(e){var t=e.svgRef,r=e.title,a=Cl(e,["svgRef","title"]);return n.a.createElement("svg",Il({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Ll)},Rl=n.a.forwardRef((function(e,t){return n.a.createElement(Sl,Il({svgRef:t},e))})),kl=(r.p,Rl);function Nl(){return(Nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Dl(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var wl=n.a.createElement("path",{d:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z"}),jl=function(e){var t=e.svgRef,r=e.title,a=Dl(e,["svgRef","title"]);return n.a.createElement("svg",Nl({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,wl)},Bl=n.a.forwardRef((function(e,t){return n.a.createElement(jl,Nl({svgRef:t},e))})),xl=(r.p,Bl);function Fl(){return(Fl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Ml(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Ul=n.a.createElement("path",{d:"M14 6H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm0 4H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM4 16h6c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM19 6c-1.1 0-2 .9-2 2v6.18c-.31-.11-.65-.18-1-.18-1.84 0-3.28 1.64-2.95 3.54.21 1.21 1.2 2.2 2.41 2.41 1.9.33 3.54-1.11 3.54-2.95V8h2c.55 0 1-.45 1-1s-.45-1-1-1h-2z"}),Wl=function(e){var t=e.svgRef,r=e.title,a=Ml(e,["svgRef","title"]);return n.a.createElement("svg",Fl({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Ul)},Gl=n.a.forwardRef((function(e,t){return n.a.createElement(Wl,Fl({svgRef:t},e))})),Vl=(r.p,Gl),Hl=r(19),Yl=r.n(Hl),Kl=function(e){var t=e.title,r=e.artistName;return a.createElement("div",{className:Yl.a.PlaybackControls__Info},a.createElement("span",{className:Yl.a.PlaybackControls__Title},t),a.createElement("span",{className:Yl.a.PlaybackControls__Artist},r))},zl=function(e){var t=e.children,r=e.mod,n=function(){var e="".concat(Yl.a.PlaybackControls__Group);return"player"===r?"".concat(e," ").concat(Yl.a.PlaybackControls__Group_player):"playlist"===r?"".concat(e," ").concat(Yl.a.PlaybackControls__Group_playlist):void 0}();return a.createElement("div",{className:n},t)},Zl=function(e){var t=e.children;e.toRight;return a.createElement(Fe,{position:"bottom"},a.createElement("div",{className:Yl.a.PlaybackControls__Wrapper},t))},ql=function(e){var t=e.screen,r=e.title,n=e.artistName,l=e.onPlaybackButtonClick,o=e.onPlaylistButtonClick;return a.createElement(Zl,null,a.createElement(zl,{mod:"player"},a.createElement(Ie,{disabled:"PENDING"===t||"FAILED"===t,onClick:l},"PLAYING"===t&&a.createElement(xl,null),"PAUSED"===t&&a.createElement(qt,null),"FAILED"===t&&a.createElement(kl,null),"PENDING"===t&&a.createElement(xt,null))),a.createElement(Kl,{title:r,artistName:n}),a.createElement(zl,{mod:"playlist"},a.createElement(Ie,{onClick:o},a.createElement(Vl,null))))},Ql=function(){var e=R(),t=function(){var e=Mt(),t=e.playlist,r=e.playingTrackId,a=t.find((function(e){return e.id===r}));if(!a)throw new TypeError;return a}(),r=t.title,n=t.artistName,l=Mt().audioStatus,o=a.useCallback((function(){"PLAYING"===l&&e({type:"PLAYBACK_CONTROLS__PAUSE"}),"PAUSED"===l&&e({type:"PLAYBACK_CONTROLS__PLAY"})}),[l,e]),c=a.useCallback((function(){e({type:"PLAYBACK_CONTROLS__OPEN_PLAYLIST"})}),[e]),u={screen:function(){switch(l){case"PLAYING":return"PLAYING";case"PAUSED":return"PAUSED";case"PENDING":return"PENDING";case"FAILED":return"FAILED";default:throw new je.e(l)}}(),title:r,artistName:n,onPlaybackButtonClick:o,onPlaylistButtonClick:c};return a.createElement(ql,u)},Jl=function(){var e=R(),t="PAUSED"===Mt().audioStatus,r=a.useRef(new Audio),n=a.useCallback((function(){var e=r.current;e.src&&(e.removeAttribute("src"),e.load())}),[]),l=a.useCallback((function(e){var a=r.current;a.src!==e&&(a.src=e,t||a.play())}),[t]);return a.useEffect((function(){var e=r.current;t&&!e.paused&&e.pause(),!t&&e.paused&&e.play()}),[t]),a.useEffect((function(){var t=r.current,a=function(){e({type:"AUDIO__WAITING"})},n=function(){e({type:"AUDIO__PAUSED"})},l=function(){e({type:"AUDIO__PLAYING"})},o=function(){e({type:"AUDIO__ENDED"})},c=function(r){e({type:"AUDIO__FAILED",payload:t.error||null})};return t.addEventListener("pause",n),t.addEventListener("waiting",a),t.addEventListener("playing",l),t.addEventListener("ended",o),t.addEventListener("error",c),function(){t.removeEventListener("pause",n),t.removeEventListener("waiting",a),t.removeEventListener("playing",l),t.removeEventListener("ended",o),t.removeEventListener("error",c)}}),[e]),{play:l,stop:n}},Xl=function(){!function(){var e=R(),t=C().getTrackPreviewsByAlbumIds,r=Mt().wantedTracksAlbumIds,a=Object(L.usePromise)(),l=Object(s.a)(a,2),o=l[0],c=l[1];n.a.useEffect((function(){r.length>0&&c(t(r))}),[t,c,r]),n.a.useEffect((function(){o&&(o.pending&&e({type:"GET_TRACK_PREVIEWS_BY_ALBUM_IDS",status:"PENDING"}),o.value&&e({type:"GET_TRACK_PREVIEWS_BY_ALBUM_IDS",status:"RESOLVED",payload:o.value}),o.error&&e({type:"GET_TRACK_PREVIEWS_BY_ALBUM_IDS",status:"REJECTED",payload:o.error}))}),[e,o])}();var e=Jl(),t=e.play,r=e.stop,l=function(){var e=Mt(),t=e.playlist,r=e.playingTrackId,a=t.find((function(e){return e.id===r}));return a?a.audioSrc:null}();a.useEffect((function(){l?t(l):r()}),[t,r,l]),a.useEffect((function(){return r}),[r]);var o=Mt(),c=o.primaryControls,u=o.secondaryControls,i=Mt().playingTrackId,_=null!==i&&"PLAYBACK"===u,m=null!==i&&"PLAYLIST"===u,d="SEARCH"===c,p="OVERVIEW"===c;return a.createElement(a.Fragment,null,a.createElement(Fn,null),d&&a.createElement(He,null),p&&a.createElement(vt,null),m&&a.createElement(Tl,null),_&&a.createElement(Ql,null))},$l=r(44),eo=r.n($l),to=function(e){var t=e.children;return a.createElement("div",{className:eo.a.App__Wrapper,"data-testid":F},t)},ro=function(){return a.createElement("div",{"data-testid":M,className:eo.a.App__Loader},a.createElement(xt,null))},ao=function(e){!function(){var e=C().getIntl,t=S(),r=Object(s.a)(t,2),n=r[0],l=r[1],o=R();a.useEffect((function(){l(e())}),[e,l]),a.useEffect((function(){if(n){var e=n.pending,t=n.value;e&&o({type:"GET_INTL",status:"PENDING"}),t&&o({type:"GET_INTL",status:"RESOLVED",payload:t})}}),[o,l,n])}();var t=ot().activeScreen;return a.createElement(to,null,"LOADING"===t&&a.createElement(ro,null),"PLAYER"===t&&a.createElement(I,null,a.createElement(Xl,null)))},no=r(61),lo=r.n(no),oo=function(e){var t=e.children;return a.createElement("div",{className:lo.a.ThemeProvider__Wrapper},t)},co=function(e){var t=e.children;return a.createElement(oo,null,t)},uo=r(27),io=r(62),so=r(29),_o=r(18),mo=r(28),po=function(e){function t(){var e,r;Object(uo.a)(this,t);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return(r=Object(so.a)(this,(e=Object(_o.a)(t)).call.apply(e,[this].concat(n)))).state={error:null},r}return Object(mo.a)(t,e),Object(io.a)(t,[{key:"componentDidCatch",value:function(e){0}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.fallbackView,a=e.constructors,n=this.state.error;if(null!==n){if(a.some((function(e){return n instanceof e})))return r(n);throw n}return t}}],[{key:"getDerivedStateFromError",value:function(e){if(e instanceof Error)return{error:e};throw new TypeError("ErrorBoundary accepts only instances of Error.")}}]),t}(a.Component),fo=r(51),Eo=r.n(fo),bo=function(e){var t=e.message;return a.createElement("div",{className:Eo.a.RootFallback__Wrapper},a.createElement("p",{className:Eo.a.RootFallback__Text},t))},vo=function(e){var t=e.children;return a.createElement(po,{constructors:[TypeError],fallbackView:bo},t)},Ao=document.getElementById("root");if(Ao){var yo=r(75).productionService;o.a.render(n.a.createElement((function(e){var t=e.service,r=e.routerBasename;return a.createElement(c.a,{basename:r},a.createElement(i.Provider,{value:t},a.createElement(co,null,a.createElement(vo,null,a.createElement(b,null,a.createElement(ao,null))))))}),{service:yo}),Ao)}}],[[63,1,2]]]);
//# sourceMappingURL=main.9d44e41a.chunk.js.map