(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t){},135:function(e,t){},173:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"latestAlbumsPattern",function(){return L}),n.d(r,"latestAlbumsRoute",function(){return R}),n.d(r,"searchAlbumsPattern",function(){return z}),n.d(r,"searchAlbumsRoute",function(){return D}),n.d(r,"shareAlbumPattern",function(){return V}),n.d(r,"shareAlbumRoute",function(){return H});var a={};n.r(a),n.d(a,"startApp",function(){return Tn}),n.d(a,"getLatestAlbums",function(){return Wn}),n.d(a,"getAlbumsByMatcher",function(){return Ln}),n.d(a,"submitAlbum",function(){return Dn}),n.d(a,"getPlaylistTracksByAlbumId",function(){return Hn});n(89);var c=n(0),l=n.n(c),u=n(82),o=n.n(u),i=n(175),s=c.createContext(null),_=c.createContext(null),m=n(40),p=n.n(m),f=function(){return c.createElement("div",{className:p.a.App__LoadingScreen})},h=n(48),v=n(53),d=n(33),b=n(49),E=n(87),g=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).message="Context has been used outside of the provider.",n}return Object(b.a)(t,e),t}(Object(E.a)(Error));function C(e){var t=c.useContext(e);if(null===t)throw new g;return t}var O=n(9),y={throwError:!0};function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;if(void 0!==t&&!Array.isArray(t))throw new TypeError("Effect parameters should be an array.");var r=l.a.useState(!1),a=Object(O.a)(r,2),c=a[0],u=a[1],o=l.a.useState(!1),i=Object(O.a)(o,2),s=i[0],_=i[1],m=l.a.useState(null),p=Object(O.a)(m,2),f=p[0],h=p[1],v=l.a.useState(null),d=Object(O.a)(v,2),b=d[0],E=d[1];if(!0===n.throwError&&b&&!s)throw b;return l.a.useEffect(function(){u(!1),h(null),_(!0),e().then(h).then(function(){u(!0)}).catch(E).then(function(){_(!1)})},t),{data:f,error:b,isPending:s,isSucceeded:c}}var j=n(12),P=n(83),k=n.n(P),w=function(e){return c.createElement("div",Object.assign({className:k.a.App__Wrapper},e))},S=n(176);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I=l.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),B=l.a.createElement("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"}),F=(n.p,function(e){return l.a.createElement("svg",x({width:24,height:24,viewBox:"0 0 24 24"},e),I,B)});function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var M=l.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),N=l.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),W=(n.p,function(e){return l.a.createElement("svg",T({width:24,height:24,viewBox:"0 0 24 24"},e),M,N)}),L="/latest",R=function(){return"/latest"},z="/search/:query",D=function(e){return void 0!==e?"/search/".concat(e):"/search"},V="/share",H=function(){return"/share"},Z=n(174),U=n(27);var G=function(e){var t=c.createRef(),n=e.onOutsideClick,r=Object(U.a)(e,["onOutsideClick"]);return function(e,t){c.useEffect(function(){var n=function(n){var r=e.current,a=n.target;a instanceof HTMLElement&&r instanceof HTMLElement&&!r.contains(a)&&t()};return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}},[e,t])}(t,n),c.createElement("div",Object.assign({},r,{ref:t}))},J=n(41),X=n.n(J),Q=function(e){return c.createElement(G,Object.assign({},e,{className:X.a.MainMenu__Wrapper}))},Y=function(e){return c.createElement("nav",Object.assign({},e,{className:X.a.MainMenu__Navigation}))},q=function(e){return c.createElement(Z.a,Object.assign({},e,{className:X.a.MainMenu__Link}))},K=function(e){return c.createElement("button",Object.assign({},e,{className:X.a.MainMenu__CloseButton}))},$=function(e){var t=e.onClose,n=function(e){var n=e.children,r=e.to;return c.createElement(q,{onClick:t,to:r},n)};return c.createElement(Q,{onOutsideClick:t},c.createElement(K,{onClick:t},"close"),c.createElement(Y,null,c.createElement(n,{to:r.latestAlbumsRoute()},"latest albums"),c.createElement(n,{to:r.searchAlbumsRoute()},"search albums"),c.createElement(n,{to:r.shareAlbumRoute()},"share album")))},ee=n(35),te=n.n(ee),ne=function(e){return c.createElement(G,Object.assign({},e,{className:te.a.SearchBar__Wrapper}))},re=function(e){return c.createElement("input",Object.assign({},e,{type:"text",autoFocus:!0,className:te.a.SearchBar__Input}))};function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ce=l.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),le=l.a.createElement("path",{d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}),ue=(n.p,function(e){return l.a.createElement("svg",ae({width:24,height:24,viewBox:"0 0 24 24"},e),ce,le)}),oe=function(e){return c.createElement("form",Object.assign({},e,{className:te.a.SearchBar__Form}))},ie=n(66),se=n.n(ie),_e=function(e){var t=e.hasToggledOnIndicator,n=Object(U.a)(e,["hasToggledOnIndicator"]);return c.createElement("button",Object.assign({},n,{className:"".concat(se.a.CustomButton__Button," ").concat(!0===t?se.a.CustomButton__Button_toggledOn:"")}))},me=function(e){var t,n=e.onCancel,r=e.onSubmit,a=c.useState(""),l=Object(O.a)(a,2),u=l[0],o=l[1];return t={Escape:n},c.useEffect(function(){var e=function(e){var n=t[e.key];n&&n(e)};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),c.createElement(ne,{onOutsideClick:n},c.createElement(oe,{onSubmit:function(e){e.preventDefault(),r(u),n()}},c.createElement(re,{onChange:function(e){var t=e.currentTarget.value;o(t)},value:u})),c.createElement(_e,{onClick:n},c.createElement(ue,null)))},pe=n(42),fe=n.n(pe),he=function(e){return c.createElement("div",Object.assign({className:fe.a.Flex__Row},e))},ve=function(e){return c.createElement("div",Object.assign({className:fe.a.Flex__Left},e))},de=function(e){return c.createElement("div",Object.assign({className:fe.a.Flex__Right},e))},be=n(54),Ee=n.n(be),ge=function(e){var t=e.children,n=e.toBottom;return c.createElement("div",{className:"".concat(Ee.a.FixedPanel__Wrapper," ").concat(!0===n?Ee.a.FixedPanel__Wrapper_bottom:Ee.a.FixedPanel__Wrapper_top)},t)},Ce=function(e){var t=c.useState(""),n=Object(O.a)(t,2),a=n[0],l=n[1],u=c.useState(!1),o=Object(O.a)(u,2),i=o[0],s=o[1],_=c.useState(!1),m=Object(O.a)(_,2),p=m[0],f=m[1],h=function(){s(!i)},v=function(){f(!p)};return c.createElement(ge,null,i&&c.createElement($,{onClose:h}),!p&&c.createElement(he,null,c.createElement(ve,null,c.createElement(_e,{onClick:h},c.createElement(F,null))),c.createElement(de,null,c.createElement(_e,{onClick:v},c.createElement(W,null)))),p&&c.createElement(me,{onCancel:v,onSubmit:function(e){l(e)}}),a&&c.createElement(S.a,{to:r.searchAlbumsRoute(a),push:!0}))},Oe=n(178),ye=n(177),Ae=n(84),je=n.n(Ae),Pe=function(e){return c.createElement("div",Object.assign({className:je.a.AlbumsFeed__Wrapper},e))},ke=n(21),we=n.n(ke),Se=function(e){return c.createElement("div",Object.assign({className:we.a.FeedAlbum__Wrapper},e))},xe=function(e){var t=e.src,n=e.alt,r=e.onClick;return c.createElement("img",{className:we.a.FeedAlbum__Cover,src:t,alt:n,onClick:r})},Ie=function(e){return c.createElement("h4",{className:we.a.FeedAlbum__Title},e.children)},Be=function(e){return c.createElement("h5",{className:we.a.FeedAlbum__Artist},e.children)},Fe=function(e){return c.createElement("div",{className:we.a.FeedAlbum__Info},e.children)},Te=c.createContext(null),Me=function(e){var t=e.data,n=C(s).getPlaylistTracksByAlbumId,r=C(Te).addPlaylistTracks,a=t.title,l=t.artistName,u=t.coverSrc,o=t.id;return c.createElement(Se,null,c.createElement(xe,{src:u,alt:"album cover",onClick:function(){n(o).then(r)}}),c.createElement(Fe,null,c.createElement(Ie,null,a),c.createElement(Be,null,l)))},Ne=n(67),We=n.n(Ne),Le=function(e){var t=e.children,n=e.centered;return c.createElement("main",{className:"".concat(We.a.Wrapper," ").concat(!0===n?We.a.Wrapper_centered:"")},t)},Re=function(e){var t=A(C(s).getLatestAlbums,[]),n=t.isPending,r=t.data;return c.createElement(Le,null,n&&c.createElement(f,null),null!==r&&c.createElement(Pe,null,r.map(function(e){return c.createElement(Me,{data:e,key:e.id})})))},ze=function(e){var t=e.match.params.query,n=C(s).getAlbumsByMatcher,r=A(function(){return n(t)},[t]),a=r.isPending,l=r.data;return c.createElement(Le,null,a&&c.createElement(f,null),null!==l&&c.createElement(Pe,null,l.map(function(e){return c.createElement(Me,{data:e,key:e.id})})))},De=n(4),Ve=n.n(De),He=n(19),Ze=n(51),Ue=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},Ge=["audio/flac","audio/wave","audio/wav","audio/mpeg","audio/mp3","audio/ogg"],Je=["image/jpeg","image/png","image/webp"],Xe=/(front|cover)/g,Qe=function(){return{key:Ue(),name:""}},Ye=function(){var e=Object(He.a)(Ve.a.mark(function e(t){var n,r,a;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(Ze.parseBlob));case 2:return n=e.sent,r=n.map(function(e){return e.common.album}),a=n.map(function(e,n){var r=e.common,a=r.artists.map(function(e){return{name:e,key:Ue()}});return a.push(Qe()),{key:Ue(),title:r.title,artists:a,audio:t[n]}}),e.abrupt("return",{title:r.find(function(e){return!!e})||"",tracklist:a});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(He.a)(Ve.a.mark(function e(t){var n,r,a,c,l,u,o;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(j.a)(t),r=n.filter(function(e){var t=e.type;return Ge.includes(t)}),a=n.filter(function(e){var t=e.type;return Je.includes(t)}),!(r.length>0)){e.next=11;break}return e.next=6,Ye(r);case 6:return c=e.sent,l=c.tracklist,u=c.title,o=a.find(function(e){return Xe.test(e.name)}),e.abrupt("return",{tracklist:l,title:u,cover:o||null});case 11:throw new Error("No audio files have been found.");case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();var Ke=n(43),$e=n.n(Ke),et=function(e){var t=e.onDataChange,n=c.useState(null),r=Object(O.a)(n,2),a=r[0],l=r[1],u=c.useState(!1),o=Object(O.a)(u,2),i=o[0],s=o[1],_=function(e){l(e),s(!1)};return c.createElement("div",{className:$e.a.DropZone__Wrapper},c.createElement("label",{className:$e.a.DropZone__Label},c.createElement("input",{type:"file",multiple:!0,disabled:i,className:$e.a.DropZone__Input,onChange:function(e){var n,r,a=e.currentTarget.files;s(!0),l(null),(n=qe(a),r=500,new Promise(function(e){window.setTimeout(function(){e(n)},r)})).then(t).catch(_),e.currentTarget.value=""}}),c.createElement("div",{className:$e.a.DropZone__Messages},i?c.createElement("p",null,"processing..."):c.createElement("p",null,"drop files here"),a&&c.createElement("small",null,a.message))))},tt=n(26),nt=n(17),rt=n(68),at=n.n(rt),ct=function(e){var t=e.children,n=e.withPadding,r=void 0!==n&&n;return c.createElement("div",{className:"".concat(at.a.Card__Wrapper," ").concat(r?at.a.Card__Wrapper_withPadding:"")},t)},lt=n(36),ut=n.n(lt),ot=function(e){return c.createElement("form",Object.assign({},e,{className:ut.a.AlbumForm__Wrapper}))},it=function(e){var t=e.children;return c.createElement("div",{className:ut.a.AlbumForm__AboutBlock},t)},st=function(e){var t=e.children;return c.createElement(ct,{withPadding:!0},c.createElement("div",{className:ut.a.AlbumForm__AboutInputs},t))},_t=function(e){var t=e.children;return c.createElement("div",{className:ut.a.AlbumForm__Footer},t)},mt=function(e){var t=e.children,n=e.onClick;return c.createElement("button",{onClick:n,className:ut.a.AlbumForm__Button},t)},pt=n(85),ft=n.n(pt),ht=function(e){var t=e.label,n=e.name,r=e.value,a=e.onChange;return c.createElement("label",null,t,c.createElement("br",null),c.createElement("input",{type:"text",className:ft.a.CustomTextInput__Input,name:n,placeholder:t,value:r,onChange:a}))},vt=n(44),dt=n.n(vt),bt=function(e){var t=e.children;return c.createElement("label",{className:dt.a.AlbumCoverInput__Wrapper},t)},Et=function(e){return c.createElement("div",Object.assign({className:dt.a.AlbumCoverInput__Preview},e))},gt=function(e){var t=e.src;return c.createElement("img",{src:t,className:dt.a.AlbumCoverInput__Image,alt:"cover"})},Ct=function(e){var t=e.onChange;return c.createElement("input",{className:dt.a.AlbumCoverInput__Input,type:"file",name:"cover",onChange:t})};function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var yt=l.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"}),At=(n.p,function(e){return l.a.createElement("svg",Ot({width:24,height:24,viewBox:"0 0 24 24"},e),yt)}),jt=function(e){var t=e.data,n=e.onDataChange,r=null;return t.cover&&(r=URL.createObjectURL(t.cover)),c.createElement(bt,null,c.createElement(Et,null,null!==r?c.createElement(gt,{src:r}):c.createElement(At,null)),c.createElement(Ct,{onChange:function(e){var r=e.currentTarget.files;n(Object(nt.a)({},t,{cover:r[0]})),e.currentTarget.value=""}}))},Pt=n(37),kt=n.n(Pt),wt=function(e){return c.createElement("div",Object.assign({},e,{className:kt.a.TrackInputs__Wrapper}))},St=function(e){return c.createElement("div",Object.assign({},e,{className:kt.a.TrackInputs__Common}))},xt=function(e){return c.createElement("div",Object.assign({},e,{className:kt.a.TrackInputs__Artists}))},It=function(e){return c.createElement("div",Object.assign({},e,{className:kt.a.TrackInputs__Controls}))},Bt=function(e){var t=e.isDisabled,n=Object(U.a)(e,["isDisabled"]);return c.createElement("button",Object.assign({type:"button",disabled:t,className:kt.a.TrackInputs__Button},n))};function Ft(){return(Ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Tt=l.a.createElement("path",{d:"M8.12 14.71L12 10.83l3.88 3.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41 0L6.7 13.3c-.39.39-.39 1.02 0 1.41.39.38 1.03.39 1.42 0z"}),Mt=(n.p,function(e){return l.a.createElement("svg",Ft({width:24,height:24,viewBox:"0 0 24 24"},e),Tt)});function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Wt=l.a.createElement("path",{d:"M8.12 9.29L12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7c-.39-.39-.39-1.02 0-1.41.39-.38 1.03-.39 1.42 0z"}),Lt=(n.p,function(e){return l.a.createElement("svg",Nt({width:24,height:24,viewBox:"0 0 24 24"},e),Wt)}),Rt=function(e){return function(t,n,r){return c.createElement(wt,{key:t.key},c.createElement(St,null,c.createElement(ht,{label:"Track title",name:"title",value:t.title,onChange:function(a){var c=a.currentTarget,l=c.name,u=c.value,o=Object(j.a)(r);o[n]=Object(nt.a)({},t,Object(tt.a)({},l,u)),e(o)}})),c.createElement(xt,null,t.artists.map(function(e){return function(t,n,r){return c.createElement(c.Fragment,{key:t.key},c.createElement(ht,{label:"Track artist #".concat(n+1),name:"name",value:t.name,onChange:function(a){var c=a.currentTarget,l=c.value,u=c.name,o=Object(j.a)(r);l.length>0?o[n]=Object(nt.a)({},t,Object(tt.a)({},u,l)):o.splice(n,1),n===r.length-1&&l.length>0&&o.push(Qe()),e(o)}}),c.createElement("br",null),c.createElement("br",null))}}(function(a){var c=Object(j.a)(r);c[n]=Object(nt.a)({},t,{artists:a}),e(c)}))),c.createElement(It,null,c.createElement(Bt,{isDisabled:0===n,onClick:function(){var t=Object(j.a)(r),a=n-1,c=[t[a],t[n]];t[n]=c[0],t[a]=c[1],e(t)}},c.createElement(Mt,null)),c.createElement(Bt,{isDisabled:n===r.length-1,onClick:function(){var t=Object(j.a)(r),a=n+1,c=[t[a],t[n]];t[n]=c[0],t[a]=c[1],e(t)}},c.createElement(Lt,null)),c.createElement(Bt,{onClick:function(){var n=r.filter(function(e){return e.key!==t.key});e(n)}},c.createElement(ue,null))))}},zt=function(e){return Ze.parseBlob(e,{skipCovers:!0}).then(function(t){var n=t.common,r=n.title,a=n.artists.map(function(e){return{name:e,key:Ue()}});return a.push(Qe()),{key:Ue(),audio:e,title:r,artists:a}})},Dt=n(55),Vt=n.n(Dt),Ht=function(e){var t=e.children;return c.createElement("label",{className:Vt.a.AlbumTracksInput__Wrapper},t)},Zt=function(e){var t=e.onChange;return c.createElement("input",{className:Vt.a.AlbumTracksInput__Input,type:"file",name:"tracks",onChange:t})},Ut=function(e){var t=e.text;return c.createElement("div",{className:Vt.a.AlbumTracksInput__CustomButton},t)},Gt=function(e){var t=e.data,n=e.onDataChange;return c.createElement(Ht,null,c.createElement(Zt,{onChange:function(e){var r=e.currentTarget.files;Promise.all(Object(j.a)(r).map(zt)).then(function(e){n(Object(nt.a)({},t,{tracklist:[].concat(Object(j.a)(t.tracklist),Object(j.a)(e))}))})}}),c.createElement(Ut,{text:"Add tracks"}))},Jt=function(e){var t=e.data,n=e.onDataChange,r=e.onSubmit,a=e.onCancel;return c.createElement(ot,{onSubmit:r},c.createElement(it,null,c.createElement(jt,{data:t,onDataChange:n}),c.createElement(st,null,c.createElement(ht,{label:"Album title",name:"title",value:t.title,onChange:function(e){var r=e.currentTarget,a=r.name,c=r.value;n(Object(nt.a)({},t,Object(tt.a)({},a,c)))}}))),c.createElement(ct,{withPadding:!0},t.tracklist.map(Rt(function(e){n(Object(nt.a)({},t,{tracklist:e}))})),c.createElement(Gt,{data:t,onDataChange:n})),c.createElement(_t,null,c.createElement(mt,{onClick:r},"share"),c.createElement(mt,{onClick:a},"cancel")))},Xt=function(e){var t=c.useState(!1),n=Object(O.a)(t,2),r=n[0],a=n[1],l=c.useState(!1),u=Object(O.a)(l,2),o=u[0],i=u[1],_=c.useState(null),m=Object(O.a)(_,2),p=m[0],f=m[1],h=c.useState(null),v=Object(O.a)(h,2),d=v[0],b=v[1],E=C(s).submitAlbum;return c.createElement(c.Fragment,null,r?c.createElement(Le,{centered:!0},c.createElement("h1",null,"succeed")):o?c.createElement(Le,{centered:!0},c.createElement("h1",null,"succeed")):null!==p?c.createElement(Le,{centered:!0},c.createElement("h1",null,p.message)):null!==d?c.createElement(Le,null,c.createElement(Jt,{data:d,onDataChange:b,onSubmit:function(){d&&(a(!0),E(d).then(function(){return i(!0)}).catch(f).then(function(){return a(!1)}))},onCancel:function(){b(null)}})):c.createElement(Le,{centered:!0},c.createElement(et,{onDataChange:b})))},Qt=function(){return c.createElement(Oe.a,null,c.createElement(ye.a,{exact:!0,path:r.latestAlbumsPattern,component:Re}),c.createElement(ye.a,{exact:!0,path:r.searchAlbumsPattern,component:ze}),c.createElement(ye.a,{exact:!0,path:r.shareAlbumPattern,component:Xt}),c.createElement(ye.a,{exact:!0,path:"/",render:function(){return c.createElement(S.a,{to:r.latestAlbumsPattern})}}))};function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var qt=l.a.createElement("path",{d:"M10.59 9.17L6.12 4.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l4.46 4.46 1.42-1.4zm4.76-4.32l1.19 1.19L4.7 17.88c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L17.96 7.46l1.19 1.19c.31.31.85.09.85-.36V4.5c0-.28-.22-.5-.5-.5h-3.79c-.45 0-.67.54-.36.85zm-.52 8.56l-1.41 1.41 3.13 3.13-1.2 1.2c-.31.31-.09.85.36.85h3.79c.28 0 .5-.22.5-.5v-3.79c0-.45-.54-.67-.85-.35l-1.19 1.19-3.13-3.14z"}),Kt=(n.p,function(e){return l.a.createElement("svg",Yt({width:24,height:24,viewBox:"0 0 24 24"},e),qt)});function $t(){return($t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var en=l.a.createElement("path",{d:"M7 7h10v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79c-.31-.31-.85-.09-.85.36V5H6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7zm10 10H7v-1.79c0-.45-.54-.67-.85-.35l-2.79 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.31.31.85.09.85-.36V19h11c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1s-1 .45-1 1v3z"}),tn=(n.p,function(e){return l.a.createElement("svg",$t({width:24,height:24,viewBox:"0 0 24 24"},e),en)});function nn(){return(nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var rn=l.a.createElement("path",{d:"M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1zm3.66 6.82l5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z"}),an=(n.p,function(e){return l.a.createElement("svg",nn({width:24,height:24,viewBox:"0 0 24 24"},e),rn)});function cn(){return(cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ln=l.a.createElement("path",{d:"M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z"}),un=(n.p,function(e){return l.a.createElement("svg",cn({width:24,height:24,viewBox:"0 0 24 24"},e),ln)}),on=n(29),sn=n.n(on),_n=function(e){return c.createElement("div",Object.assign({className:sn.a.PlayerControls__Panel},e))},mn=function(e){var t=e.moveButtonsToRight,n=Object(U.a)(e,["moveButtonsToRight"]);return c.createElement("div",Object.assign({className:"".concat(sn.a.PlayerControls__ButtonsGroup," ").concat(!0===t?sn.a.PlayerControls__ButtonsGroup_toRight:"")},n))},pn=function(e){var t=e.title,n=e.artistName;return c.createElement("div",{className:sn.a.PlayerControls__TrackInfo},c.createElement("span",{className:sn.a.PlayerControls__Title},t),c.createElement("span",{className:sn.a.PlayerControls__ArtistName},n))},fn=function(e){var t=e.onSwitchToCurrentTrackMode,n=C(Te),r=n.isShuffle,a=n.isRepeat,l=n.toggleIsShuffle,u=n.toggleIsRepeat;return c.createElement(c.Fragment,null,c.createElement(mn,null,c.createElement(_e,{hasToggledOnIndicator:r,onClick:function(){l()}},c.createElement(Kt,null)),c.createElement(_e,{hasToggledOnIndicator:a,onClick:function(){u()}},c.createElement(tn,null))),c.createElement(mn,null,c.createElement(_e,{onClick:function(){}},c.createElement(an,null)),c.createElement(_e,{onClick:function(){}},c.createElement(un,null))),c.createElement(mn,{moveButtonsToRight:!0},c.createElement(_e,{onClick:t},c.createElement(Lt,null))))};function hn(){return(hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var vn=l.a.createElement("path",{d:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z"}),dn=(n.p,function(e){return l.a.createElement("svg",hn({width:24,height:24,viewBox:"0 0 24 24"},e),vn)});function bn(){return(bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var En=l.a.createElement("path",{d:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z"}),gn=(n.p,function(e){return l.a.createElement("svg",bn({width:24,height:24,viewBox:"0 0 24 24"},e),En)});function Cn(){return(Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var On=l.a.createElement("path",{d:"M14 6H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm0 4H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM4 16h6c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM19 6c-1.1 0-2 .9-2 2v6.18c-.31-.11-.65-.18-1-.18-1.84 0-3.28 1.64-2.95 3.54.21 1.21 1.2 2.2 2.41 2.41 1.9.33 3.54-1.11 3.54-2.95V8h2c.55 0 1-.45 1-1s-.45-1-1-1h-2z"}),yn=(n.p,function(e){return l.a.createElement("svg",Cn({width:24,height:24,viewBox:"0 0 24 24"},e),On)}),An=function(e){var t=e.onSwitchToPlaylistMode,n=e.playingTrack,r=n.title,a=n.artistName,l=C(Te),u=l.isPaused,o=l.toggleIsPaused;return c.createElement(c.Fragment,null,c.createElement(mn,null,c.createElement(_e,{onClick:o},u?c.createElement(dn,null):c.createElement(gn,null))),c.createElement(pn,{title:r,artistName:a}),c.createElement(mn,null,c.createElement(_e,{onClick:t},c.createElement(yn,null))))},jn=function(e){var t=C(Te),n=t.playlist,r=t.playingTrackId,a=c.useState(!1),l=Object(O.a)(a,2),u=l[0],o=l[1];if(null!==r){var i=n.find(function(e){return e.id===r});if(!i)throw new TypeError;return c.createElement(_n,null,u?c.createElement(fn,{onSwitchToCurrentTrackMode:function(){o(!1)}}):c.createElement(An,{onSwitchToPlaylistMode:function(){o(!0)},playingTrack:i}))}return null},Pn=Ue(),kn=function(e){var t=c.useState(!1),n=Object(O.a)(t,2),r=n[0],a=n[1],l=c.useState(!1),u=Object(O.a)(l,2),o=u[0],i=u[1],s=c.useState(!1),_=Object(O.a)(s,2),m=_[0],p=_[1],f=c.useState([{id:Pn,title:"Wild Wild Wild Wild Wild Wild West",artistName:"John Wayne",audioSrc:""}]),h=Object(O.a)(f,2),v=h[0],d=h[1],b=c.useState(Pn),E=Object(O.a)(b,2),g=E[0],C=E[1],y={playlist:v,isPaused:r,isShuffle:o,isRepeat:m,playingTrackId:g,setPlayingTrackId:C,addPlaylistTracks:function(e){d([].concat(Object(j.a)(v),Object(j.a)(e)))},removePlaylistTrack:function(e){d(v.filter(function(t){return t.id!==e}))},clearPlaylist:function(){d([])},toggleIsPaused:function(){a(function(e){return!e})},toggleIsRepeat:function(){p(function(e){return!e})},toggleIsShuffle:function(){i(function(e){return!e})}};return c.createElement(Te.Provider,{value:y},c.createElement(w,null,c.createElement(Qt,null),c.createElement(Ce,null),c.createElement(jn,null)))},wn=function(e){var t=A(C(s).startApp,[]),n=t.isPending,r=t.isSucceeded;return c.createElement(c.Fragment,null,n&&c.createElement(f,null),r&&c.createElement(kn,null))},Sn=n(86),xn=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={error:null},n}return Object(b.a)(t,e),Object(Sn.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.errorRenderer,r=e.errorConstructor,a=this.state.error;if(null!==a){if(a instanceof r)return n(a);throw a}return t}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),t}(c.Component),In=function(e){var t=e.message;return c.createElement("div",{className:p.a.App__ErrorScreen},c.createElement("p",{className:p.a.App__ErrorMessage},t))},Bn=n(81),Fn=function(e){return new Promise(function(t){return setTimeout(t,e)})},Tn=function(){return Fn(500)},Mn=[],Nn=function(e){var t=e.title,n=e.coverSrc,r=e.tracklist,a=e.id,c=r.reduce(function(e,t){var n=t.artists.filter(function(t){return!e.includes(t)});return[].concat(Object(j.a)(e),Object(j.a)(n))},[]);return{id:a,title:t,artistName:c.length>1?"Various artists":c[0],coverSrc:n}},Wn=function(){var e=Object(He.a)(Ve.a.mark(function e(){return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fn(500);case 2:return e.abrupt("return",Mn.map(Nn));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),Ln=function(){var e=Object(He.a)(Ve.a.mark(function e(t){return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fn(500);case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Rn=function(e){var t=e.title,n=e.artists,r=e.audio;return{title:t,artists:n.map(function(e){return e.name}),audioSrc:URL.createObjectURL(r)}},zn=function(e){var t=e.title,n=e.cover,r=e.tracklist;if(null===n)throw new Error("Cover is required");return{id:Ue(),title:t,coverSrc:URL.createObjectURL(n),tracklist:r.map(Rn)}},Dn=function(){var e=Object(He.a)(Ve.a.mark(function e(t){return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fn(500);case 2:Mn.push(zn(t));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Vn=function(e){var t=e.title,n=e.artists,r=e.audioSrc;return{id:Ue(),title:t,artistName:n.join(", "),audioSrc:r}},Hn=function(){var e=Object(He.a)(Ve.a.mark(function e(t){var n;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fn(500);case 2:if(console.log(t),n=Mn.find(function(e){return e.id===t})){e.next=6;break}throw new Error("Unable to find album.");case 6:return e.abrupt("return",n.tracklist.map(Vn));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Zn={services:a,defaultLocaleStrings:Bn},Un=document.getElementById("root");Un&&o.a.render(l.a.createElement(function(e){var t=e.services,n=e.defaultLocaleStrings;return c.createElement(i.a,null,c.createElement(s.Provider,{value:t},c.createElement(_.Provider,{value:n},c.createElement(xn,{errorConstructor:TypeError,errorRenderer:In},c.createElement(wn,null)))))},Zn),Un)},21:function(e,t,n){e.exports={FeedAlbum__Wrapper:"FeedAlbum_FeedAlbum__Wrapper__3tPnN",FeedAlbum__Cover:"FeedAlbum_FeedAlbum__Cover__25bXj",FeedAlbum__Info:"FeedAlbum_FeedAlbum__Info__KTD4T",FeedAlbum__Artist:"FeedAlbum_FeedAlbum__Artist__tA7Pj"}},29:function(e,t,n){e.exports={PlayerControls__Panel:"PlayerControls_PlayerControls__Panel__rPZCt",PlayerControls__ButtonsGroup:"PlayerControls_PlayerControls__ButtonsGroup__2JNhN",PlayerControls__ButtonsGroup_toRight:"PlayerControls_PlayerControls__ButtonsGroup_toRight__1FHwV",PlayerControls__TrackInfo:"PlayerControls_PlayerControls__TrackInfo__3QBQU",PlayerControls__Title:"PlayerControls_PlayerControls__Title__3vHS-",PlayerControls__ArtistName:"PlayerControls_PlayerControls__ArtistName__iwIcb"}},35:function(e,t,n){e.exports={SearchBar__Wrapper:"SearchBar_SearchBar__Wrapper__3QJ6c",SearchBar__Form:"SearchBar_SearchBar__Form__6bsBi",SearchBar__Input:"SearchBar_SearchBar__Input__1YfWp",SearchBar__Cancel:"SearchBar_SearchBar__Cancel__2O7nh"}},36:function(e,t,n){e.exports={AlbumForm__Wrapper:"AlbumForm_AlbumForm__Wrapper__3ftjE",AlbumForm__AboutBlock:"AlbumForm_AlbumForm__AboutBlock__1e4yR",AlbumForm__Footer:"AlbumForm_AlbumForm__Footer__9g-X3",AlbumForm__Button:"AlbumForm_AlbumForm__Button__pYCeL"}},37:function(e,t,n){e.exports={TrackInputs__Wrapper:"TrackInputs_TrackInputs__Wrapper__2ZizR",TrackInputs__Controls:"TrackInputs_TrackInputs__Controls__3RXaF",TrackInputs__Button:"TrackInputs_TrackInputs__Button__3rQK8"}},40:function(e,t,n){e.exports={App__Wrapper:"App_App__Wrapper__3v7_E",App__ErrorScreen:"App_App__ErrorScreen__3CnfQ",App__LoadingScreen:"App_App__LoadingScreen__1YLjR"}},41:function(e,t,n){e.exports={MainMenu__Wrapper:"MainMenu_MainMenu__Wrapper__1jbxl",MainMenu__Navigation:"MainMenu_MainMenu__Navigation__CrmYB",MainMenu__Link:"MainMenu_MainMenu__Link__3zZ6_",MainMenu__CloseButton:"MainMenu_MainMenu__CloseButton__3YBV8"}},42:function(e,t,n){e.exports={Flex__Row:"Flex_Flex__Row__2lTFA",Flex__Left:"Flex_Flex__Left__2z2R7",Flex__Right:"Flex_Flex__Right__20iSY",Flex__Center:"Flex_Flex__Center__25E2V"}},43:function(e,t,n){e.exports={ShareAlbumPage__Wrapper:"ShareAlbumPage_ShareAlbumPage__Wrapper__2MO-q",ShareAlbumPage__Content:"ShareAlbumPage_ShareAlbumPage__Content__nQWaA",ShareAlbumPage__Footer:"ShareAlbumPage_ShareAlbumPage__Footer__3ZaVN",DropZone__Wrapper:"ShareAlbumPage_DropZone__Wrapper__24vkp",DropZone__Label:"ShareAlbumPage_DropZone__Label__XO4iw",DropZone__Input:"ShareAlbumPage_DropZone__Input__JtoCh",DropZone__Messages:"ShareAlbumPage_DropZone__Messages__33PqS"}},44:function(e,t,n){e.exports={AlbumCoverInput__Wrapper:"AlbumCoverInput_AlbumCoverInput__Wrapper__3Chtx",AlbumCoverInput__Input:"AlbumCoverInput_AlbumCoverInput__Input__1ZeHJ",AlbumCoverInput__Preview:"AlbumCoverInput_AlbumCoverInput__Preview__2OsWT",AlbumCoverInput__Image:"AlbumCoverInput_AlbumCoverInput__Image__3plQL"}},54:function(e,t,n){e.exports={FixedPanel__Wrapper:"FixedPanel_FixedPanel__Wrapper__2XWyh",FixedPanel__Wrapper_top:"FixedPanel_FixedPanel__Wrapper_top__2utRI",FixedPanel__Wrapper_bottom:"FixedPanel_FixedPanel__Wrapper_bottom__21stc"}},55:function(e,t,n){e.exports={AlbumTracksInput__Wrapper:"AlbumTracksInput_AlbumTracksInput__Wrapper__3Uo1E",AlbumTracksInput__Input:"AlbumTracksInput_AlbumTracksInput__Input__3fUu5",AlbumTracksInput__CustomButton:"AlbumTracksInput_AlbumTracksInput__CustomButton__1huGW"}},66:function(e,t,n){e.exports={CustomButton__Button:"CustomButton_CustomButton__Button__8CXdg",CustomButton__Button_toggledOn:"CustomButton_CustomButton__Button_toggledOn__1rByB"}},67:function(e,t,n){e.exports={Wrapper:"Page_Wrapper__3hek_",Wrapper_centered:"Page_Wrapper_centered__1Mmiz"}},68:function(e,t,n){e.exports={Card__Wrapper:"Card_Card__Wrapper__3sJYg",Card__Wrapper_withPadding:"Card_Card__Wrapper_withPadding__3HDFX"}},81:function(e,t){},83:function(e,t,n){e.exports={PlayerScreen__Wrapper:"PlayerScreen_PlayerScreen__Wrapper__3j27M",PlayerScreen__LeftBar:"PlayerScreen_PlayerScreen__LeftBar__1qnGz",PlayerScreen__RightBar:"PlayerScreen_PlayerScreen__RightBar__riXuz",PlayerScreen__BottomBar:"PlayerScreen_PlayerScreen__BottomBar__1e3un"}},84:function(e,t,n){e.exports={AlbumsFeed__Wrapper:"AlbumsFeed_AlbumsFeed__Wrapper__1K1Mv"}},85:function(e,t,n){e.exports={CustomTextInput__Input:"CustomTextInput_CustomTextInput__Input__3Fm3N"}},88:function(e,t,n){e.exports=n(173)},89:function(e,t,n){}},[[88,1,2]]]);
//# sourceMappingURL=main.f91fb711.chunk.js.map