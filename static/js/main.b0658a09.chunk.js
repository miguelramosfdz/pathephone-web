(this["webpackJsonppathephone-web"]=this["webpackJsonppathephone-web"]||[]).push([[0],[,,,,,function(e,t,r){e.exports={SearchAlbumsPage__Wrapper:"SearchAlbumsPage_SearchAlbumsPage__Wrapper__2JlHn",SearchAlbumsPage__Wrapper_loading:"SearchAlbumsPage_SearchAlbumsPage__Wrapper_loading__uMidr",SearchAlbumsPage__Wrapper_fallback:"SearchAlbumsPage_SearchAlbumsPage__Wrapper_fallback__3Kuyo",SearchAlbumsPage__Wrapper_hasResults:"SearchAlbumsPage_SearchAlbumsPage__Wrapper_hasResults__1mnOH",SearchAlbumsPage__Wrapper_hasNewResults:"SearchAlbumsPage_SearchAlbumsPage__Wrapper_hasNewResults__1DuRU",SearchAlbumsPage__Body:"SearchAlbumsPage_SearchAlbumsPage__Body__2qKu3",SearchAlbumsPage__Loader:"SearchAlbumsPage_SearchAlbumsPage__Loader__2uh6T",SearchAlbumsPage__Hero:"SearchAlbumsPage_SearchAlbumsPage__Hero__PjGBh",SearchAlbumsPage__Title:"SearchAlbumsPage_SearchAlbumsPage__Title__kE6fn",SearchAlbumsPage__SubTitle:"SearchAlbumsPage_SearchAlbumsPage__SubTitle__bHVL2",SearchAlbumsPage__Button:"SearchAlbumsPage_SearchAlbumsPage__Button__1qs0Q"}},function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return _})),r.d(t,"d",(function(){return m}));var a=r(27),n=r(29),l=r(18),o=r(28),c=r(36),u=function(e){function t(){var e,r;Object(a.a)(this,t);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).message="Strict hook error.",r}return Object(o.a)(t,e),t}(Object(c.a)(TypeError)),i=function(e){function t(){var e,r;Object(a.a)(this,t);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).message="Unreachable error.",r}return Object(o.a)(t,e),t}(Object(c.a)(TypeError)),s=function(e){function t(){var e,r;Object(a.a)(this,t);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).message="Router params error.",r}return Object(o.a)(t,e),t}(Object(c.a)(TypeError)),_=function(e){function t(){var e,r;Object(a.a)(this,t);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).message="No audio files selected.",r}return Object(o.a)(t,e),t}(Object(c.a)(Error)),m=function(e){function t(){var e,r;Object(a.a)(this,t);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return(r=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).message="Unexpected error.",r}return Object(o.a)(t,e),t}(Object(c.a)(Error))},,function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return n}));var a=400,n=5e3},function(e,t,r){e.exports={AlbumEditor__Wrapper:"AlbumEditor_AlbumEditor__Wrapper__mAm6n",AlbumEditor__Footer:"AlbumEditor_AlbumEditor__Footer__ZcBn8",AlbumEditor__FieldsetTitle:"AlbumEditor_AlbumEditor__FieldsetTitle__SECkl",AlbumEditor__FieldsetBody_padding:"AlbumEditor_AlbumEditor__FieldsetBody_padding__2QZy-",AlbumEditor__Fieldset:"AlbumEditor_AlbumEditor__Fieldset__V103W",AlbumEditor__Button:"AlbumEditor_AlbumEditor__Button__3koDq",AlbumEditor__Button_primary:"AlbumEditor_AlbumEditor__Button_primary__12z23",AlbumEditor__Button_secondary:"AlbumEditor_AlbumEditor__Button_secondary__3dm5e"}},,function(e,t,r){e.exports={AlbumTrackEditor__Wrapper:"AlbumTrackEditor_AlbumTrackEditor__Wrapper__AqPrR",AlbumTrackEditor__Common:"AlbumTrackEditor_AlbumTrackEditor__Common__3G4iR",AlbumTrackEditor__Button:"AlbumTrackEditor_AlbumTrackEditor__Button__3bfiD",AlbumTrackEditor__FileInfo:"AlbumTrackEditor_AlbumTrackEditor__FileInfo__QNcRj",AlbumTrackEditor__FileIcon:"AlbumTrackEditor_AlbumTrackEditor__FileIcon__m6Q-l",AlbumTrackEditor__FileName:"AlbumTrackEditor_AlbumTrackEditor__FileName__RuKmG"}},,,function(e,t,r){e.exports={DropZone__Wrapper:"DropZone_DropZone__Wrapper__1pqI8",DropZone__Label:"DropZone_DropZone__Label__156RJ",DropZone__Input:"DropZone_DropZone__Input__215m4",DropZone__Text:"DropZone_DropZone__Text__3m5qb",DropZone__MainText:"DropZone_DropZone__MainText__hhaAS",DropZone__ErrorText:"DropZone_DropZone__ErrorText__1sa0i",DropZone__SuccessText:"DropZone_DropZone__SuccessText__WlB2W"}},function(e,t,r){e.exports={PlaylistTrack__Wrapper:"Playlist_PlaylistTrack__Wrapper__3ujOz",PlaylistTrack__Wrapper_playing:"Playlist_PlaylistTrack__Wrapper_playing__3qup0",PlaylistTrack__Button:"Playlist_PlaylistTrack__Button__8Cy7D",PlaylistTrack__Info:"Playlist_PlaylistTrack__Info__192Bd",PlaylistTrack__Title:"Playlist_PlaylistTrack__Title__2ynps",PlaylistTrack__Artist:"Playlist_PlaylistTrack__Artist__wl8FQ",PlaylistTrack__SecondaryAction:"Playlist_PlaylistTrack__SecondaryAction__6_OqH"}},,function(e,t,r){e.exports={AlbumCoverEditor__Wrapper:"AlbumCoverEditor_AlbumCoverEditor__Wrapper__1kjwi",AlbumCoverEditor__Input:"AlbumCoverEditor_AlbumCoverEditor__Input__14bSW",AlbumCoverEditor__Image:"AlbumCoverEditor_AlbumCoverEditor__Image__9mH4k",AlbumCoverEditor__Error:"AlbumCoverEditor_AlbumCoverEditor__Error__kCRMp",AlbumCoverEditor__Preview:"AlbumCoverEditor_AlbumCoverEditor__Preview__-u3ie"}},,function(e,t,r){e.exports={PlaybackControls__Wrapper:"PlaybackControls_PlaybackControls__Wrapper__1FXHs",PlaybackControls__Group:"PlaybackControls_PlaybackControls__Group__1BefT",PlaybackControls__Group_player:"PlaybackControls_PlaybackControls__Group_player__3H7aN",PlaybackControls__Group_playlist:"PlaybackControls_PlaybackControls__Group_playlist__3cfcD",PlaybackControls__Info:"PlaybackControls_PlaybackControls__Info__2crwY",PlaybackControls__Title:"PlaybackControls_PlaybackControls__Title__2VEX9",PlaybackControls__Artist:"PlaybackControls_PlaybackControls__Artist__1AwdQ"}},,,function(e,t,r){e.exports={PlaylistPopup__Wrapper:"Playlist_PlaylistPopup__Wrapper__gSS19",PlaylistPopup__Header:"Playlist_PlaylistPopup__Header__1T3mG",PlaylistPopup__Count:"Playlist_PlaylistPopup__Count__16tTF",PlaylistPopup__Button:"Playlist_PlaylistPopup__Button__2XWUd",PlaylistPopup__Body:"Playlist_PlaylistPopup__Body__34T9-",PlaylistPopup__Content:"Playlist_PlaylistPopup__Content__1mpS-"}},,function(e,t,r){e.exports={AlbumCover__Wrapper:"AlbumCover_AlbumCover__Wrapper__3vfax",AlbumCover__Image:"AlbumCover_AlbumCover__Image__yMhaP",AlbumCover__Actions:"AlbumCover_AlbumCover__Actions__2RlPN",AlbumCover__Button:"AlbumCover_AlbumCover__Button__3T4Av"}},function(e,t,r){e.exports={FeedAlbum__Wrapper:"FeedAlbum_FeedAlbum__Wrapper__l-o-U",FeedAlbum__Info:"FeedAlbum_FeedAlbum__Info__1B89V",FeedAlbum__Title:"FeedAlbum_FeedAlbum__Title__1Bqqf",FeedAlbum__Artist:"FeedAlbum_FeedAlbum__Artist__224zw"}},function(e,t,r){e.exports={AlbumAudioEditor__Wrapper:"AlbumAudioEditor_AlbumAudioEditor__Wrapper__r5bbO",AlbumAudioEditor__Input:"AlbumAudioEditor_AlbumAudioEditor__Input__15uyM",AlbumAudioEditor__Label:"AlbumAudioEditor_AlbumAudioEditor__Label__1soUd",AlbumAudioEditor__Text:"AlbumAudioEditor_AlbumAudioEditor__Text__22Jkp",AlbumAudioEditor__Error:"AlbumAudioEditor_AlbumAudioEditor__Error__1jvVu"}},,,,,function(e,t,r){e.exports={SearchControls__Wrapper:"SearchControls_SearchControls__Wrapper__2F4dR",SearchControls__Form:"SearchControls_SearchControls__Form__1d3Ne",SearchControls__Input:"SearchControls_SearchControls__Input__7iFL-",SearchControls__Button:"SearchControls_SearchControls__Button__2G9H6"}},function(e,t,r){e.exports={AlbumsFeed__Wrapper:"AlbumsFeed_AlbumsFeed__Wrapper__3_OLy",AlbumsFeed__Content:"AlbumsFeed_AlbumsFeed__Content__3AUS-",AlbumsFeed__Button:"AlbumsFeed_AlbumsFeed__Button__1srD4"}},function(e,t,r){e.exports={Page__Wrapper:"Page_Page__Wrapper__UyWg9",Page__Wrapper_centered:"Page_Page__Wrapper_centered__11xTF",Page__Wrapper_compact:"Page_Page__Wrapper_compact__3Sczl",Page__Loader:"Page_Page__Loader__23DRs"}},function(e,t,r){e.exports={LatestAlbumsPage__Wrapper_feed:"LatestAlbumsPage_LatestAlbumsPage__Wrapper_feed__3QnLr",LatestAlbumsPage__Text_fallback:"LatestAlbumsPage_LatestAlbumsPage__Text_fallback__3scz-"}},function(e,t,r){e.exports={PlaylistControls__Wrapper:"PlaylistControls_PlaylistControls__Wrapper__1e_Df",PlaylistControls__Group:"PlaylistControls_PlaylistControls__Group__1Nm5R",PlaylistControls__Group_skip:"PlaylistControls_PlaylistControls__Group_skip__2Jizf",PlaylistControls__Group_close:"PlaylistControls_PlaylistControls__Group_close__29sFR"}},,,,function(e,t,r){e.exports={PlayerNavigation__Popup:"PlayerNavigation_PlayerNavigation__Popup__zMj3L",PlayerNavigation__Link:"PlayerNavigation_PlayerNavigation__Link__2xJNX",PlayerNavigation__Link_current:"PlayerNavigation_PlayerNavigation__Link_current__2RhCJ",PlayerNavigation__CloseButton:"PlayerNavigation_PlayerNavigation__CloseButton__3dlLU"}},function(e,t,r){e.exports={OverviewControls__Wrapper:"OverviewControls_OverviewControls__Wrapper__2i7JL",OverviewControls__Group_nav:"OverviewControls_OverviewControls__Group_nav__3Lx1y",OverviewControls__Group_search:"OverviewControls_OverviewControls__Group_search__3JsoJ"}},function(e,t,r){e.exports={FloatingLabelInput__Wrapper:"FloatingLabelInput_FloatingLabelInput__Wrapper__Dzxo5",FloatingLabelInput__Input:"FloatingLabelInput_FloatingLabelInput__Input__vSYyS",FloatingLabelInput__Placeholder:"FloatingLabelInput_FloatingLabelInput__Placeholder__DdDAO",FloatingLabelInput__ValidationMessage:"FloatingLabelInput_FloatingLabelInput__ValidationMessage__1spcs"}},function(e,t,r){"use strict";r.r(t);var a=r(3),n=r.n(a),l=r(7),o=function(e){return new Promise((function(t){return setTimeout(t,e)}))},c=r(8),u=0,i=function(){return"".concat(u+=1)},s=function(e){return function(t){for(var r=t,a=[];r>0;)a.push(e()),r-=1;return a}},_=s((function(){return{id:i(),artistName:"Artist name",title:"Album title",coverSrc:"https://images-na.ssl-images-amazon.com/images/I/51dmdN8ejoL.jpg",saved:!0}})),m=function(){var e=Object(l.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c.b);case 2:return r=_(10),e.abrupt("return",{items:r,lastPageFlag:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(l.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c.b);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){for(var t=e,r=[];t>0;)r.push({id:i(),artistName:"Artist name",title:"Track title",audioSrc:"https://en.wikipedia.org/wiki/File:Wolfgang_Amadeus_Mozart_-_Symphony_40_g-moll_-_1._Molto_allegro.ogg"}),t-=1;return r},f=function(){var e=Object(l.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c.b);case 2:return e.abrupt("return",p(10));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=s((function(){return{id:i(),name:"artist name"}})),b=function(){return new File(["(\u2310\u25a1_\u25a1)"],"track.ogg",{type:"audio/ogg"})},v=(s(b),function(){return{id:i(),title:"Album title",artists:E(5),audio:b()}}),A=s(v),y=function(){return{title:"Album title",cover:null,tracklist:A(5)}},O=(s(y),function(){var e=Object(l.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c.b);case 2:return e.abrupt("return",y());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=function(){var e=Object(l.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c.b);case 2:return e.abrupt("return",v());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=r(1),h=r(6),T=new Map;T.set("en",(function(){return r.e(3).then(r.bind(null,77))})),T.set("ru",(function(){return r.e(4).then(r.bind(null,78))}));var C=function(){var e=Object(l.a)(n.a.mark((function e(t){var r,a,l,o,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.find((function(e){return T.has(e)})),a=void 0!==r?r:"en",l=T.get(a),o=Object(P.a)(T.keys()),!l){e.next=12;break}return e.next=7,l();case 7:return c=e.sent,u=c.dictionary,e.abrupt("return",{currentCode:a,availableCodes:o,dictionary:u});case 12:throw new h.d;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c.b);case 2:return e.abrupt("return",C(["en"]));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c.b);case 2:return e.abrupt("return",_(5));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r.d(t,"getAlbumPreviewsFeed",(function(){return m})),r.d(t,"submitAlbumCandidate",(function(){return d})),r.d(t,"getTrackPreviewsByAlbumId",(function(){return f})),r.d(t,"getAlbumCandidateFromFiles",(function(){return O})),r.d(t,"getTrackCandidateFromFile",(function(){return g})),r.d(t,"getIntl",(function(){return I})),r.d(t,"getAlbumPreviewsByQuery",(function(){return L}))},function(e,t,r){e.exports={App__Wrapper:"App_App__Wrapper__ASYXS",App__Loader:"App_App__Loader__1IMm1"}},function(e,t,r){e.exports={FixedPanel__Wrapper:"FixedPanel_FixedPanel__Wrapper__3plmL",FixedPanel__Wrapper_top:"FixedPanel_FixedPanel__Wrapper_top__3XQan",FixedPanel__Wrapper_bottom:"FixedPanel_FixedPanel__Wrapper_bottom__6x-OT"}},,function(e,t,r){e.exports={SquareButton__Button:"SquareButton_SquareButton__Button__3HxaT",SquareButton__Button_toggledOn:"SquareButton_SquareButton__Button_toggledOn__3Q3xt"}},,,function(e,t,r){e.exports={ShareAlbumPage__Loader:"ShareAlbumPage_ShareAlbumPage__Loader__kpuK-",ShareAlbumPage__Spinner:"ShareAlbumPage_ShareAlbumPage__Spinner__1xDtI",rotate:"ShareAlbumPage_rotate__cz8GV"}},function(e,t,r){e.exports={RootFallback__Wrapper:"App_RootFallback__Wrapper__1Qq9-",RootFallback__Text:"App_RootFallback__Text__1LOAG"}},,,,,,,,function(e,t,r){e.exports={Spinner:"Spinner_Spinner__1Ixeu",rotate:"Spinner_rotate__2rLdB"}},function(e,t,r){e.exports={LoadMoreButton:"LoadMoreButton_LoadMoreButton__3lXrb"}},function(e,t,r){e.exports={RoundButton__Button:"RoundButton_RoundButton__Button__1bepb"}},function(e,t,r){e.exports={ThemeProvider__Wrapper:"ThemeProvider_ThemeProvider__Wrapper__2aOTm"}},,function(e,t,r){e.exports=r(76)},function(e,t,r){},,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var a=r(42);r.d(t,"productionService",(function(){return a}))},function(e,t,r){"use strict";r.r(t);r(64);var a=r(0),n=r.n(a),l=r(53),o=r.n(l),c=r(38),u=r(42),i=a.createContext(u),s=r(2),_=r(54),m=a.createContext((function(e){0})),d=Object(_.createEventBoundary)(m),p=a.createContext(null),f={activeScreen:"LOADING",intl:null},E=function(e,t){switch(t.type){case"GET_INTL":return"RESOLVED"===t.status?{intl:t.payload,activeScreen:"PLAYER"}:e;default:return e}},b=function(e){var t=e.children,r=a.useReducer(E,f),n=Object(s.a)(r,2),l=n[0],o=n[1];return a.createElement(d,{handler:o},a.createElement(p.Provider,{value:l},t))},v=a.createContext({primaryControls:"OVERVIEW",secondaryControls:"PLAYBACK",playlist:[],playingTrackId:null,audioStatus:"PAUSED"}),A=r(1),y=r(16),O=function(e){var t=e.playlist.findIndex((function(t){return t.id===e.playingTrackId}));if(t>-1){var r=e.playlist[t+1];return r?r.id:null}throw new TypeError};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={primaryControls:"OVERVIEW",secondaryControls:"PLAYBACK",playlist:[],playingTrackId:null,audioStatus:"PAUSED"},T=function(e,t){switch(t.type){case"FEED_ALBUM__ADD_TO_PLAYLIST":return 0===t.payload.length?e:P({},e,{playlist:[].concat(Object(A.a)(e.playlist),Object(A.a)(t.payload)),playingTrackId:null===e.playingTrackId?t.payload[0].id:e.playingTrackId});case"FEED_ALBUM__PLAY":return 0===t.payload.length?e:P({},e,{playlist:Object(A.a)(t.payload),playingTrackId:t.payload[0].id,audioStatus:"PENDING"});case"AUDIO__WAITING":return P({},e,{audioStatus:"PENDING"});case"AUDIO__PLAYING":case"PLAYBACK_CONTROLS__PLAY":return P({},e,{audioStatus:"PLAYING"});case"AUDIO__PAUSED":case"PLAYBACK_CONTROLS__PAUSE":return P({},e,{audioStatus:"PAUSED"});case"AUDIO__ENDED":var r=O(e),a=e.playlist[0].id;return P({},e,{playingTrackId:null!==r?r:a,audioStatus:null!==r?"PLAYING":"PAUSED"});case"AUDIO__FAILED":return P({},e,{audioStatus:"FAILED"});case"PLAYLIST_CONTROLS__PLAY_NEXT":var n=O(e),l=e.playlist[0].id;return P({},e,{playingTrackId:null!==n?n:l});case"PLAYLIST_CONTROLS__PLAY_PREVIOUS":var o=function(e){var t=e.playlist.findIndex((function(t){return t.id===e.playingTrackId}));if(t>-1){var r=e.playlist[t-1];return r?r.id:null}throw new TypeError}(e),c=e.playlist[0].id;return P({},e,{playingTrackId:null!==o?o:c});case"PLAYLIST_TRACK__PLAY":return P({},e,{playingTrackId:t.payload,audioStatus:"PENDING"});case"PLAYLIST_TRACK__REMOVE":var u=e.playlist.filter((function(e){return e.id!==t.payload}));return 0===u.length?P({},h):e.playingTrackId===t.payload?P({},e,{playlist:u,playingTrackId:O(e)}):P({},e,{playlist:u});case"PLAYLIST_POPUP__CLEAR":return P({},h);case"OVERVIEW_CONTROLS__OPEN_SEARCH":return P({},e,{primaryControls:"SEARCH"});case"SEARCH_CONTROLS__SUBMIT":case"SEARCH_CONTROLS__CANCEL":return P({},e,{primaryControls:"OVERVIEW"});case"PLAYLIST_CONTROLS__CLOSE":return P({},e,{secondaryControls:"PLAYBACK"});case"PLAYBACK_CONTROLS__OPEN_PLAYLIST":return P({},e,{secondaryControls:"PLAYLIST"});default:return e}},C=function(e){var t=e.children,r=a.useReducer(T,h),n=Object(s.a)(r,2),l=n[0],o=n[1];return a.createElement(d,{handler:o},a.createElement(v.Provider,{value:l},t))},I=function(){return n.a.useContext(i)},L=r(55).usePromise,S=function(){return n.a.useContext(m)};function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var N=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),D=n.a.createElement("path",{d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}),w=function(e){var t=e.svgRef,r=e.title,a=R(e,["svgRef","title"]);return n.a.createElement("svg",k({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,N,D)},j=n.a.forwardRef((function(e,t){return n.a.createElement(w,k({svgRef:t},e))})),B=(r.p,j),x="APP__WRAPPER",F="APP__LOADER",M="PAGE_WRAPPER",U="PAGE_LOADER",W="HEADER__PANEL",G="HEADER__SEARCH_BUTTON",V="HEADER__NAVIGATION_BUTTON",H="PLAYER_NAVIGATION__POPUP",Y="PLAYER_NAVIGATION__LATEST_ALBUMS_LINK",z="PLAYER_NAVIGATION__SHARE_ALBUM_LINK",K="SEARCH_BAR__INPUT",Z="SEARCH_BAR__FORM",q="SEARCH_BAR__CLEAR_BUTTON",Q="LATEST_LABUMS_PAGE__FALLBACK",J="LATEST_LABUMS_PAGE__FEED",X="LATEST_LABUMS_PAGE__LOAD_MORE_BUTTON",$="LATEST_LABUMS_PAGE__FEED_LOADER",ee="SEARCH_ALBUMS_PAGE__TITLE",te="SEARCH_ALBUMS_PAGE__SUB_TITLE",re="SEARCH_ALBUMS_PAGE__LOADER",ae="SEARCH_ALBUMS_PAGE__FEED",ne="SEARCH_ALBUMS_PAGE__NEW_RESULTS_BUTTON",le="SEARCH_ALBUMS_PAGE__FALLBACK_BUTTON",oe="FEED_ALBUM_WRAPPER",ce="SHARE_ALBUM_PAGE__LOADER",ue="SHARE_ALBUM_PAGE__DROP_ZONE_INPUT",ie="SHARE_ALBUM_PAGE__DROP_ZONE_TEXT",se="SHARE_ALBUM_PAGE__ALBUM_EDITOR",_e="ALBUM_EDITOR__TITLE_INPUT",me="ALBUM_EDITOR__SUBMIT_BUTTON",de="ALBUM_EDITOR__CANCEL_BUTTON",pe="ALBUM_TRACK_EDITOR__WRAPPER",fe="ALBUM_TRACK_EDITOR__TITLE_INPUT",Ee="ALBUM_TRACK_EDITOR__TITLE_VALIDATION",be="ALBUM_TRACK_EDITOR__REMOVE_BUTTON",ve="ALBUM_ARTIST_EDITOR__ARTIST_NAME_INPUT",Ae="ALBUM_ARTIST_EDITOR__ARTIST_NAME_VALIDATION",ye="ALBUM_TRACKLIST__VALIDATION",Oe="ALBUM_TRACKLIST__TRACK_INPUT",ge=r(23),Pe=r(46),he=r.n(Pe),Te=function(e){var t=e.hasToggledOnIndicator,r=e.testId,n=Object(ge.a)(e,["hasToggledOnIndicator","testId"]);return a.createElement("button",Object.assign({},n,{className:"".concat(he.a.SquareButton__Button," ").concat(!0===t?he.a.SquareButton__Button_toggledOn:""),"data-testid":r}))},Ce=r(12),Ie="/latest",Le=function(){return"/latest"},Se="/search/:query",ke=function(e){return"/search/".concat(e)},Re="/share",Ne=function(){return"/share"};function De(e,t){a.useEffect((function(){var r=function(r){var a=e.current,n=r.target;n instanceof HTMLElement&&a instanceof HTMLElement&&!a.contains(n)&&t()};return window.addEventListener("click",r),function(){window.removeEventListener("click",r)}}),[e,t])}var we=r(6),je=r(44),Be=r.n(je),xe=function(e){var t=e.children,r=e.position,n=e.testId,l=function(){var e=Be.a.FixedPanel__Wrapper;if("top"===r)return"".concat(e," ").concat(Be.a.FixedPanel__Wrapper_top);if("bottom"===r)return"".concat(e," ").concat(Be.a.FixedPanel__Wrapper_bottom);throw new we.e}();return a.createElement("div",{className:l,"data-testid":n},t)},Fe=r(31),Me=r.n(Fe),Ue=function(e){var t=e.onOutsideClick,r=e.children,n=a.useRef(null);return De(n,t),a.createElement(xe,{position:"top"},a.createElement("div",{ref:n,className:Me.a.SearchControls__Wrapper},r))},We=function(e){return a.createElement("form",Object.assign({},e,{className:Me.a.SearchControls__Form,"data-testid":Z}))},Ge=function(e){return a.createElement("input",Object.assign({},e,{type:"text",autoFocus:!0,className:Me.a.SearchControls__Input,"data-testid":K}))},Ve=function(e){var t,r=a.useState(""),n=Object(s.a)(r,2),l=n[0],o=n[1],c=S(),u=Object(Ce.g)(),i=a.useCallback((function(e){var t=e.currentTarget.value;o(t)}),[]),_=a.useCallback((function(e){e.preventDefault(),u.push(ke(l)),c({type:"SEARCH_CONTROLS__SUBMIT",payload:l})}),[c,u,l]),m=a.useCallback((function(){c({type:"SEARCH_CONTROLS__CANCEL"})}),[c]);return t={Escape:m},a.useEffect((function(){var e=function(e){var r=t[e.key];r&&r(e)};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}})),a.createElement(Ue,{onOutsideClick:m},a.createElement(We,{onSubmit:_},a.createElement(Ge,{onChange:i,value:l})),a.createElement(Te,{testId:q,onClick:m},a.createElement(B,null)))};function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Ye(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ze=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Ke=n.a.createElement("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"}),Ze=function(e){var t=e.svgRef,r=e.title,a=Ye(e,["svgRef","title"]);return n.a.createElement("svg",He({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,ze,Ke)},qe=n.a.forwardRef((function(e,t){return n.a.createElement(Ze,He({svgRef:t},e))})),Qe=(r.p,qe);function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var $e=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),et=n.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),tt=function(e){var t=e.svgRef,r=e.title,a=Xe(e,["svgRef","title"]);return n.a.createElement("svg",Je({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,$e,et)},rt=n.a.forwardRef((function(e,t){return n.a.createElement(tt,Je({svgRef:t},e))})),at=(r.p,rt);function nt(e){var t=a.useContext(e);if(null===t)throw new we.c;return t}var lt=function(){return nt(p)},ot=function(){var e=lt().intl;if(e)return e;throw new we.c},ct=function(){return ot().dictionary},ut=r(39),it=r.n(ut),st=function(e){var t=e.children,r=e.onOutsideClick,n=a.useRef(null);return De(n,r),a.createElement("nav",{ref:n,"data-testid":H,className:it.a.PlayerNavigation__Popup},t)},_t=function(e){var t=e.text,r=e.to,n=e.testId,l=e.onClick;return a.createElement(c.b,{to:r,onClick:l,className:it.a.PlayerNavigation__Link,activeClassName:it.a.PlayerNavigation__Link_current,"data-testid":n},t)},mt=function(e){var t=e.onClose,r=ct().playerNavigation,n=r.latestAlbumsLinkText,l=r.shareAlbumLinkText;return a.createElement(st,{onOutsideClick:t},a.createElement(_t,{text:n,onClick:t,to:Le(),testId:Y}),a.createElement(_t,{text:l,onClick:t,to:Ne(),testId:z}))},dt=r(40),pt=r.n(dt),ft=function(e){var t=e.children;return a.createElement(xe,{position:"top",testId:W},a.createElement("div",{className:pt.a.OverviewControls__Wrapper},t))},Et=function(e){var t,r=e.children,n=e.mod;return"nav"===n&&(t=pt.a.OverviewControls__Group_nav),"search"===n&&(t=pt.a.OverviewControls__Group_search),a.createElement("div",{className:t},r)},bt=function(e){var t=a.useState(!1),r=Object(s.a)(t,2),n=r[0],l=r[1],o=S(),c=a.useCallback((function(){l(!0)}),[]),u=a.useCallback((function(){l(!1)}),[]),i=a.useCallback((function(){o({type:"OVERVIEW_CONTROLS__OPEN_SEARCH"})}),[o]);return a.createElement(ft,null,a.createElement(Et,{mod:"nav"},a.createElement(Te,{testId:V,onClick:c},a.createElement(Qe,null)),n&&a.createElement(mt,{onClose:u})),a.createElement(Et,{mod:"search"},a.createElement(Te,{testId:G,onClick:i},a.createElement(at,null))))},vt=n.a.createContext(null);function At(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?At(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):At(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ot={latestPage:1,loading:!1,albums:[],noMoreAlbums:!1},gt=function(e,t){switch(t.type){case"LATEST_ALBUMS_PAGE__LOAD_MORE":return yt({},e,{latestPage:e.latestPage+1});case"GET_ALBUM_PREVIEWS_FEED":return"PENDING"===t.status?yt({},e,{loading:!0}):"RESOLVED"===t.status?yt({},e,{loading:!1,albums:[].concat(Object(A.a)(e.albums),Object(A.a)(t.payload.items)),noMoreAlbums:t.payload.lastPageFlag}):"REJECTED"===t.status?yt({},e,{loading:!1}):e;default:return e}},Pt=function(e){var t=e.children,r=a.useReducer(gt,Ot),n=Object(s.a)(r,2),l=n[0],o=n[1];return a.createElement(d,{handler:o},a.createElement(vt.Provider,{value:l},t))},ht=r(33),Tt=r.n(ht),Ct=function(e){var t=e.children,r=e.centered,n=e.hasCompactView;return a.createElement("main",{className:"".concat(Tt.a.Page__Wrapper," ").concat(!0===r?Tt.a.Page__Wrapper_centered:""," ").concat(!0===n?Tt.a.Page__Wrapper_compact:""),"data-testid":M},t)};function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Lt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var St=n.a.createElement("path",{fill:"none",d:"M.01 0h24v24h-24V0z"}),kt=n.a.createElement("path",{d:"M12 4V2.21c0-.45-.54-.67-.85-.35l-2.8 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.32.31.86.09.86-.36V6c3.31 0 6 2.69 6 6 0 .79-.15 1.56-.44 2.25-.15.36-.04.77.23 1.04.51.51 1.37.33 1.64-.34.37-.91.57-1.91.57-2.95 0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-.79.15-1.56.44-2.25.15-.36.04-.77-.23-1.04-.51-.51-1.37-.33-1.64.34C4.2 9.96 4 10.96 4 12c0 4.42 3.58 8 8 8v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79c-.31-.31-.85-.09-.85.36V18z"}),Rt=function(e){var t=e.svgRef,r=e.title,a=Lt(e,["svgRef","title"]);return n.a.createElement("svg",It({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,St,kt)},Nt=n.a.forwardRef((function(e,t){return n.a.createElement(Rt,It({svgRef:t},e))})),Dt=(r.p,Nt),wt=r(58),jt=r.n(wt),Bt=function(){return n.a.createElement(Dt,{className:jt.a.Spinner})},xt=function(){return n.a.createElement("div",{className:Tt.a.Page__Loader,"data-testid":U},n.a.createElement(Bt,null))},Ft=function(){return n.a.useContext(v)},Mt=function(e){var t=e.children,r=e.centered,n=e.hasLoader,l=null!==Ft().playingTrackId;return a.createElement(Ct,{hasCompactView:l,centered:!0===r||!0===n},!0===n?a.createElement(xt,null):t)},Ut=r(59),Wt=r.n(Ut),Gt=function(e){var t=e.onClick,r=e.disabled,n=e.hasLoader,l=e.text,o=e.buttonTestId,c=e.loaderTestId;return a.createElement("button",{className:Wt.a.LoadMoreButton,"data-testid":o,onClick:t,disabled:r},!0===n?a.createElement("div",{"data-testid":c},a.createElement(Bt,null)):l)};function Vt(){return(Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Ht(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Yt=n.a.createElement("path",{d:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z"}),zt=function(e){var t=e.svgRef,r=e.title,a=Ht(e,["svgRef","title"]);return n.a.createElement("svg",Vt({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Yt)},Kt=n.a.forwardRef((function(e,t){return n.a.createElement(zt,Vt({svgRef:t},e))})),Zt=(r.p,Kt);function qt(){return(qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Qt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Jt=n.a.createElement("path",{d:"M13 10H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm0-4H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm5 8v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-3c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3zM3 16h6c.55 0 1-.45 1-1s-.45-1-1-1H3c-.55 0-1 .45-1 1s.45 1 1 1z"}),Xt=function(e){var t=e.svgRef,r=e.title,a=Qt(e,["svgRef","title"]);return n.a.createElement("svg",qt({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Jt)},$t=n.a.forwardRef((function(e,t){return n.a.createElement(Xt,qt({svgRef:t},e))})),er=(r.p,$t),tr=r(24),rr=r.n(tr),ar=function(e){var t=e.children;return a.createElement("div",{className:rr.a.AlbumCover__Wrapper},t)},nr=function(e){var t=e.src;return a.createElement("img",{alt:"TODO",src:t,className:rr.a.AlbumCover__Image})},lr=function(e){var t=e.children;return a.createElement("div",{className:rr.a.AlbumCover__Actions},t)},or=function(e){var t=e.children,r=e.onClick;return a.createElement("button",{className:rr.a.AlbumCover__Button,onClick:r},t)},cr=function(e){var t=e.imageSrc,r=e.onAddToPlaylist,a=e.onPlay;return n.a.createElement(ar,null,n.a.createElement(nr,{src:t}),n.a.createElement(lr,null,n.a.createElement(or,{onClick:r},n.a.createElement(er,null)),n.a.createElement(or,{onClick:a},n.a.createElement(Zt,null))))},ur=r(25),ir=r.n(ur),sr=function(e){return a.createElement("div",Object.assign({className:ir.a.FeedAlbum__Wrapper},e,{"data-testid":oe}))},_r=function(e){return a.createElement("div",{className:ir.a.FeedAlbum__Info},e.children)},mr=function(e){return a.createElement("div",{className:ir.a.FeedAlbum__Title},e.children)},dr=function(e){return a.createElement("div",{className:ir.a.FeedAlbum__Artist},e.children)},pr=function(e){var t=e.data,r=S(),n=I().getTrackPreviewsByAlbumId,l=t.title,o=t.artistName,c=t.coverSrc,u=t.id,i=a.useCallback((function(){n(u).then((function(e){r({type:"FEED_ALBUM__ADD_TO_PLAYLIST",payload:e})}))}),[r,n,u]),s=a.useCallback((function(){n(u).then((function(e){r({type:"FEED_ALBUM__PLAY",payload:e})}))}),[r,n,u]);return a.createElement(sr,null,a.createElement(cr,{imageSrc:c,onAddToPlaylist:i,onPlay:s}),a.createElement(_r,null,a.createElement(mr,null,l),a.createElement(dr,null,o)))},fr=r(34),Er=r.n(fr),br=function(e){var t=e.children,r=e.mod,n=a.useMemo((function(){switch(r){case"feed":return J;default:return null}}),[r]),l=a.useMemo((function(){switch(r){case"feed":return Er.a.LatestAlbumsPage__Wrapper_feed;default:return""}}),[r]),o="".concat(Er.a.LatestAlbumsPage__Wrapper," ").concat(l);return a.createElement("div",{className:o,"data-testid":n},t)},vr=function(e){var t=e.text,r=e.mod,n=a.useMemo((function(){switch(r){case"fallback":return Q;default:return null}}),[r]),l=a.useMemo((function(){switch(r){case"fallback":return Er.a.LatestAlbumsPage__Text_fallback;default:return""}}),[r]),o="".concat(Er.a.LatestAlbumsPage__Text," ").concat(l);return a.createElement("div",{className:o,"data-testid":n},t)},Ar=function(e){var t=e.hasLoadMoreButton,r=e.hasPageLoader,n=e.hasFeed,l=e.hasFeedLoader,o=e.hasFallback,c=e.albums,u=e.fallbackText,i=e.loadMoreButtonText,s=e.onLoadMoreButtonClick,_=a.useMemo((function(){return c.map((function(e){return a.createElement(pr,{data:e,key:e.id})}))}),[c]);return a.createElement(Mt,{hasLoader:r,centered:o},n&&a.createElement(br,{mod:"feed"},_),o&&a.createElement(vr,{mod:"fallback",text:u}),t&&a.createElement(Gt,{text:i,hasLoader:l,onClick:s,buttonTestId:X,loaderTestId:$}))},yr=function(e){var t=function(){var e=I().getAlbumPreviewsFeed,t=L(),r=Object(s.a)(t,2),n=r[0],l=r[1],o=S();return a.useEffect((function(){n&&n.pending&&o({type:"GET_ALBUM_PREVIEWS_FEED",status:"PENDING"})}),[o,n]),a.useEffect((function(){if(n&&n.value){var e=n.value,t=e.items,r=e.lastPageFlag;o({type:"GET_ALBUM_PREVIEWS_FEED",status:"RESOLVED",payload:{items:t,lastPageFlag:r}})}}),[o,n]),a.useEffect((function(){n&&n.error&&o({type:"GET_ALBUM_PREVIEWS_FEED",status:"REJECTED",payload:n.error})}),[o,n]),a.useCallback((function(t){l(e({startPage:t}))}),[e,l])}(),r=ct().latestAlbumsPage,n=r.fallbackText,l=r.loadMoreButtonText,o=S(),c=nt(vt),u=c.albums,i=c.loading,_=c.latestPage,m=c.noMoreAlbums;a.useEffect((function(){null!==_&&t(_)}),[t,_]);var d=1===_&&i,p=u.length>0,f=u.length>0&&i,E=0===u.length&&m,b={hasLoadMoreButton:u.length>0&&!m,hasPageLoader:d,hasFeed:p,hasFeedLoader:f,hasFallback:E,albums:u,fallbackText:n,loadMoreButtonText:l,onLoadMoreButtonClick:a.useCallback((function(){i||o({type:"LATEST_ALBUMS_PAGE__LOAD_MORE"})}),[o,i])};return a.createElement(Ar,b)},Or=function(){return n.a.createElement(Pt,null,n.a.createElement(yr,null))},gr=a.createContext(null),Pr=function(e){var t=e.title,r=e.cover,a=e.tracklist,n=[];return t||n.push({type:"TITLE_REQUIRED"}),r||n.push({type:"COVER_REQUIRED"}),0===a.length&&n.push({type:"EMPTY_TRACKLIST"}),a.forEach((function(e){e.title||n.push({type:"EMPTY_TRACK_TITLE",payload:e.id}),1!==e.artists.length||e.artists[0].name||n.push({type:"EMPTY_TRACK_ARTISTS",payload:e.id})})),n};function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hr(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Cr=function e(t){return{done:function(){return t},addTracks:function(r){var a=Tr({},t,{tracklist:[].concat(Object(A.a)(t.tracklist),Object(A.a)(r))});return e(a)},removeTrack:function(r){var a=t.tracklist.filter((function(e){return e.id!==r})),n=Tr({},t,{tracklist:a});return e(n)},setTrackTitle:function(r){var a=r.trackId,n=r.value,l=t.tracklist.reduce((function(e,t){if(t.id===a){var r=Tr({},t,{title:n});return[].concat(Object(A.a)(e),[r])}return[].concat(Object(A.a)(e),[t])}),[]),o=Tr({},t,{tracklist:l});return e(o)},addRawArtists:function(){var r=t.tracklist.map((function(e){var t=e.artists,r=t[t.length-1];return!r||r.name?Tr({},e,{artists:[].concat(Object(A.a)(t),[{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),name:""}])}):e})),a=Tr({},t,{tracklist:r});return e(a)},removeArtist:function(r){var a=r.trackId,n=r.artistId,l=t.tracklist.reduce((function(e,t){if(t.id===a){var r=t.artists.filter((function(e){return e.id!==n})),l=Tr({},t,{artists:r});return[].concat(Object(A.a)(e),[l])}return[].concat(Object(A.a)(e),[t])}),[]),o=Tr({},t,{tracklist:l});return e(o)},setArtistName:function(r){var a=r.trackId,n=r.artistId,l=r.value,o=t.tracklist.reduce((function(e,t){if(t.id===a){var r=t.artists.reduce((function(e,t){if(t.id===n){var r=Tr({},t,{name:l});return[].concat(Object(A.a)(e),[r])}return[].concat(Object(A.a)(e),[t])}),[]),o=Tr({},t,{artists:r});return[].concat(Object(A.a)(e),[o])}return[].concat(Object(A.a)(e),[t])}),[]),c=Tr({},t,{tracklist:o});return e(c)},moveTrack:function(r){var a=r.trackId,n=r.direction,l=t.tracklist,o=l.findIndex((function(e){return e.id===a})),c=Object(A.a)(l),u="DOWN"===n?o+1:o-1,i=[c[u],c[o]];c[o]=i[0],c[u]=i[1];var s=Tr({},t,{tracklist:c});return e(s)}}};function Ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ir(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ir(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Sr={screen:"SELECTING_FILES",files:null,albumFormData:null,albumFormValidation:[],didSucceed:!1,submited:!1,error:null},kr=function(e,t){switch(t.type){case"ALBUM_EDITOR__TITLE_CHANGE":if(e.albumFormData){var r=Lr({},e.albumFormData,{title:t.payload});return Lr({},e,{albumFormData:r,albumFormValidation:Pr(r)})}return e;case"ALBUM_COVER_EDITOR__FILE_RECIEVED":if(e.albumFormData){var a=Lr({},e.albumFormData,{cover:t.payload});return Lr({},e,{albumFormData:a,albumFormValidation:Pr(a)})}return e;case"ALBUM_TRACK_EDITOR__MOVE_UP":if(e.albumFormData){var n=Cr(e.albumFormData).moveTrack({trackId:t.payload,direction:"UP"}).done();return Lr({},e,{albumFormData:n,albumFormValidation:Pr(n)})}return e;case"ALBUM_TRACK_EDITOR__MOVE_DOWN":if(e.albumFormData){var l=Cr(e.albumFormData).moveTrack({trackId:t.payload,direction:"DOWN"}).done();return Lr({},e,{albumFormData:l,albumFormValidation:Pr(l)})}return e;case"ALBUM_TRACK_EDITOR__TITLE_CHANGE":if(e.albumFormData){var o=t.payload,c=o.trackId,u=o.value,i=Cr(e.albumFormData).setTrackTitle({trackId:c,value:u}).done();return Lr({},e,{albumFormData:i,albumFormValidation:Pr(i)})}return e;case"ALBUM_TRACK_EDITOR__ARTIST_CHANGE":if(e.albumFormData){var s=t.payload,_=s.trackId,m=s.artistId,d=s.value,p=e.albumFormData;return Lr({},e,{albumFormData:p=d?Cr(p).setArtistName({trackId:_,artistId:m,value:d}).addRawArtists().done():Cr(p).removeArtist({trackId:_,artistId:m}).addRawArtists().done(),albumFormValidation:Pr(p)})}return e;case"ALBUM_TRACK_EDITOR__REMOVE":if(e.albumFormData){var f=Cr(e.albumFormData).removeTrack(t.payload).done();return Lr({},e,{albumFormData:f,albumFormValidation:Pr(f)})}return e;case"ALBUM_EDITOR__CANCEL":return Lr({},e,{screen:"SELECTING_FILES",albumFormData:null,albumFormValidation:[]});case"GET_ALBUM_CANDIDATE_FROM_FILES":if("PENDING"===t.status)return"SELECTING_FILES"===e.screen?Lr({},e,{screen:"LOADING"}):e;if("RESOLVED"===t.status){if(e.albumFormData){var E=e.albumFormData,b=Cr(E).addTracks(t.payload.tracklist).addRawArtists().done();return Lr({},e,{files:null,albumFormData:b,albumFormValidation:Pr(b)})}var v=Cr(t.payload).addRawArtists().done();return Lr({},e,{files:null,screen:"EDITING_ALBUM",albumFormData:v,albumFormValidation:Pr(v),didSucceed:!1,error:null})}return"REJECTED"===t.status?Lr({},e,{screen:"SELECTING_FILES",albumFormData:null,albumFormValidation:[],didSucceed:!1,submited:!1,error:t.payload}):e;case"SUBMIT_ALBUM_CANDIDATE":return"PENDING"===t.status?Lr({},e,{screen:"LOADING"}):"RESOLVED"===t.status?Lr({},e,{screen:"SELECTING_FILES",albumFormData:null,albumFormValidation:[],didSucceed:!0,submited:!1}):"REJECTED"===t.status?Lr({},e,{screen:"SELECTING_FILES",albumFormData:null,albumFormValidation:[],didSucceed:!1,submited:!1,error:t.payload}):e;case"ALBUM_EDITOR__SUBMIT":return Lr({},e,{submited:!0});case"DROP_ZONE__FILES_RECIEVED":case"ALBUM_AUDIO_EDITOR__TRACKS_RECIEVED":return Lr({},e,{files:t.payload});default:return e}},Rr=function(e){var t=e.children,r=a.useReducer(kr,Sr),n=Object(s.a)(r,2),l=n[0],o=n[1];return a.createElement(d,{handler:o},a.createElement(gr.Provider,{value:l},t))},Nr=function(){return nt(gr)},Dr=function(){var e=Nr().albumFormData;if(!e)throw new we.c;return e},wr=function(){return Nr().albumFormValidation};function jr(){return(jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Br(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var xr=n.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"}),Fr=function(e){var t=e.svgRef,r=e.title,a=Br(e,["svgRef","title"]);return n.a.createElement("svg",jr({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,xr)},Mr=n.a.forwardRef((function(e,t){return n.a.createElement(Fr,jr({svgRef:t},e))})),Ur=(r.p,Mr),Wr=r(17),Gr=r.n(Wr),Vr=function(e){var t=e.children;return a.createElement("label",{className:Gr.a.AlbumCoverEditor__Wrapper},t)},Hr=function(e){var t=e.onFileChange,r=e.errorMessage,n=void 0===r?"":r,l=a.useRef(null),o=a.useCallback((function(e){var r=e.currentTarget.files;r instanceof FileList&&(t(r[0]),e.currentTarget.value="")}),[t]);return a.useEffect((function(){var e=l.current;e&&e.setCustomValidity(n)}),[n]),a.createElement("input",{ref:l,className:Gr.a.AlbumCoverEditor__Input,type:"file",name:"cover",onChange:o})},Yr=function(e){return a.createElement("div",Object.assign({className:Gr.a.AlbumCoverEditor__Preview},e))},zr=function(e){var t=e.src;return a.createElement("img",{src:t,className:Gr.a.AlbumCoverEditor__Image,alt:"cover"})},Kr=function(e){var t=e.text;return a.createElement("div",{className:Gr.a.AlbumCoverEditor__Error},t)},Zr=function(){var e=S(),t=function(){var e=Dr(),t=wr(),r=ct().albumCoverEditor.missingCoverValidationText;return{value:e.cover,errorMessage:t.reduce((function(e,t){switch(t.type){case"COVER_REQUIRED":return r;default:return e}}),void 0)}}(),r=t.value,l=t.errorMessage,o=a.useCallback((function(t){e({type:"ALBUM_COVER_EDITOR__FILE_RECIEVED",payload:t})}),[e]),c=function(e){var t=n.a.useMemo((function(){return e?URL.createObjectURL(e):null}),[e]);return n.a.useEffect((function(){if(null!==t)return function(){URL.revokeObjectURL(t)}}),[t]),t}(r);return a.createElement(Vr,null,a.createElement(Hr,{errorMessage:l,onFileChange:o}),a.createElement(Yr,null,null!==c&&void 0===l?a.createElement(zr,{src:c}):a.createElement(Ur,null)),void 0!==l&&a.createElement(Kr,{text:l}))},qr=r(9),Qr=r.n(qr),Jr=function(e){var t=e.children,r=e.onSubmit,n=a.useCallback((function(e){e.preventDefault(),r()}),[r]);return a.createElement("form",{className:Qr.a.AlbumEditor__Wrapper,"data-testid":se,onSubmit:n},t)},Xr=function(e){var t=e.children;return a.createElement("div",{className:Qr.a.AlbumEditor__Footer},t)},$r=function(e){var t=e.children,r=e.submit,n=e.testId,l=e.onClick;return a.createElement("button",{onClick:l,className:"".concat(Qr.a.AlbumEditor__Button," ").concat(!0===r?Qr.a.AlbumEditor__Button_primary:Qr.a.AlbumEditor__Button_secondary),type:!0===r?"submit":"button","data-testid":n},t)},ea=function(e){var t=e.children;return a.createElement("div",{className:Qr.a.AlbumEditor__Fieldset},t)},ta=function(e){var t=e.text;return a.createElement("div",{className:Qr.a.AlbumEditor__FieldsetTitle},t)},ra=function(e){var t=e.children,r=e.withPadding;return a.createElement("div",{className:"".concat(Qr.a.AlbumEditor__FieldsetBody," ").concat(!0===r?Qr.a.AlbumEditor__FieldsetBody_padding:"")},t)};function aa(){return(aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function na(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var la=n.a.createElement("path",{d:"M8.12 14.71L12 10.83l3.88 3.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41 0L6.7 13.3c-.39.39-.39 1.02 0 1.41.39.38 1.03.39 1.42 0z"}),oa=function(e){var t=e.svgRef,r=e.title,a=na(e,["svgRef","title"]);return n.a.createElement("svg",aa({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,la)},ca=n.a.forwardRef((function(e,t){return n.a.createElement(oa,aa({svgRef:t},e))})),ua=(r.p,ca);function ia(){return(ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function sa(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var _a=n.a.createElement("path",{d:"M8.12 9.29L12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7c-.39-.39-.39-1.02 0-1.41.39-.38 1.03-.39 1.42 0z"}),ma=function(e){var t=e.svgRef,r=e.title,a=sa(e,["svgRef","title"]);return n.a.createElement("svg",ia({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,_a)},da=n.a.forwardRef((function(e,t){return n.a.createElement(ma,ia({svgRef:t},e))})),pa=(r.p,da);function fa(){return(fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Ea(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ba=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),va=n.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"}),Aa=function(e){var t=e.svgRef,r=e.title,a=Ea(e,["svgRef","title"]);return n.a.createElement("svg",fa({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,ba,va)},ya=n.a.forwardRef((function(e,t){return n.a.createElement(Aa,fa({svgRef:t},e))})),Oa=(r.p,ya),ga=r(11),Pa=r.n(ga),ha=function(e){return a.createElement("div",Object.assign({},e,{className:Pa.a.AlbumTrackEditor__Wrapper,"data-testid":pe}))},Ta=function(e){var t=e.isDisabled,r=e.testId,n=Object(ge.a)(e,["isDisabled","testId"]);return a.createElement("button",Object.assign({},n,{type:"button",disabled:t,className:Pa.a.AlbumTrackEditor__Button,"data-testid":r}))},Ca=function(e){return a.createElement("div",Object.assign({},e,{className:Pa.a.AlbumTrackEditor__Controls}))},Ia=function(e){return a.createElement("div",Object.assign({},e,{className:Pa.a.AlbumTrackEditor__Common}))},La=r(41),Sa=r.n(La),ka=function(e){var t=e.validationMessage,r=void 0===t?"":t,n=e.inputTestId,l=e.validationTestId,o=Object(ge.a)(e,["validationMessage","inputTestId","validationTestId"]),c=a.useRef(null);return a.useEffect((function(){var e=c.current;e&&e.setCustomValidity(r)}),[r]),a.createElement("label",{className:Sa.a.FloatingLabelInput__Wrapper},a.createElement("input",Object.assign({},o,{ref:c,className:Sa.a.FloatingLabelInput__Input,"data-testid":n})),a.createElement("span",{className:Sa.a.FloatingLabelInput__Placeholder},o.placeholder),a.createElement("small",{className:Sa.a.FloatingLabelInput__ValidationMessage,"data-testid":l},r))},Ra=function(e){var t=e.trackId,r=ct().albumTrackEditor.titleInputPlaceholderText,n=function(e){var t=Dr().tracklist,r=ct().albumTrackEditor.missingTitleValidationText,a=wr(),n=t.find((function(t){return t.id===e}));if(!n)throw new TypeError;return{value:n.title,validationMessage:a.reduce((function(t,a){return"EMPTY_TRACK_TITLE"===a.type&&a.payload===e?r:t}),void 0)}}(t),l=n.value,o=n.validationMessage,c=S(),u=a.useCallback((function(e){var r=e.currentTarget.value;c({type:"ALBUM_TRACK_EDITOR__TITLE_CHANGE",payload:{value:r,trackId:t}})}),[c,t]);return a.createElement(ka,{inputTestId:fe,validationTestId:Ee,name:"title",value:l,validationMessage:o,placeholder:r,onChange:u})},Na=function(e){var t,r=e.trackId,n=e.artist,l=e.artistIndex,o=ct().albumTrackEditor,c=o.missingArtistNameValidationText,u=o.artistNameInputPlaceholderText,i=S(),s=(t={trackId:r,artistId:n.id},!wr().some((function(e){return"EMPTY_TRACK_ARTISTS"===e.type&&e.payload===t.trackId}))),_=a.useCallback((function(e){var t=e.currentTarget.value;i({type:"ALBUM_TRACK_EDITOR__ARTIST_CHANGE",payload:{trackId:r,artistId:n.id,value:t}})}),[n.id,i,r]),m=s?void 0:c;return a.createElement(ka,{inputTestId:ve,validationTestId:Ae,key:n.id,name:"name",value:n.name,validationMessage:m,placeholder:u(l+1),onChange:_})};function Da(){return(Da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function wa(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ja=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Ba=n.a.createElement("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.41l-4.83-4.83c-.37-.38-.88-.59-1.41-.59H6zm7 6V3.5L18.5 9H14c-.55 0-1-.45-1-1z"}),xa=function(e){var t=e.svgRef,r=e.title,a=wa(e,["svgRef","title"]);return n.a.createElement("svg",Da({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,ja,Ba)},Fa=n.a.forwardRef((function(e,t){return n.a.createElement(xa,Da({svgRef:t},e))})),Ma=(r.p,Fa),Ua=function(e){var t=e.text;return a.createElement("div",{className:Pa.a.AlbumTrackEditor__FileInfo},a.createElement(Ma,{className:Pa.a.AlbumTrackEditor__FileIcon}),a.createElement("span",{className:Pa.a.AlbumTrackEditor__FileName},t))},Wa=function(e){var t=e.trackId,r=function(e){var t=Dr().tracklist.find((function(t){return t.id===e}));if(!t)throw new we.c;return t}(t),n=a.useMemo((function(){return r.artists.map((function(e,r){return a.createElement(Na,{key:e.id,trackId:t,artist:e,artistIndex:r})}))}),[r.artists,t]);return a.createElement(Ia,null,a.createElement(Ua,{text:r.audio.name}),a.createElement(Ra,{trackId:t}),n)},Ga=function(e){var t=e.trackId,r=e.moveDownDisabled,n=e.moveUpDisabled,l=S(),o=a.useCallback((function(){l({type:"ALBUM_TRACK_EDITOR__REMOVE",payload:t})}),[l,t]),c=a.useCallback((function(){l({type:"ALBUM_TRACK_EDITOR__MOVE_UP",payload:t})}),[l,t]),u=a.useCallback((function(){l({type:"ALBUM_TRACK_EDITOR__MOVE_DOWN",payload:t})}),[l,t]);return a.createElement(ha,null,a.createElement(Wa,{trackId:t}),a.createElement(Ca,null,a.createElement(Ta,{isDisabled:n,onClick:c},a.createElement(ua,null)),a.createElement(Ta,{isDisabled:r,onClick:u},a.createElement(pa,null)),a.createElement(Ta,{onClick:o,testId:be},a.createElement(Oa,null))))},Va=r(26),Ha=r.n(Va),Ya=function(e){var t=e.onFilesChange,r=e.validationMessage,n=void 0===r?"":r,l=a.useRef(null),o=a.useCallback((function(e){var r=e.currentTarget.files;r&&t(r)}),[t]);return a.useEffect((function(){var e=l.current;e&&e.setCustomValidity(n)}),[n]),a.createElement("input",{ref:l,className:Ha.a.AlbumAudioEditor__Input,type:"file",name:"tracks",onChange:o})},za=function(e){var t=e.children;return a.createElement("label",{className:Ha.a.AlbumAudioEditor__Wrapper},t)},Ka=function(e){var t=e.text,r=e.validationMessage,n=e.validationTestId;return a.createElement("div",{className:Ha.a.AlbumAudioEditor__Label},a.createElement("div",{className:Ha.a.AlbumAudioEditor__Text},t),a.createElement("small",{className:Ha.a.AlbumAudioEditor__Error,"data-testid":n},r))},Za=function(){var e=ct().albumAudioEditor,t=e.missingAudioValidationText,r=e.labelText,n=S(),l=!wr().some((function(e){return"EMPTY_TRACKLIST"===e.type})),o=a.useMemo((function(){if(!l)return t}),[t,l]),c=a.useCallback((function(e){var t=Object(A.a)(e);n({type:"ALBUM_AUDIO_EDITOR__TRACKS_RECIEVED",payload:t})}),[n]);return a.createElement(za,null,a.createElement(Ya,{validationMessage:o,onFilesChange:c,testId:Oe}),a.createElement(Ka,{text:r,validationMessage:o,validationTestId:ye}))},qa=function(){var e=ct().albumEditor.tracklistFieldsetTitleText,t=Dr().tracklist,r=a.useMemo((function(){return t.map((function(e,t,r){return a.createElement(Ga,{key:e.id,trackId:e.id,moveUpDisabled:0===t,moveDownDisabled:t===r.length-1})}))}),[t]);return a.createElement(ea,null,a.createElement(ta,{text:e}),a.createElement(ra,null,r),a.createElement(Za,null))},Qa=function(){var e=ct().albumEditor,t=e.aboutFieldsetTitleText,r=e.albumTitleInputPlaceholderText,n=S(),l=function(){var e=Dr(),t=wr();return{value:e.title,errorMessage:t.reduce((function(e,t){return"TITLE_REQUIRED"===t.type?"Title is required":e}),void 0)}}(),o=l.value,c=l.errorMessage,u=a.useCallback((function(e){n({type:"ALBUM_EDITOR__TITLE_CHANGE",payload:e.currentTarget.value})}),[n]);return a.createElement(ea,null,a.createElement(ta,{text:t}),a.createElement(ra,{withPadding:!0},a.createElement(ka,{name:"title",placeholder:r,value:o,validationMessage:c,onChange:u,inputTestId:_e})))},Ja=function(){var e=ct().albumEditor,t=e.submitButtonText,r=e.cancelButtonText,n=S(),l=a.useCallback((function(){n({type:"ALBUM_EDITOR__SUBMIT"})}),[n]),o=a.useCallback((function(){n({type:"ALBUM_EDITOR__CANCEL"})}),[n]);return a.createElement(Jr,{onSubmit:l},a.createElement(Zr,null),a.createElement(Qa,null),a.createElement(qa,null),a.createElement(Xr,null,a.createElement($r,{submit:!0,testId:me},t),a.createElement($r,{onClick:o,testId:de},r)))},Xa=r(14),$a=r.n(Xa),en=function(e){var t=e.children;return a.createElement("div",{className:$a.a.DropZone__Wrapper},t)},tn=function(e){var t=e.children;return a.createElement("label",{className:$a.a.DropZone__Label},t)},rn=function(e){var t=e.onFilesChange,r=a.useCallback((function(e){var r=e.currentTarget.files;r&&(t(r),e.currentTarget.value="")}),[t]);return a.createElement("input",{type:"file",multiple:!0,className:$a.a.DropZone__Input,onChange:r,"data-testid":ue})},an=function(e){var t=e.mainText,r=e.errorText,n=e.successText;return a.createElement("div",{className:$a.a.DropZone__Text,"data-testid":ie},void 0!==r&&a.createElement("div",{className:$a.a.DropZone__ErrorText},r),void 0!==n&&a.createElement("div",{className:$a.a.DropZone__SuccessText},n),a.createElement("div",{className:$a.a.DropZone__MainText},t))},nn=function(e){var t=e.errorText,r=e.successText,n=ct().dropZone.mainText,l=S(),o=a.useCallback((function(e){var t=Object(A.a)(e);l({type:"DROP_ZONE__FILES_RECIEVED",payload:t})}),[l]);return a.createElement(en,null,a.createElement(tn,null,a.createElement(rn,{onFilesChange:o}),a.createElement(an,{mainText:n,errorText:t,successText:r})))},ln=r(49),on=r.n(ln),cn=function(){return n.a.createElement("div",{className:on.a.ShareAlbumPage__Loader,"data-testid":ce},n.a.createElement(Dt,{className:on.a.ShareAlbumPage__Spinner}))},un=function(){var e=Nr(),t=e.screen,r=e.error,l=e.files,o=e.albumFormData,c=e.didSucceed,u=e.submited,i=function(){var e=L(),t=Object(s.a)(e,2),r=t[0],a=t[1],l=S();n.a.useLayoutEffect((function(){if(r){var e=r.pending,t=r.resolved,a=r.error;e&&l({type:"SUBMIT_ALBUM_CANDIDATE",status:"PENDING"}),t&&l({type:"SUBMIT_ALBUM_CANDIDATE",status:"RESOLVED",payload:null}),a&&l({type:"SUBMIT_ALBUM_CANDIDATE",status:"REJECTED",payload:a})}}),[l,r]);var o=I().submitAlbumCandidate;return n.a.useCallback((function(e){e&&a(o(e))}),[a,o])}();a.useEffect((function(){u&&o&&i(o)}),[o,i,u]);var _=function(){var e=I().getAlbumCandidateFromFiles,t=L({errorsToKeep:[we.a]}),r=Object(s.a)(t,2),a=r[0],l=r[1],o=S();return n.a.useLayoutEffect((function(){if(a){var e=a.pending,t=a.value,r=a.error;e&&o({type:"GET_ALBUM_CANDIDATE_FROM_FILES",status:"PENDING"}),t&&o({type:"GET_ALBUM_CANDIDATE_FROM_FILES",status:"RESOLVED",payload:t}),r&&o({type:"GET_ALBUM_CANDIDATE_FROM_FILES",status:"REJECTED",payload:r})}}),[o,a]),n.a.useCallback((function(t){l(e(t))}),[l,e])}();a.useEffect((function(){l&&_(l)}),[l,_]);var m=ct().shareAlbumPage.didSucceedText,d=r?r.message:void 0,p=c?m:void 0,f="LOADING"===t,E="SELECTING_FILES"===t,b="EDITING_ALBUM"===t;return a.createElement(Mt,{centered:f||E},f&&a.createElement(cn,null),b&&a.createElement(Ja,null),E&&a.createElement(nn,{errorText:d,successText:p}))},sn=function(){return n.a.createElement(Rr,null,n.a.createElement(un,null))},_n=n.a.createContext(null);function mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mn(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pn={failed:!1,albums:[],newAlbums:[]},fn=function(e,t){switch(t.type){case"GET_ALBUM_PREVIEWS_BY_QUERY":if("RESOLVED"===t.status){if(0===e.albums.length)return dn({},e,{albums:t.payload});var r=t.payload.filter((function(t){var r=t.id;return e.albums.some((function(e){return e.id!==r}))}));return dn({},e,{newAlbums:[].concat(Object(A.a)(e.newAlbums),Object(A.a)(r))})}return"REJECTED"===t.status?dn({},pn,{failed:!0}):e;case"SEARCH_ALBUMS_PAGE__RETRY":return dn({},e,{failed:!1});case"SEARCH_ALBUMS_PAGE__SHOW_NEW_RESULTS":return dn({},e,{albums:[].concat(Object(A.a)(e.newAlbums),Object(A.a)(e.albums)),newAlbums:[]});case"SEARCH_ALBUMS_PAGE__NEW_QUERY":return dn({},pn);default:return e}},En=function(e){var t=e.children,r=a.useReducer(fn,pn),n=Object(s.a)(r,2),l=n[0],o=n[1];return a.createElement(d,{handler:o},a.createElement(_n.Provider,{value:l},t))},bn=r(8),vn=r(5),An=r.n(vn),yn=function(e){var t=e.children;return a.createElement("div",{className:An.a.SearchAlbumsPage__Hero},t)},On=function(e){var t=e.text,r=e.testId,n=e.onClick;return a.createElement("button",{className:An.a.SearchAlbumsPage__Button,"data-testid":r,onClick:n},t)},gn=function(e){var t=e.children,r=e.screen,n=function(){var e=An.a.SearchAlbumsPage__Wrapper;switch(r){case"LOADING":return An.a.SearchAlbumsPage__Wrapper_loading;case"FALLBACK":return An.a.SearchAlbumsPage__Wrapper_fallback;case"HAS_RESULTS":return An.a.SearchAlbumsPage__Wrapper_hasResults;case"HAS_NEW_RESULTS":return An.a.SearchAlbumsPage__Wrapper_hasNewResults;default:return e}}();return a.createElement(Mt,null,a.createElement("div",{className:n},t))},Pn=function(e){var t=e.testId;return a.createElement("span",{className:An.a.SearchAlbumsPage__Loader,"data-testid":t},a.createElement(Bt,null))},hn=r(32),Tn=r.n(hn),Cn=function(e){var t=e.children,r=e.testId;return a.createElement("div",{className:Tn.a.AlbumsFeed__Wrapper,"data-testid":r},t)},In=function(e){var t=e.onClick,r=e.text;return a.createElement("button",{className:Tn.a.AlbumsFeed__Button,onClick:t},r)},Ln=function(e){var t=e.children;return a.createElement("div",{className:Tn.a.AlbumsFeed__Content},t)},Sn=function(e){var t=e.children,r=e.testId,n=e.onLoadMore;return a.createElement(Cn,{testId:r},a.createElement(Ln,null,t),n&&a.createElement(In,{onClick:n,text:"load more"}))},kn=function(e){var t=e.children,r=e.testId;return a.createElement(Sn,{testId:r},t)},Rn=function(e){var t=e.children;return a.createElement("div",{className:An.a.SearchAlbumsPage__Body},t)},Nn=function(e){var t=e.text,r=e.testId;return a.createElement("h1",{className:An.a.SearchAlbumsPage__Title,"data-testid":r},t)},Dn=function(e){var t=e.text,r=e.testId;return a.createElement("div",{className:An.a.SearchAlbumsPage__SubTitle,"data-testid":r},t)},wn=function(e){var t=e.screen,r=e.titleText,n=e.subTitleText,l=e.fallbackSubTitleText,o=e.newResultsButtonText,c=e.fallbackButtonText,u=e.feedItems,i=e.onNewResultsButtonClick,s=e.onFallbackButtonClick,_=a.useMemo((function(){return u.map((function(e){return a.createElement(pr,{data:e,key:e.id})}))}),[u]);return a.createElement(gn,{screen:t},a.createElement(yn,null,a.createElement(Nn,{text:r,testId:ee}),a.createElement(Dn,{text:"FALLBACK"===t?l:n,testId:te})),a.createElement(Rn,null,"LOADING"===t&&a.createElement(Pn,{testId:re}),"FALLBACK"===t&&a.createElement(On,{testId:le,text:c,onClick:s}),"HAS_NEW_RESULTS"===t&&a.createElement(On,{testId:ne,text:o,onClick:i}),("HAS_RESULTS"===t||"HAS_NEW_RESULTS"===t)&&a.createElement(kn,{testId:ae},_)))},jn=function(e){var t=e.searchInterval,r=ct().searchAlbumsPage,a=r.subTitleText,l=r.fallbackSubTitleText,o=r.newResultsButtonText,c=r.fallbackButtonText,u=function(){var e=Object(Ce.h)();if("string"===typeof e.query)return e.query;throw new we.b}(),i=S(),_=function(){var e=I().getAlbumPreviewsByQuery,t=L({errorsToKeep:[Error]}),r=Object(s.a)(t,2),a=r[0],l=r[1],o=S();return n.a.useEffect((function(){if(a){var e=a.pending,t=a.value,r=a.error;e&&o({type:"GET_ALBUM_PREVIEWS_BY_QUERY",status:"PENDING"}),t&&o({type:"GET_ALBUM_PREVIEWS_BY_QUERY",status:"RESOLVED",payload:t}),r&&o({type:"GET_ALBUM_PREVIEWS_BY_QUERY",status:"REJECTED",payload:r})}}),[o,a]),n.a.useCallback((function(t){return l(e(t))}),[l,e])}(),m=nt(_n),d=m.failed,p=m.albums,f=m.newAlbums;n.a.useEffect((function(){i({type:"SEARCH_ALBUMS_PAGE__NEW_QUERY",payload:u})}),[i,u]),n.a.useEffect((function(){if(!d)return _(u),function(e,t){var r=window.setInterval(e,t);return function(){window.clearInterval(r)}}((function(){return _(u)}),t)}),[d,_,t,u]);var E=n.a.useCallback((function(){i({type:"SEARCH_ALBUMS_PAGE__SHOW_NEW_RESULTS"})}),[i]),b=n.a.useCallback((function(){i({type:"SEARCH_ALBUMS_PAGE__RETRY"})}),[i]),v=u,A=p,y={screen:n.a.useMemo((function(){if(!d&&p.length>0)return f.length>0?"HAS_NEW_RESULTS":"HAS_RESULTS";if(!d&&0===p.length)return"LOADING";if(d&&0===p.length)return"FALLBACK";throw new TypeError}),[p.length,d,f.length]),titleText:v,subTitleText:a,fallbackSubTitleText:l,newResultsButtonText:o,fallbackButtonText:c,feedItems:A,onNewResultsButtonClick:E,onFallbackButtonClick:b};return n.a.createElement(wn,y)},Bn=function(e){var t=e.searchInterval,r=void 0===t?bn.a:t;return n.a.createElement(En,null,n.a.createElement(jn,{searchInterval:r}))},xn=function(){return a.createElement(Ce.d,null,a.createElement(Ce.b,{exact:!0,path:Ie},a.createElement(Or,null)),a.createElement(Ce.b,{exact:!0,path:Se},a.createElement(Bn,null)),a.createElement(Ce.b,{exact:!0,path:Re},a.createElement(sn,null)),a.createElement(Ce.b,{path:"/"},a.createElement(Ce.a,{to:Ie}),"}"))};function Fn(){return(Fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Mn(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Un=n.a.createElement("path",{d:"M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1zm3.66 6.82l5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z"}),Wn=function(e){var t=e.svgRef,r=e.title,a=Mn(e,["svgRef","title"]);return n.a.createElement("svg",Fn({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Un)},Gn=n.a.forwardRef((function(e,t){return n.a.createElement(Wn,Fn({svgRef:t},e))})),Vn=(r.p,Gn);function Hn(){return(Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Yn(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var zn=n.a.createElement("path",{d:"M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z"}),Kn=function(e){var t=e.svgRef,r=e.title,a=Yn(e,["svgRef","title"]);return n.a.createElement("svg",Hn({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,zn)},Zn=n.a.forwardRef((function(e,t){return n.a.createElement(Kn,Hn({svgRef:t},e))})),qn=(r.p,Zn),Qn=r(60),Jn=r.n(Qn),Xn=function(e){var t=e.testId,r=e.className,n=void 0===r?"":r,l=Object(ge.a)(e,["testId","className"]);return a.createElement("button",Object.assign({},l,{className:"".concat(Jn.a.RoundButton__Button," ").concat(n),"data-testid":t}))},$n=r(15),el=r.n($n),tl=function(e){var t=e.children,r=e.playing;return a.createElement("div",{className:"".concat(el.a.PlaylistTrack__Wrapper," ").concat(r?el.a.PlaylistTrack__Wrapper_playing:"")},t)},rl=function(e){var t=e.children,r=e.disabled,n=e.onClick;return a.createElement("button",{disabled:r,className:el.a.PlaylistTrack__Button,type:"button",onClick:n},t)},al=function(e){var t=e.artistName,r=e.title;return n.a.createElement("div",{className:el.a.PlaylistTrack__Info},n.a.createElement("div",{className:el.a.PlaylistTrack__Title},r),n.a.createElement("div",{className:el.a.PlaylistTrack__Artist},t))},nl=function(e){var t=e.children;return a.createElement("div",{className:el.a.PlaylistTrack__SecondaryAction},t)},ll=function(e){var t=e.screen,r=e.artistName,a=e.title,l=e.onPlay,o=e.onRemove;return n.a.createElement(tl,{playing:"PLAYING"===t},n.a.createElement(rl,{onClick:l},n.a.createElement(al,{title:a,artistName:r})),n.a.createElement(nl,null,n.a.createElement(Xn,{onClick:o},n.a.createElement(Oa,null))))},ol=function(e){var t=e.track,r=t.id,n=t.artistName,l=t.title,o=Ft().playingTrackId===r,c=S(),u=a.useCallback((function(){c({type:"PLAYLIST_TRACK__REMOVE",payload:r})}),[c,r]),i=a.useCallback((function(){c({type:"PLAYLIST_TRACK__PLAY",payload:r})}),[c,r]),s=o?"PLAYING":"DEFAULT";return a.useMemo((function(){return a.createElement(ll,{screen:s,artistName:n,title:l,onRemove:u,onPlay:i})}),[s,n,l,u,i])},cl=r(22),ul=r.n(cl),il=function(e){return a.createElement("div",Object.assign({className:ul.a.PlaylistPopup__Wrapper},e))};function sl(){return(sl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function _l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ml=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),dl=n.a.createElement("path",{d:"M6 13h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1s.45 1 1 1zm-2 4h12c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm3-9c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1z"}),pl=function(e){var t=e.svgRef,r=e.title,a=_l(e,["svgRef","title"]);return n.a.createElement("svg",sl({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,ml,dl)},fl=n.a.forwardRef((function(e,t){return n.a.createElement(pl,sl({svgRef:t},e))})),El=(r.p,fl),bl=function(e){var t=e.tracksCount,r=e.onClearPlaylist;return a.createElement("div",{className:ul.a.PlaylistPopup__Header},a.createElement("div",{className:ul.a.PlaylistPopup__Count},t," tracks"),a.createElement("div",{className:ul.a.PlaylistPopup__Button},a.createElement(Te,{onClick:r},a.createElement(El,null))))},vl=function(e){return a.createElement("div",{className:ul.a.PlaylistPopup__Body},a.createElement("div",Object.assign({className:ul.a.PlaylistPopup__Content},e)))},Al=function(e){var t=Ft().playlist,r=S(),n=a.useCallback((function(){r({type:"PLAYLIST_POPUP__CLEAR"})}),[r]),l=a.useMemo((function(){return t.map((function(e){return a.createElement(ol,{track:e,key:e.id})}))}),[t]);return a.createElement(il,null,a.createElement(bl,{tracksCount:t.length,onClearPlaylist:n}),a.createElement(vl,null,l))},yl=r(35),Ol=r.n(yl),gl=function(e){var t=e.children;return a.createElement(xe,{position:"bottom"},a.createElement("div",{className:Ol.a.PlaylistControls__Wrapper},t),";")},Pl=function(e){var t=e.mod,r=e.children,n=function(){var e="".concat(Ol.a.PlaylistControls__Group);return"skip"===t?"".concat(e," ").concat(Ol.a.PlaylistControls__Group_skip):"close"===t?"".concat(e," ").concat(Ol.a.PlaylistControls__Group_player):void 0}();return a.createElement("div",{className:n},r)},hl=function(e){var t=S(),r=a.useCallback((function(){t({type:"PLAYLIST_CONTROLS__PLAY_NEXT"})}),[t]),n=a.useCallback((function(){t({type:"PLAYLIST_CONTROLS__PLAY_PREVIOUS"})}),[t]),l=a.useCallback((function(){t({type:"PLAYLIST_CONTROLS__CLOSE"})}),[t]);return a.createElement(gl,null,a.createElement(Pl,{mod:"skip"},a.createElement(Te,{onClick:n},a.createElement(Vn,null)),a.createElement(Te,{onClick:r},a.createElement(qn,null))),a.createElement(Pl,{mod:"close"},a.createElement(Te,{onClick:l},a.createElement(pa,null))),a.createElement(Al,null))};function Tl(){return(Tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Cl(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Il=n.a.createElement("path",{d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"}),Ll=function(e){var t=e.svgRef,r=e.title,a=Cl(e,["svgRef","title"]);return n.a.createElement("svg",Tl({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Il)},Sl=n.a.forwardRef((function(e,t){return n.a.createElement(Ll,Tl({svgRef:t},e))})),kl=(r.p,Sl);function Rl(){return(Rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Nl(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Dl=n.a.createElement("path",{d:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z"}),wl=function(e){var t=e.svgRef,r=e.title,a=Nl(e,["svgRef","title"]);return n.a.createElement("svg",Rl({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Dl)},jl=n.a.forwardRef((function(e,t){return n.a.createElement(wl,Rl({svgRef:t},e))})),Bl=(r.p,jl);function xl(){return(xl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Fl(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Ml=n.a.createElement("path",{d:"M14 6H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm0 4H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM4 16h6c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM19 6c-1.1 0-2 .9-2 2v6.18c-.31-.11-.65-.18-1-.18-1.84 0-3.28 1.64-2.95 3.54.21 1.21 1.2 2.2 2.41 2.41 1.9.33 3.54-1.11 3.54-2.95V8h2c.55 0 1-.45 1-1s-.45-1-1-1h-2z"}),Ul=function(e){var t=e.svgRef,r=e.title,a=Fl(e,["svgRef","title"]);return n.a.createElement("svg",xl({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.a.createElement("title",null,r):null,Ml)},Wl=n.a.forwardRef((function(e,t){return n.a.createElement(Ul,xl({svgRef:t},e))})),Gl=(r.p,Wl),Vl=r(19),Hl=r.n(Vl),Yl=function(e){var t=e.title,r=e.artistName;return a.createElement("div",{className:Hl.a.PlaybackControls__Info},a.createElement("span",{className:Hl.a.PlaybackControls__Title},t),a.createElement("span",{className:Hl.a.PlaybackControls__Artist},r))},zl=function(e){var t=e.children,r=e.mod,n=function(){var e="".concat(Hl.a.PlaybackControls__Group);return"player"===r?"".concat(e," ").concat(Hl.a.PlaybackControls__Group_player):"playlist"===r?"".concat(e," ").concat(Hl.a.PlaybackControls__Group_playlist):void 0}();return a.createElement("div",{className:n},t)},Kl=function(e){var t=e.children;e.toRight;return a.createElement(xe,{position:"bottom"},a.createElement("div",{className:Hl.a.PlaybackControls__Wrapper},t))},Zl=function(e){var t=e.screen,r=e.title,n=e.artistName,l=e.onPlaybackButtonClick,o=e.onPlaylistButtonClick;return a.createElement(Kl,null,a.createElement(zl,{mod:"player"},a.createElement(Te,{disabled:"PENDING"===t||"FAILED"===t,onClick:l},"PLAYING"===t&&a.createElement(Bl,null),"PAUSED"===t&&a.createElement(Zt,null),"FAILED"===t&&a.createElement(kl,null),"PENDING"===t&&a.createElement(Bt,null))),a.createElement(Yl,{title:r,artistName:n}),a.createElement(zl,{mod:"playlist"},a.createElement(Te,{onClick:o},a.createElement(Gl,null))))},ql=function(){var e=S(),t=function(){var e=Ft(),t=e.playlist,r=e.playingTrackId,a=t.find((function(e){return e.id===r}));if(!a)throw new TypeError;return a}(),r=t.title,n=t.artistName,l=Ft().audioStatus,o=a.useCallback((function(){"PLAYING"===l&&e({type:"PLAYBACK_CONTROLS__PAUSE"}),"PAUSED"===l&&e({type:"PLAYBACK_CONTROLS__PLAY"})}),[l,e]),c=a.useCallback((function(){e({type:"PLAYBACK_CONTROLS__OPEN_PLAYLIST"})}),[e]),u={screen:function(){switch(l){case"PLAYING":return"PLAYING";case"PAUSED":return"PAUSED";case"PENDING":return"PENDING";case"FAILED":return"FAILED";default:throw new we.e(l)}}(),title:r,artistName:n,onPlaybackButtonClick:o,onPlaylistButtonClick:c};return a.createElement(Zl,u)},Ql=function(){var e=S(),t="PAUSED"===Ft().audioStatus,r=a.useRef(new Audio),n=a.useCallback((function(){var e=r.current;e.src&&(e.removeAttribute("src"),e.load())}),[]),l=a.useCallback((function(e){var a=r.current;a.src!==e&&(a.src=e,t||a.play())}),[t]);return a.useEffect((function(){var e=r.current;t&&!e.paused&&e.pause(),!t&&e.paused&&e.play()}),[t]),a.useEffect((function(){var t=r.current,a=function(){e({type:"AUDIO__WAITING"})},n=function(){e({type:"AUDIO__PAUSED"})},l=function(){e({type:"AUDIO__PLAYING"})},o=function(){e({type:"AUDIO__ENDED"})},c=function(r){e({type:"AUDIO__FAILED",payload:t.error||null})};return t.addEventListener("pause",n),t.addEventListener("waiting",a),t.addEventListener("playing",l),t.addEventListener("ended",o),t.addEventListener("error",c),function(){t.removeEventListener("pause",n),t.removeEventListener("waiting",a),t.removeEventListener("playing",l),t.removeEventListener("ended",o),t.removeEventListener("error",c)}}),[e]),{play:l,stop:n}},Jl=function(){var e=Ql(),t=e.play,r=e.stop,n=function(){var e=Ft(),t=e.playlist,r=e.playingTrackId,a=t.find((function(e){return e.id===r}));return a?a.audioSrc:null}();a.useEffect((function(){n?t(n):r()}),[t,r,n]),a.useEffect((function(){return r}),[r]);var l=Ft(),o=l.primaryControls,c=l.secondaryControls,u=Ft().playingTrackId,i=null!==u&&"PLAYBACK"===c,s=null!==u&&"PLAYLIST"===c,_="SEARCH"===o,m="OVERVIEW"===o;return a.createElement(a.Fragment,null,a.createElement(xn,null),_&&a.createElement(Ve,null),m&&a.createElement(bt,null),s&&a.createElement(hl,null),i&&a.createElement(ql,null))},Xl=r(43),$l=r.n(Xl),eo=function(e){var t=e.children;return a.createElement("div",{className:$l.a.App__Wrapper,"data-testid":x},t)},to=function(){return a.createElement("div",{"data-testid":F,className:$l.a.App__Loader},a.createElement(Bt,null))},ro=function(e){!function(){var e=I().getIntl,t=L(),r=Object(s.a)(t,2),n=r[0],l=r[1],o=S();a.useEffect((function(){l(e())}),[e,l]),a.useEffect((function(){if(n){var e=n.pending,t=n.value;e&&o({type:"GET_INTL",status:"PENDING"}),t&&o({type:"GET_INTL",status:"RESOLVED",payload:t})}}),[o,l,n])}();var t=lt().activeScreen;return a.createElement(eo,null,"LOADING"===t&&a.createElement(to,null),"PLAYER"===t&&a.createElement(C,null,a.createElement(Jl,null)))},ao=r(61),no=r.n(ao),lo=function(e){var t=e.children;return a.createElement("div",{className:no.a.ThemeProvider__Wrapper},t)},oo=function(e){var t=e.children;return a.createElement(lo,null,t)},co=r(27),uo=r(62),io=r(29),so=r(18),_o=r(28),mo=function(e){function t(){var e,r;Object(co.a)(this,t);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return(r=Object(io.a)(this,(e=Object(so.a)(t)).call.apply(e,[this].concat(n)))).state={error:null},r}return Object(_o.a)(t,e),Object(uo.a)(t,[{key:"componentDidCatch",value:function(e){0}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.fallbackView,a=e.constructors,n=this.state.error;if(null!==n){if(a.some((function(e){return n instanceof e})))return r(n);throw n}return t}}],[{key:"getDerivedStateFromError",value:function(e){if(e instanceof Error)return{error:e};throw new TypeError("ErrorBoundary accepts only instances of Error.")}}]),t}(a.Component),po=r(50),fo=r.n(po),Eo=function(e){var t=e.message;return a.createElement("div",{className:fo.a.RootFallback__Wrapper},a.createElement("p",{className:fo.a.RootFallback__Text},t))},bo=function(e){var t=e.children;return a.createElement(mo,{constructors:[TypeError],fallbackView:Eo},t)},vo=document.getElementById("root");if(vo){var Ao=r(75).productionService;o.a.render(n.a.createElement((function(e){var t=e.service,r=e.routerBasename;return a.createElement(c.a,{basename:r},a.createElement(i.Provider,{value:t},a.createElement(oo,null,a.createElement(bo,null,a.createElement(b,null,a.createElement(ro,null))))))}),{service:Ao}),vo)}}],[[63,1,2]]]);
//# sourceMappingURL=main.b0658a09.chunk.js.map